/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 */

/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */

/* ====================================================================
 |
 |   Amber Smalltalk
 |   http://amber-lang.net
 |
 ======================================================================

 ======================================================================
 |
 | Copyright (c) 2010-2014
 | Nicolas Petton <petton.nicolas@gmail.com>
 |
 | Copyright (c) 2012-2019
 | The Amber team https://lolg.it/org/amber/members
 | Amber contributors (see /CONTRIBUTORS)
 |
 | Amber is released under the MIT license
 |
 | Permission is hereby granted, free of charge, to any person obtaining
 | a copy of this software and associated documentation files (the
 | 'Software'), to deal in the Software without restriction, including
 | without limitation the rights to use, copy, modify, merge, publish,
 | distribute, sublicense, and/or sell copies of the Software, and to
 | permit persons to whom the Software is furnished to do so, subject to
 | the following conditions:
 |
 | The above copyright notice and this permission notice shall be
 | included in all copies or substantial portions of the Software.
 |
 | THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 | EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 | MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 | IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 | CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 | TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 | SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 |
 ==================================================================== */

/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */

/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */

var requirejs,require,define;!function(global,setTimeout){function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,o){!n&&hasProp(e,o)||(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[o]=t:(e[o]||(e[o]={}),mixin(e[o],t,n,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var o=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return o.requireType=e,o.requireModules=r,n&&(o.originalError=n),o}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var o,s,a,i,c,l,u,d,m,h,f,p=n&&n.split("/"),g=C.map,_=g&&g["*"];if(e&&(e=e.split("/"),l=e.length-1,C.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&p&&(f=p.slice(0,p.length-1),e=f.concat(e)),t(e),e=e.join("/")),r&&g&&(p||_)){s=e.split("/");e:for(a=s.length;a>0;a-=1){if(c=s.slice(0,a).join("/"),p)for(i=p.length;i>0;i-=1)if((o=getOwn(g,p.slice(0,i).join("/")))&&(o=getOwn(o,c))){u=o,d=a;break e}!m&&_&&getOwn(_,c)&&(m=getOwn(_,c),h=a)}!u&&m&&(u=m,d=h),u&&(s.splice(0,d,u),e=s.join("/"))}return getOwn(C.pkgs,e)||e}function r(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===b.contextName)return t.parentNode.removeChild(t),!0})}function o(e){var t=getOwn(C.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),b.require.undef(e),b.makeRequire(null,{skipMap:!0})([e]),!0}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e,t,r,o){var a,i,c,l,u=null,d=t?t.name:null,m=e,h=!0,f="";return e||(h=!1,e="_@r"+(O+=1)),l=s(e),u=l[0],e=l[1],u&&(u=n(u,d,o),i=getOwn(T,u)),e&&(u?f=r?e:i&&i.normalize?i.normalize(e,function(e){return n(e,d,o)}):-1===e.indexOf("!")?n(e,d,o):e:(f=n(e,d,o),l=s(f),u=l[0],f=l[1],r=!0,a=b.nameToUrl(f))),c=!u||i||r?"":"_unnormalized"+(N+=1),{prefix:u,name:f,parentMap:t,unnormalized:!!c,url:a,originalName:m,isDefine:h,id:(u?u+"!"+f:f)+c}}function i(e){var t=e.id,n=getOwn($,t);return n||(n=$[t]=new b.Module(e)),n}function c(e,t,n){var r=e.id,o=getOwn($,r);!hasProp(T,r)||o&&!o.defineEmitComplete?(o=i(e),o.error&&"error"===t?n(o.error):o.on(t,n)):"defined"===t&&n(T[r])}function l(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn($,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function u(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(b.defQueueMap[t]=!0),k.push(e)}),globalDefQueue=[])}function d(e){delete $[e],delete x[e]}function m(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,o){var s=r.id,a=getOwn($,s);!a||e.depMatched[o]||n[s]||(getOwn(t,s)?(e.defineDep(o,T[s]),e.check()):m(a,t,n))}),n[r]=!0)}function h(){var e,t,n=1e3*C.waitSeconds,s=n&&b.startTime+n<(new Date).getTime(),a=[],i=[],c=!1,u=!0;if(!v){if(v=!0,eachProp(x,function(e){var n=e.map,l=n.id;if(e.enabled&&(n.isDefine||i.push(e),!e.error))if(!e.inited&&s)o(l)?(t=!0,c=!0):(a.push(l),r(l));else if(!e.inited&&e.fetched&&n.isDefine&&(c=!0,!n.prefix))return u=!1}),s&&a.length)return e=makeError("timeout","Load timeout for modules: "+a,null,a),e.contextName=b.contextName,l(e);u&&each(i,function(e){m(e,{},{})}),s&&!t||!c||!isBrowser&&!isWebWorker||M||(M=setTimeout(function(){M=0,h()},50)),v=!1}}function f(e){hasProp(T,e[0])||i(a(e[0],null,!0)).init(e[1],e[2])}function p(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return p(t,b.onScriptLoad,"load","onreadystatechange"),p(t,b.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function _(){var e;for(u();k.length;){if(e=k.shift(),null===e[0])return l(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}b.defQueueMap={}}var v,S,b,y,M,C={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},$={},x={},w={},k=[],T={},A={},P={},O=1,N=1;return y={require:function(e){return e.require?e.require:e.require=b.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?T[e.map.id]=e.exports:e.exports=T[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(C.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},S=function(e){this.events=getOwn(w,e.id)||{},this.map=e,this.shim=getOwn(C.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},S.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,b.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();b.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;A[e]||(A[e]=!0,b.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,o=this.exports,s=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(s)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{o=b.execCb(n,s,r,o)}catch(t){e=t}else o=b.execCb(n,s,r,o);if(this.map.isDefine&&void 0===o&&(t=this.module,t?o=t.exports:this.usingExports&&(o=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else o=s;if(this.exports=o,this.map.isDefine&&!this.ignore&&(T[n]=o,req.onResourceLoad)){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(b,this.map,a)}d(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(b.defQueueMap,n)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=a(e.prefix);this.depMaps.push(r),c(r,"defined",bind(this,function(r){var o,s,u,m=getOwn(P,this.map.id),h=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,p=b.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(h=r.normalize(h,function(e){return n(e,f,!0)})||""),s=a(e.prefix+"!"+h,this.map.parentMap,!0),c(s,"defined",bind(this,function(e){this.map.normalizedMap=s,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((u=getOwn($,s.id))&&(this.depMaps.push(s),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()))):m?(this.map.url=b.nameToUrl(m),void this.load()):(o=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),o.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp($,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),l(e)}),o.fromText=bind(this,function(n,r){var s=e.name,c=a(s),u=useInteractive;r&&(n=r),u&&(useInteractive=!1),i(c),hasProp(C.config,t)&&(C.config[s]=C.config[t]);try{req.exec(n)}catch(e){return l(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}u&&(useInteractive=!0),this.depMaps.push(c),b.completeLoad(s),p([s],o)}),void r.load(e.name,p,o,C))})),b.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){x[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,o;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(y,e.id))return void(this.depExports[t]=o(this));this.depCount+=1,c(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?c(e,"error",bind(this,this.errback)):this.events.error&&c(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=$[n],hasProp(y,n)||!r||r.enabled||b.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn($,e.id);t&&!t.enabled&&b.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},b={config:C,contextName:e,registry:$,defined:T,urlFetched:A,defQueue:k,defQueueMap:{},Module:S,makeModuleMap:a,nextTick:req.nextTick,onError:l,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,n){return(-1===n.indexOf("?")?"?":"&")+t}}var n=C.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(C[t]||(C[t]={}),mixin(C[t],e,!0,!0)):C[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(P[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=b.makeShimExports(e)),n[t]=e}),C.shim=n),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(C.paths[n]=e.location),C.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp($,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t,null,!0))}),(e.deps||e.callback)&&b.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,o){function s(n,r,c){var u,d,m;return o.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?l(makeError("requireargs","Invalid require call"),c):t&&hasProp(y,n)?y[n]($[t.id]):req.get?req.get(b,n,t,s):(d=a(n,t,!1,!0),u=d.id,hasProp(T,u)?T[u]:l(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(_(),b.nextTick(function(){_(),m=i(a(null,t)),m.skipMap=o.skipMap,m.init(n,r,c,{enabled:!0}),h()}),s)}return o=o||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var r,o=e.lastIndexOf("."),s=e.split("/")[0],a="."===s||".."===s;return-1!==o&&(!a||o>1)&&(r=e.substring(o,e.length),e=e.substring(0,o)),b.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(T,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(T,e)||hasProp($,e)}}),t||(s.undef=function(e){u();var n=a(e,t,!0),o=getOwn($,e);o.undefed=!0,r(e),delete T[e],delete A[n.url],delete w[e],eachReverse(k,function(t,n){t[0]===e&&k.splice(n,1)}),delete b.defQueueMap[e],o&&(o.events.defined&&(w[e]=o.events),d(e))}),s},enable:function(e){getOwn($,e.id)&&i(e).enable()},completeLoad:function(e){var t,n,r,s=getOwn(C.shim,e)||{},a=s.exports;for(u();k.length;){if(n=k.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);f(n)}if(b.defQueueMap={},r=getOwn($,e),!t&&!hasProp(T,e)&&r&&!r.inited){if(!(!C.enforceDefine||a&&getGlobal(a)))return o(e)?void 0:l(makeError("nodefine","No define call for "+e,null,[e]));f([e,s.deps||[],s.exportsFn])}h()},nameToUrl:function(e,t,n){var r,o,s,a,i,c,l,u=getOwn(C.pkgs,e);if(u&&(e=u),l=getOwn(P,e))return b.nameToUrl(l,t,n);if(req.jsExtRegExp.test(e))i=e+(t||"");else{for(r=C.paths,o=e.split("/"),s=o.length;s>0;s-=1)if(a=o.slice(0,s).join("/"),c=getOwn(r,a)){isArray(c)&&(c=c[0]),o.splice(0,s,c);break}i=o.join("/"),i+=t||(/^data\:|^blob\:|\?/.test(i)||n?"":".js"),i=("/"===i.charAt(0)||i.match(/^[\w\+\.\-]+:/)?"":C.baseUrl)+i}return C.urlArgs&&!/^blob\:/.test(i)?i+C.urlArgs(e,i):i},load:function(e,t){req.load(b,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);b.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);if(!o(t.id)){var n=[];return eachProp($,function(e,r){0!==r.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return n.push(r),!0})}),l(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},b.require=b.makeRequire(),b}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var o,s,a=defContextName;return isArray(e)||"string"==typeof e||(s=e,isArray(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(a=s.context),o=getOwn(contexts,a),o||(o=contexts[a]=req.s.newContext(a)),s&&o.configure(s),o.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],(baseElement=document.getElementsByTagName("base")[0])&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r,o=e&&e.config||{};if(isBrowser)return r=req.createNode(o,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,o.onNodeCreated&&o.onNodeCreated(r,o,t,n),currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),e.completeLoad(t)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,r,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,o;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e||(e=r.getAttribute("data-requiremodule")),o=contexts[r.getAttribute("data-requirecontext")]),o?(o.defQueue.push([e,t,n]),o.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),define("node_modules/requirejs/require",function(){});var require;require||(require={config:function(e){require=e}}),require.config({paths:{"amber/es6-promise":"node_modules/es6-promise/dist/es6-promise",tingle:"node_modules/tingle.js/dist/tingle","require-css":"node_modules/require-css",mousetrap:"node_modules/mousetrap/mousetrap",typeahead:"node_modules/typeahead.js/dist/typeahead.jquery","helios/showdown":"node_modules/showdown/src/showdown",requireJS:"node_modules/requirejs/require",jquery:"node_modules/jquery/dist/jquery","jquery-ui":"node_modules/jquery-ui-dist/jquery-ui","helios/es6-promise/auto":"node_modules/es6-promise/dist/es6-promise.auto",codemirror:"node_modules/codemirror",bootstrap:"node_modules/bootstrap/dist",silk:"node_modules/@ambers/silk/src",amber:"node_modules/@ambers/lang/base","amber/core":"node_modules/@ambers/lang/src","amber-ide-starter-dialog":"node_modules/@ambers/ide-starter-modal/lib/idestarter",helios:"node_modules/@ambers/helios/src","helios/resources":"node_modules/@ambers/helios/resources","helios/app":"node_modules/@ambers/helios/app","helios/polyfills":"node_modules/@ambers/helios/polyfills","helios/index":"node_modules/@ambers/helios/index",domite:"node_modules/@ambers/domite/src","amber/web":"node_modules/@ambers/contrib-web/src","amber/legacy":"node_modules/@ambers/contrib-legacy/src","amber/legacy/resources":"node_modules/@ambers/contrib-legacy/resources","amber/jquery":"node_modules/@ambers/contrib-jquery/src","amber-miesmuschel":"src"},map:{"*":{css:"require-css/css",amber_core:"amber/core"}},shim:{typeahead:{deps:["jquery"],exports:"jQuery.fn.typeahead"},"jquery-ui":{deps:["jquery","jquery"]},"codemirror/lib/codemirror":{deps:["css!codemirror/lib/codemirror","css!codemirror/lib/codemirror"]},"bootstrap/js/bootstrap":{deps:["jquery","css!bootstrap/css/bootstrap"]}}}),define("config",function(){}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("es6-promise/auto",t):e.ES6Promise=t()}(this,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}function n(e){J=e}function r(e){q=e}function o(){return void 0!==B?function(){B(a)}:s()}function s(){var e=setTimeout;return function(){return e(a,1)}}function a(){for(var e=0;e<D;e+=2){(0,H[e])(H[e+1]),H[e]=void 0,H[e+1]=void 0}D=0}function i(e,t){var n=this,r=new this.constructor(l);void 0===r[V]&&x(r);var o=n._state;if(o){var s=arguments[o-1];q(function(){return M(o,r,s,n._result)})}else b(n,r,e,t);return r}function c(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(l);return g(n,e),n}function l(){}function u(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function m(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function h(e,t,n){q(function(e){var r=!1,o=m(n,t,function(n){r||(r=!0,t!==n?g(e,n):v(e,n))},function(t){r||(r=!0,S(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,S(e,o))},e)}function f(e,t){t._state===U?v(e,t._result):t._state===Q?S(e,t._result):b(t,void 0,function(t){return g(e,t)},function(t){return S(e,t)})}function p(e,n,r){n.constructor===e.constructor&&r===i&&n.constructor.resolve===c?f(e,n):void 0===r?v(e,n):t(r)?h(e,n,r):v(e,n)}function g(t,n){if(t===n)S(t,u());else if(e(n)){var r=void 0;try{r=n.then}catch(e){return void S(t,e)}p(t,n,r)}else v(t,n)}function _(e){e._onerror&&e._onerror(e._result),y(e)}function v(e,t){e._state===W&&(e._result=t,e._state=U,0!==e._subscribers.length&&q(y,e))}function S(e,t){e._state===W&&(e._state=Q,e._result=t,q(_,e))}function b(e,t,n,r){var o=e._subscribers,s=o.length;e._onerror=null,o[s]=t,o[s+U]=n,o[s+Q]=r,0===s&&e._state&&q(y,e)}function y(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,s=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?M(n,r,o,s):o(s);e._subscribers.length=0}}function M(e,n,r,o){var s=t(r),a=void 0,i=void 0,c=!0;if(s){try{a=r(o)}catch(e){c=!1,i=e}if(n===a)return void S(n,d())}else a=o;n._state!==W||(s&&c?g(n,a):!1===c?S(n,i):e===U?v(n,a):e===Q&&S(n,a))}function C(e,t){try{t(function(t){g(e,t)},function(t){S(e,t)})}catch(t){S(e,t)}}function $(){return G++}function x(e){e[V]=G++,e._state=void 0,e._result=void 0,e._subscribers=[]}function w(){return new Error("Array Methods must be provided an Array")}function k(e){return new X(this,e).promise}function T(e){var t=this;return new t(E(e)?function(n,r){for(var o=e.length,s=0;s<o;s++)t.resolve(e[s]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function A(e){var t=this,n=new t(l);return S(n,e),n}function P(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=Z}var j=void 0;j=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var E=j,D=0,B=void 0,J=void 0,q=function(e,t){H[D]=e,H[D+1]=t,2===(D+=2)&&(J?J(a):K())},I="undefined"!=typeof window?window:void 0,z=I||{},R=z.MutationObserver||z.WebKitMutationObserver,F="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),L="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,H=new Array(1e3),K=void 0;K=F?function(){return function(){return process.nextTick(a)}}():R?function(){var e=0,t=new R(a),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():L?function(){var e=new MessageChannel;return e.port1.onmessage=a,function(){return e.port2.postMessage(0)}}():void 0===I&&"function"==typeof require?function(){try{var e=Function("return this")().require("vertx");return B=e.runOnLoop||e.runOnContext,o()}catch(e){return s()}}():s();var V=Math.random().toString(36).substring(2),W=void 0,U=1,Q=2,G=0,X=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(l),this.promise[V]||x(this.promise),E(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?v(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&v(this.promise,this._result))):S(this.promise,w())}return e.prototype._enumerate=function(e){for(var t=0;this._state===W&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===c){var o=void 0,s=void 0,a=!1;try{o=e.then}catch(e){a=!0,s=e}if(o===i&&e._state!==W)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===Z){var u=new n(l);a?S(u,s):p(u,e,o),this._willSettleAt(u,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===W&&(this._remaining--,e===Q?S(r,n):this._result[t]=n),0===this._remaining&&v(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;b(e,void 0,function(e){return n._settledAt(U,t,e)},function(e){return n._settledAt(Q,t,e)})},e}(),Z=function(){function e(t){this[V]=$(),this._result=this._state=void 0,this._subscribers=[],l!==t&&("function"!=typeof t&&P(),this instanceof e?C(this,t):O())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=this,r=n.constructor;return t(e)?n.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})}):n.then(e,e)},e}();return Z.prototype.then=i,Z.all=k,Z.race=T,Z.resolve=c,Z.reject=A,Z._setScheduler=n,Z._setAsap=r,Z._asap=q,Z.polyfill=N,Z.Promise=Z,Z.polyfill(),Z}),define("amber/kernel-checks",[],function(){"use strict";function e(e){try{if(e())return}catch(t){throw new Error("Error:\n"+t+"in assertion:\n"+e)}throw new Error("Assertion failed:\n"+e)}e(function(){return!("hasOwnProperty"in Object.create(null))}),e(function(){return null===Object.getPrototypeOf(Object.create(null))}),e(function(){var e={};return Object.getPrototypeOf(Object.create(e))===e}),e(function(){var e={x:4,y:5},t={x:6};return Object.setPrototypeOf(t,e)===t&&6===t.x&&5===t.y}),e(function(){return"undefined"!=typeof global}),e(function(){return global.Object===Object}),e(function(){return Object.create(global).Object===Object}),e(function(){return void 0===function(){return this}.apply(void 0)}),e(function(){return null===function(){return this}.apply(null)}),e(function(){return 3===function(){return this}.apply(3)}),e(function(){return"foo"===function(){return this}.apply("foo")}),e(function(){return!0===function(){return this}.apply(!0)}),e(function(){var e=Object.freeze({});try{e.foo="bar"}catch(e){}return null==e.foo}),e(function(){return"function"==typeof Promise}),e(function(){return"function"==typeof Promise.resolve}),e(function(){return"function"==typeof Promise.reject}),e(function(){return"function"==typeof new Promise(function(){}).then})}),define("amber/brikz",[],function(){return function(e,t,n,r){"use strict";function o(e,t,n){for(var r=Object.keys(n||e),o=r.length,s=0;s<o;++s)if(null==e)t[r[s]]=void 0;else{var a=e[r[s]];void 0!==a&&(t[r[s]]=a)}return t}var s={};return t=t||"exports",n=n||"__init__",r=r||"backup",function a(){function i(n){for(var c=a[n],d=s[n];"function"==typeof c;)(c.deps||[]).forEach(i),c[r]=d,o(null,e,e),c=new c(a,e);a[n]=c,c&&!u[n]&&(u[n]=!0,l.push(c)),c&&!c[t]&&(c[t]=o(e,{}))}Object.keys(s).forEach(function(n){o(null,e,(s[n]||0)[t]||{})});var c=o(e,{}),l=[],u={};Object.keys(a).forEach(i),o(c,o(null,e,e)),l.forEach(function(n){o(n[t]||{},e)}),l.forEach(function(e){e[n]&&(e[n](),e[n].once&&delete e[n])}),s=o(a,{})}}}),define("amber/junk-drawer",[],function(){"use strict";function e(e,t){return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,configurable:!0,writable:!0}}),e}function t(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,configurable:!0,writable:!0})}function n(){}function r(e,r){null==e[r]&&t(e,r,n)}function o(e){return"_"+e.replace(/[:&|+\-*/\\~%><=,@]/g,function(e){return h[e]})}function s(e){return e.match(/^__/)?i(e):a(e)}function a(e){return e.replace(/^_/,"").replace(/_/g,":")}function i(e){return e.replace(/^_/,"").replace(/_and/g,"&").replace(/_or/g,"|").replace(/_plus/g,"+").replace(/_minus/g,"-").replace(/_star/g,"*").replace(/_slash/g,"/").replace(/_backslash/g,"\\").replace(/_tild/g,"~").replace(/_percent/g,"%").replace(/_gt/g,">").replace(/_lt/g,"<").replace(/_eq/g,"=").replace(/_comma/g,",").replace(/_at/g,"@")}function c(e,t){void 0!==t&&-1===e.indexOf(t)&&e.push(t)}function l(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function u(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function d(e,n){return Object.keys(n).forEach(function(r){t(e,r,n[r])}),e}function m(e,t){e.forEach(function(e){delete t[e]})}var h={":":"_","&":"_and","|":"_or","+":"_plus","-":"_minus","*":"_star","/":"_slash","\\":"_backslash","~":"_tild","%":"_percent",">":"_gt","<":"_lt","=":"_eq",",":"_comma","@":"_at"};return{deleteKeysFrom:m,extendWithMethods:d,extend:u,removeElement:l,addElement:c,js2st:s,st2js:o,declareJsMethod:r,installMethodOfJsObject:t,inherits:e}}),define("amber/kernel-fundamentals",["./junk-drawer"],function(e){"use strict";function t(e,t){var n=Object.create(null),r=this.selectors=[];this.registerSelector=function(e){return!n[e]&&(r.push(e),n[e]=!0)},t.allSelectors=function(){return r}}function n(e,t){t.packageDescriptors={},t.addPackage=function(e,n){return e?t.packageDescriptors[e]={properties:n}:null}}function r(e,r){function l(e){s(r,e)}function u(e,t){function n(){}function r(){}function s(){}p.ProtoObject=o(r,n),p.Object=o(s,r),this.Root=n,this.Object=s}function d(t,n){function o(t){return e[t.name]=t,a(c,t),t.added(),r.behavioralAdded(t),t}function s(t){return r.behavioralRemoved(t),t.removed(),i(c,t),delete e[t.name],t}var c=[];this.buildTraitOrClass=function(t){var n=e.hasOwnProperty(t.name)&&e[t.name];return n?(t.updateExisting(n),n):o(t.make())},l("behavioralAdded"),l("behavioralRemoved"),this.removeTraitOrClass=s,n.traitsOrClasses=this.traitsOrClasses=c}function m(e,t){function n(){}function s(e){function t(e){u(e)&&n.push(e)}var n=[];t(e.selector),e.messageSends.forEach(t),r.selectorsAdded(n)}function a(e,t){var n=e.localMethods;e.localMethods=t;var r;for(r in t)i(r,e);for(r in n)i(r,e)}function i(e,t){var n,o=t.localMethods[e],s=t.methods;if(c.call(s,e)){if(n=s[e],o===n)return}else{if(null==o)return void console.warn("Removal of nonexistent method "+t+" >> "+e);n=null}null!=o?(o.methodClass&&o.methodClass!==t&&console.warn("Resetting methodClass of "+o.methodClass.name+" >> "+e+" to "+t.name),o.methodClass=t,s[e]=o,t.methodAdded(o)):(delete s[e],t.methodRemoved(n)),r.methodReplaced(o,n,t)}var u=e.selectors.registerSelector,d=e.root.Object;p.CompiledMethod=o(n,d),t.method=function(e,t){var r=new n;return r.selector=e.selector,r.args=e.args||[],r.protocol=e.protocol,r.source=e.source,r.pragmas=e.pragmas,r.messageSends=e.messageSends||[],r.referencedClasses=e.referencedClasses||[],r.fn=e.fn,t&&(r.instantiateFn=t),r},t.addMethod=function(e,t){if(null!=e.owner)throw new Error("addMethod: Method "+e.selector+" already bound to "+e.owner);e.owner=t,s(e),t.localMethods[e.selector]=e,i(e.selector,t)},l("selectorsAdded"),t.removeMethod=function(e,t){t.localMethods[e.selector]===e&&(delete t.localMethods[e.selector],i(e.selector,t))},this.setupMethods=function(e){e.localMethods=Object.create(null);var t=e.superclass;e.methods=Object.create(t?t.methods:null)},this.setLocalMethods=a,l("methodReplaced"),this.updateMethod=i}function h(e,t){function n(){}var r=e.root.Object;p.UndefinedObject=o(n,r),this.nilAsReceiver=new n,this.nilAsValue=this.nilAsReceiver,
Object.defineProperty(this.nilAsReceiver,"a$nil",{value:!0,enumerable:!1,configurable:!1,writable:!1})}function f(e){e.root=u,e.nil=h,e.selectors=t,e.packages=n,e.behaviorals=d,e.methods=m,e()}var p=Object.create(null);return d.deps=["root"],m.deps=["selectors","root"],h.deps=["root"],{configure:f,specialConstructors:p}}var o=e.inherits,s=e.declareJsMethod,a=e.addElement,i=e.removeElement,c=Object.prototype.hasOwnProperty;return r}),define("amber/kernel-language",["./junk-drawer"],function(e){"use strict";function t(e,t){function n(e,n){var r=t.method(n,n.instantiateFn);return n.selector!==e&&(r.selector=e,r.source='"Aliased as '+e+'"\n'+n.source),r.owner=n.owner,r}function r(e,t){var r=e.trait.methods;Object.keys(r).forEach(function(e){t[e]=n(e,r[e])});var o=e.aliases;o&&Object.keys(o).forEach(function(e){var s=r[o[e]];s&&(t[e]=n(e,s))});var s=e.exclusions;return s&&c(s,t),t}function o(e){return e.reduce(function(e,t){return r(t,Object.create(e))},null)}function l(e,t){if(!t)return[e];var n=Object.keys(t).filter(function(n){return t[n]===e});return t[e]||n.push(e),n}function u(e,t,r,o){var s=l(e,r.aliases);s.forEach(function(e){o[e]=n(e,t)});var a=r.exclusions;return a&&c(a,o),s}function d(e,t,n){var r=l(e,t.aliases);return c(r,n),r}function m(e,t,n,r){for(var o=r.traitComposition,s=r.localMethods,a=[],i=o.length-1;i>=0;--i){s=Object.getPrototypeOf(s);var c=o[i];c.trait===n&&a.push.apply(a,t?u(e,t,c,s):d(e,c,s))}a.forEach(function(e){f(e,r)})}var h=e.methods.setLocalMethods,f=e.methods.updateMethod;t.setTraitComposition=function(e,t){var n=t.localMethods,r=Object.create(o(e));h(t,i(r,n)),(t.traitComposition||[]).forEach(function(e){a(e.trait.traitUsers,t)}),t.traitComposition=e&&e.length?e:null,(t.traitComposition||[]).forEach(function(e){s(e.trait.traitUsers,t)})},this.traitMethodChanged=m}function n(e,n){function i(e){o(n,e)}function c(t,n){function s(){}function a(e,t,n){e.traitUsers.forEach(function(r){u(t,n,e,r)})}function i(e,t){return{name:e,make:function(){var n=new s;return n.name=e,n.category=t,n.traitUsers=[],l(n),n},updateExisting:function(e){}}}var c=t.root.Object,l=t.methods.setupMethods,u=t.composition.traitMethodChanged,d=t.behaviorals.buildTraitOrClass;e.Trait=r(s,c),s.prototype.trait=!0,o(s.prototype,"toString"),o(s.prototype,"added"),o(s.prototype,"removed"),o(s.prototype,"methodAdded"),o(s.prototype,"methodRemoved"),s.prototype.toString=function(){return"Smalltalk Trait "+this.name},s.prototype.methodAdded=function(e){a(this,e.selector,e)},s.prototype.methodRemoved=function(e){a(this,e.selector,null)},n.addTrait=function(e,t){return d(i(e,t))}}function l(t,c){function l(){}function u(){}function d(){}function m(e){s((e.superclass||v).subclasses,e)}function h(e){a((e.superclass||v).subclasses,e)}function f(e){return e.instanceClass.subclasses.filter(function(e){return!e.meta}).map(function(e){return e.a$cls})}var p=t.root.Root,g=t.root.Object,_=t.nil.nilAsReceiver;this.newMetaclass=function(){return new d},e.Behavior=r(l,g),e.Class=r(u,l),e.Metaclass=r(d,l),d.prototype.meta=!0,o(u.prototype,"toString"),o(d.prototype,"toString"),o(u.prototype,"added"),o(u.prototype,"removed"),o(l.prototype,"methodAdded"),o(l.prototype,"methodRemoved"),u.prototype.toString=function(){return"Smalltalk "+this.name},d.prototype.toString=function(){return"Smalltalk Metaclass "+this.instanceClass.name},i("classCreated"),u.prototype.added=function(){m(this),n.classCreated(this)},u.prototype.removed=function(){h(this)},i("behaviorMethodAdded"),l.prototype.methodAdded=function(e){n.behaviorMethodAdded(e,this)},i("behaviorMethodRemoved"),l.prototype.methodRemoved=function(e){n.behaviorMethodRemoved(e,this)};var v=this.nilAsClass={fn:p,subclasses:[],a$cls:{fn:u,methods:Object.create(null)}};this.bootstrapHierarchy=function(e){v.a$cls=e,v.subclasses.forEach(function(t){t.a$cls.superclass=e,Object.setPrototypeOf(t.a$cls.methods,e.methods),m(t.a$cls)})},c.metaSubclasses=f,c.traverseClassTree=function(e,t){for(var n=[e],r={},o=0;o<n.length;++o){var s=n[o];if(t(s,r)!==r){var a=s.meta?f(s):s.subclasses;n.push.apply(n,a)}}},this.asReceiver=function(e){return null==e?_:null!=e.a$cls?e:c.wrapJavaScript(e)},this.__init__=function(){t.classConstruction.iVarNamesCompat(l)}}function u(t,o){function s(e,t){t.forEach(function(e){if(!e.match(/^[a-zA-Z][a-zA-Z0-9]*$/))throw new Error("Wrong identifier name: "+e)}),e.slots=t,n.slotsChanged(e)}function a(e,t,n,o){function s(){var s=a().instanceClass;return s.superclass=i,s.fn=o||r(function(){},t.fn),s.slots=[],s.name=e,s.category=n,s.subclasses=[],m(s),s}function a(){var e=u();return e.superclass=t.a$cls,e.fn=r(function(){},e.superclass.fn),e.slots=[],e.instanceClass=new e.fn,c(e),m(e),e}var i=t;return(null==t||t.a$nil)&&(t=l,i=null),{name:e,make:s,updateExisting:function(e){if(null==i&&null!=e.superclass||null!=i&&e.superclass!==i||null!=o&&o!==e.fn)throw new Error("Incompatible change of class: "+e.name)}}}function c(e){Object.defineProperty(e.fn.prototype,"a$cls",{value:e,enumerable:!1,configurable:!0,writable:!0})}var l=t.classModel.nilAsClass,u=t.classModel.newMetaclass,d=t.behaviorals.buildTraitOrClass,m=t.methods.setupMethods,h=t.behaviorals.removeTraitOrClass;i("slotsChanged"),o.setSlots=s,this.iVarNamesCompat=function(e){Object.defineProperty(e.prototype,"iVarNames",{enumerable:!0,configurable:!0,get:function(){return this.slots},set:function(e){s(this,e)}})},this.wireKlass=c,o.addClass=function(t,n,r){if(arguments[3]){var i=o.addClass(t,n,arguments[3]);return s(i,r),i}return(void 0===n||n&&n.a$nil)&&console.warn("Compiling "+t+" as a subclass of `nil`. A dependency might be missing."),d(a(t,n,r,e[t]))},o.removeClass=h}function d(e){e.traits=c,e.composition=t,e.classModel=l,e.classConstruction=u,e()}return c.deps=["behaviorals","methods","composition","root"],l.deps=["root","nil"],u.deps=["classModel","behaviorals","methods"],{configure:d}}var r=e.inherits,o=e.declareJsMethod,s=e.addElement,a=e.removeElement,i=e.extend,c=e.deleteKeysFrom;return t.deps=["methods"],n}),define("amber/kernel-runtime",["./junk-drawer"],function(e){"use strict";function t(e,t){var n,r=Object.getOwnPropertyDescriptor(e,t);null!=r&&null!=(r=r.value)&&null!=(n=r.a$atx)&&l(Object.keys(n),e)}function n(e,n,r){t(e,n);var o=r.a$atx;return null!=o&&u(e,o),s(e,n,r)}function r(e,t){var n=Object.create(null);t.st2js=function(e){return n[e]||i(e)},this.st2js=function(e){return n[e]||(n[e]=i(e))},t.js2st=c,t.st2prop=function(e){var t=e.indexOf(":");return-1===t?e:e.slice(0,t)}}function o(e,o){function i(t,n){function r(e,t){e.forEach(function(e){var n=c(e);l.push(n);var r=o(e);s(i.fn.prototype,n,r),t.forEach(function(e){s(e.fn.prototype,n,r)})})}function o(t){return function(){return e.Message._selector_arguments_notUnderstoodBy_(t,[].slice.call(arguments),this)}}var a=t.selectors.selectors,i=t.classModel.nilAsClass,c=t.selectorConversion.st2js,l=this.jsSelectors=[];this.installNewSelectors=r,r(a,[])}function c(t,r){function s(e){e.detachedRoot=!0,S=_.filter(function(e){return e.detachedRoot}),c(e)}function a(e){c(e),c(e.a$cls)}function i(){o.behavioralAdded=function(e){e._enterOrganization()},o.behavioralRemoved=function(e){e._leaveOrganization()}}function c(e){v(e),l(e),u(e)}function l(e){e.detachedRoot&&d(e),m(e)}function u(e){h(e)}function d(e){var t=e.fn.prototype,r=e.superclass.fn.prototype;f.forEach(function(e){n(t,e,r[e])})}function m(e){var t=e.methods;Object.keys(t).forEach(function(n){g(t[n],e)})}function h(e){e.slots.forEach(function(t){Object.defineProperty(e.fn.prototype,"@"+t,{get:function(){return this[t]},set:function(e){return this[t]=e},enumerable:!1,configurable:!0})})}var f=t.runtimeSelectors.jsSelectors,p=t.runtimeSelectors.installNewSelectors,g=t.runtimeMethods.installAmberMethodIntoAmberClass,_=t.behaviorals.traitsOrClasses,v=t.classConstruction.wireKlass,S=[];r.detachClass=s,o.selectorsAdded=function(e){p(e,S)},_.forEach(function(e){e.trait||a(e)}),this.installStHooks=i,o.classCreated=a,o.slotsChanged=u,r.alias=function(t,n){e[n]=t},r.setClassConstructor=this.setClassConstructor=function(e,t){e.fn=t,s(e);var n=t.prototype;e.subclasses.forEach(function(e){Object.setPrototypeOf(e.fn.prototype,n)})}}function l(t,n){var r=t.runtimeClasses.setClassConstructor;r(e.Number,Number),r(e.BlockClosure,Function),r(e.Boolean,Boolean),r(e.Date,Date),r(e.String,String),r(e.Array,Array),r(e.RegularExpression,RegExp),r(e.Error,Error),r(e.Promise,Promise),this.__init__=function(){n.alias(e.Array,"OrderedCollection"),n.alias(e.Date,"Time")}}function u(e,r){function s(e,t){null==e.fn&&e.instantiateFn&&(e.fn=e.instantiateFn(e.methodClass));var r=e.jsSelector;return r||(r=e.jsSelector=c(e.selector)),n(t.fn.prototype,r,e.fn)}function a(){o.methodReplaced=function(e,t,n){n._methodOrganizationEnter_andLeave_(e,t)}}function i(e,t,o){var s=t.selector,a=t.jsSelector;r.traverseClassTree(e,function(e,t){if(e!==o)return d.call(e.methods,s)?t:void(e.detachedRoot&&n(e.fn.prototype,a,e.superclass.fn.prototype[a]))})}var c=e.selectorConversion.st2js;this.installAmberMethodIntoAmberClass=s,o.behaviorMethodAdded=function(e,t){s(e,t),i(t,e,t)},o.behaviorMethodRemoved=function(e,n){t(n.fn.prototype,e.jsSelector),delete n.fn.prototype[e.jsSelector],i(n,e,null)},this.installStHooks=a}function m(t,n){n.readJSObject=function(t){if(null==t)return null;if(Array.isArray(t))return t.map(n.readJSObject);if(t.constructor!==Object)return t;var r=[];for(var o in t)r.push(o,n.readJSObject(t[o]));return e.Dictionary._newFromPairs_(r)},n.assert=function(t){return"boolean"==typeof t?t:null!=t&&"object"==typeof t&&"boolean"==typeof(t=t.valueOf())?t:void e.NonBooleanReceiver._signalOn_(t)}}function h(t,n){function r(e,t){this.sendIdx={},this.homeContext=e,this.setup=t}function o(e){try{return e(i)}finally{i=null}}var s=t.runtimeClasses.setClassConstructor;r.prototype.supercall=!1,r.prototype.locals=Object.freeze({}),r.prototype.receiver=null,r.prototype.selector=null,r.prototype.outerContext=null,r.prototype.index=0,a(r.prototype,"fill"),a(r.prototype,"fillBlock"),r.prototype.fill=function(e,t,n){this.receiver=e,this.selector=t,null!=n&&(this.locals=n),this.homeContext&&(this.homeContext.evaluatedSelector=t)},r.prototype.fillBlock=function(e,t,n){null!=e&&(this.locals=e),this.outerContext=t,n&&(this.index=n)},s(e.MethodContext,r);var i=null;n.seamless=function(e){return e()},n.withContext=function(e,t){var n=i;i=new r(i,t);var s=null==n?o(e):e(i);return i=n,s},n.getThisContext=function(){return i?(i.setup(i),i):null}}function f(t,n){function r(t){return e.JSObjectProxy._on_(t)}n.send2=function(t,o,s,a){var i=a?a.fn.prototype[n.st2js(o)]:t.a$cls&&t[n.st2js(o)];return null!=i?i.apply(t,s||[]):e.Message._selector_arguments_notUnderstoodBy_(o,[].slice.call(s),t.a$cls?t:r(t))},n.wrapJavaScript=r,n.accessJavaScript=function(e,t,n){var r=e[t];if("function"==typeof r&&(0!==n.length||!/^[A-Z]/.test(t)))return r.apply(e,n);switch(n.length){case 0:return r;case 1:return e[t]=n[0],e;default:throw new Error("Cannot interpret "+t+" with "+n.length+" arguments; field is a "+typeof r+", not a function")}}}function p(t,n){this.run=function(){return t.runtimeClasses.installStHooks(),t.runtimeMethods.installStHooks(),e.AmberBootstrapInitialization._run()}}function g(e){e.runtimeSelectors=i,e.runtimeClasses=c,e.frameBinding=l,e.runtimeMethods=u,e.messageSend=f,e.runtime=h,e.primitives=m,e.selectorConversion=r,e.startImage=p,e()}return i.deps=["selectors","selectorConversion","classModel"],c.deps=["runtimeSelectors","behaviorals","classConstruction","runtimeMethods"],l.deps=["runtimeClasses"],u.deps=["selectorConversion"],h.deps=["selectorConversion","runtimeClasses"],f.deps=["selectorConversion"],p.deps=["runtimeClasses","runtimeMethods"],{configure:g}}var s=e.installMethodOfJsObject,a=e.declareJsMethod,i=e.st2js,c=e.js2st,l=e.deleteKeysFrom,u=e.extendWithMethods,d=Object.prototype.hasOwnProperty;return o}),define("amber/boot",["require","./kernel-checks","./brikz","./kernel-fundamentals","./kernel-language"],function(e,t,n,r,o){"use strict";function s(e,t){var n=!1;a.SmalltalkSettings={},t.initialize=function(){return c.then(function(t){if(!n)return e.classModel.bootstrapHierarchy(a.Class),t(a,i).configure(e),Promise.resolve(e.startImage.run()).then(function(){n=!0})})}}var a=Object.create(global),i=Object.create(null),c=new Promise(function(t,n){e(["./kernel-runtime"],t,n)}),l={},u=n(l),d=r(a,i);return d.configure(u),o(d.specialConstructors,i).configure(u),u.stInit=s,u(),Object.defineProperty(a,"CharacterArray",{enumerable:!0,configurable:!0,get:function(){return this.String}}),{api:l,nilAsReceiver:u.nil.nilAsReceiver,nilAsValue:u.nil.nilAsValue,nilAsClass:u.classModel.nilAsClass,globals:a,asReceiver:u.classModel.asReceiver}}),define("amber/helpers",["./boot","./junk-drawer","require"],function(e,t,n){function r(){var e;try{e="localStorage"in global&&global.localStorage}catch(e){return void console.warn("Access denied to localStorage, settings not loaded nor, subsequently, saved.")}if(e){var t;try{t=JSON.parse(e.getItem("amber.SmalltalkSettings"))}catch(e){}a(o.SmalltalkSettings,t||{}),"undefined"!=typeof window&&window.addEventListener("beforeunload",function(){e.setItem("amber.SmalltalkSettings",JSON.stringify(o.SmalltalkSettings))})}}var o=e.globals,s={},a=t.extend,i=e.api;return s.popupHelios=function(){n(["helios/index"],function(e){e.popup()},function(e){window.alert("Error loading helios.\nIf not present, you can install it with 'npm install @ambers/helios --save-dev'.\nThe error follows:\n"+e)})},Object.defineProperty(s,"api",{value:i,enumerable:!0,configurable:!0,writable:!1}),Object.defineProperty(s,"globals",{value:o,enumerable:!0,configurable:!0,writable:!1}),Object.defineProperty(s,"$nil",{value:e.nilAsReceiver,enumerable:!0,configurable:!0,writable:!1}),Object.defineProperty(s,"nil",{value:e.nilAsValue,enumerable:!0,configurable:!0,writable:!1}),s.initialize=function(e){return new Promise(function(t){o.SmalltalkSettings["transport.defaultAmdNamespace"]="amber/core",i.amdRequire=n,r(),a(o.SmalltalkSettings,e||{}),t(i.initialize())})},s.loadPackages=function(e){return new Promise(function(t,r){n(e,t,r)}).then(function(){return o.Smalltalk._postLoad()})},s.beClean=function(){return o.Smalltalk._beClean()},s}),define("amber/core/Kernel-Helpers",["amber/boot","require"],function(e,t){"use strict";var n=e.api,r=e.nilAsValue,o=(e.nilAsReceiver,e.asReceiver),s=e.globals;n.addPackage("Kernel-Helpers").transport={type:"amd",amdNamespace:"amber/core"},n.addTrait("TIsInGroup","Kernel-Helpers"),n.addMethod(n.method({selector:"isBehavior",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),s.TIsInGroup),n.addMethod(n.method({selector:"isBoolean",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),s.TIsInGroup),n.addMethod(n.method({selector:"isClass",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),s.TIsInGroup),n.addMethod(n.method({selector:"isCompiledMethod",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),s.TIsInGroup),n.addMethod(n.method({selector:"isError",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),s.TIsInGroup),n.addMethod(n.method({selector:"isMetaclass",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),s.TIsInGroup),n.addMethod(n.method({selector:"isNumber",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),s.TIsInGroup),n.addMethod(n.method({selector:"isPackage",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),s.TIsInGroup),n.addMethod(n.method({selector:"isString",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),s.TIsInGroup),n.addMethod(n.method({selector:"isSymbol",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),s.TIsInGroup),n.addTrait("TSubclassable","Kernel-Helpers"),n.addMethod(n.method({selector:"subclass:",protocol:"class creation",pragmas:[],messageSends:["subclass:slots:package:"]},function(e){return function(e){return this._subclass_slots_package_(e,[],r)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:instanceVariableNames:",protocol:"class creation",pragmas:[],messageSends:["subclass:instanceVariableNames:package:"]},function(e){return function(e,t){return this._subclass_instanceVariableNames_package_(e,t,r)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:instanceVariableNames:category:",protocol:"class creation",pragmas:[],messageSends:["subclass:instanceVariableNames:package:"]},function(e){return function(e,t,n){return this._subclass_instanceVariableNames_package_(e,t,n)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:instanceVariableNames:classVariableNames:poolDictionaries:category:",protocol:"class creation",pragmas:[],messageSends:["subclass:instanceVariableNames:package:"]},function(e){return function(e,t,n,r,o){return this._subclass_instanceVariableNames_package_(e,t,o)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:instanceVariableNames:package:",protocol:"class creation",pragmas:[],messageSends:["subclass:slots:package:","instanceVariablesStringAsSlotList"]},function(e){return function(e,t,n){return this._subclass_slots_package_(e,o(t)._instanceVariablesStringAsSlotList(),n)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:slots:",protocol:"class creation",pragmas:[],messageSends:["subclass:slots:package:"]},function(e){return function(e,t){return this._subclass_slots_package_(e,t,r)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:slots:classVariables:package:",protocol:"class creation",pragmas:[],messageSends:["superclass:subclass:slots:package:","new"]},function(e){return function(e,t,n,r){var a=this;return o(o(s.ClassBuilder)._new())._superclass_subclass_slots_package_(a,e,t,r)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:slots:classVariables:poolDictionaries:package:",protocol:"class creation",pragmas:[],messageSends:["superclass:subclass:slots:package:","new"]},function(e){return function(e,t,n,r,a){var i=this;return o(o(s.ClassBuilder)._new())._superclass_subclass_slots_package_(i,e,t,a)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:slots:package:",protocol:"class creation",pragmas:[],messageSends:["superclass:subclass:slots:package:","new"]},function(e){return function(e,t,n){var r=this;return o(o(s.ClassBuilder)._new())._superclass_subclass_slots_package_(r,e,t,n)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:uses:",protocol:"class creation",pragmas:[],messageSends:["subclass:uses:slots:package:"]},function(e){return function(e,t){return this._subclass_uses_slots_package_(e,t,[],r)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:uses:instanceVariableNames:",protocol:"class creation",pragmas:[],messageSends:["subclass:uses:instanceVariableNames:package:"]},function(e){return function(e,t,n){return this._subclass_uses_instanceVariableNames_package_(e,t,n,r)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:uses:instanceVariableNames:category:",protocol:"class creation",pragmas:[],messageSends:["subclass:uses:instanceVariableNames:package:"]},function(e){return function(e,t,n,r){return this._subclass_uses_instanceVariableNames_package_(e,t,n,r)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:uses:instanceVariableNames:classVariableNames:poolDictionaries:category:",protocol:"class creation",pragmas:[],messageSends:["subclass:uses:instanceVariableNames:package:"]},function(e){return function(e,t,n,r,o,s){return this._subclass_uses_instanceVariableNames_package_(e,t,n,s)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:uses:instanceVariableNames:package:",protocol:"class creation",pragmas:[],messageSends:["subclass:uses:slots:package:","instanceVariablesStringAsSlotList"]},function(e){return function(e,t,n,r){return this._subclass_uses_slots_package_(e,t,o(n)._instanceVariablesStringAsSlotList(),r)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:uses:slots:",protocol:"class creation",pragmas:[],messageSends:["subclass:uses:slots:package:"]},function(e){return function(e,t,n){return this._subclass_uses_slots_package_(e,t,n,r)}}),s.TSubclassable),n.addMethod(n.method({selector:"subclass:uses:slots:package:",protocol:"class creation",pragmas:[],messageSends:["subclass:slots:package:","setTraitComposition:","asTraitComposition"]},function(e){return function(e,t,n,r){var s;return s=this._subclass_slots_package_(e,n,r),o(s)._setTraitComposition_(o(t)._asTraitComposition()),s}}),s.TSubclassable)}),define("amber/core/Kernel-Objects",["amber/boot","require","amber/core/Kernel-Helpers"],function(e,t){"use strict";var n=e.api,r=(e.nilAsValue,e.nilAsReceiver,e.asReceiver),o=e.globals;n.addPackage("Kernel-Objects").transport={type:"amd",amdNamespace:"amber/core"},n.addClass("ProtoObject",null,"Kernel-Objects"),n.addMethod(n.method({selector:"=",protocol:"comparing",pragmas:[],messageSends:["=="]},function(e){return function(e){return this.__eq_eq(e)}}),o.ProtoObject),n.addMethod(n.method({selector:"==",protocol:"comparing",pragmas:[["inlineJS:",["return self === anObject"]]],messageSends:[]},function(e){return function(e){var t=this;return t===e}}),o.ProtoObject),n.addMethod(n.method({selector:"asString",protocol:"converting",pragmas:[],messageSends:["printString"]},function(e){return function(){return this._printString()}}),o.ProtoObject),n.addMethod(n.method({selector:"class",protocol:"accessing",pragmas:[["inlineJS:",["return $self.a$cls"]]],messageSends:[]},function(e){return function(){return this.a$cls}}),o.ProtoObject),n.addMethod(n.method({selector:"doesNotUnderstand:",protocol:"error handling",pragmas:[],messageSends:["receiver:","new","message:","signal"]},function(e){return function(e){var t,n=this;return t=r(o.MessageNotUnderstood)._new(),r(t)._receiver_(n),r(t)._message_(e),r(t)._signal(),n}}),o.ProtoObject),n.addMethod(n.method({selector:"evaluate:on:",protocol:"evaluating",pragmas:[],messageSends:["evaluate:receiver:"]},function(e){return function(e,t){var n=this;return r(t)._evaluate_receiver_(e,n)}}),o.ProtoObject),n.addMethod(n.method({selector:"identityHash",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\tself._deprecatedAPI();\n\t\tvar hash=self.identityHash;\n\t\tif (hash) return hash;\n\t\thash=$core.nextId();\n\t\tObject.defineProperty(self, 'identityHash', {value:hash});\n\t\treturn hash;\n\t"]]],messageSends:[]},function(e){return function(){var e=this;e._deprecatedAPI();var t=e.identityHash;return t||(t=n.nextId(),Object.defineProperty(e,"identityHash",{value:t}),t)}}),o.ProtoObject),n.addMethod(n.method({selector:"ifNil:",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(e){return this}}),o.ProtoObject),n.addMethod(n.method({selector:"ifNil:ifNotNil:",protocol:"testing",pragmas:[],messageSends:["value:"]},function(e){return function(e,t){var n=this;return r(t)._value_(n)}}),o.ProtoObject),n.addMethod(n.method({selector:"ifNotNil:",protocol:"testing",pragmas:[],messageSends:["value:"]},function(e){return function(e){var t=this;return r(e)._value_(t)}}),o.ProtoObject),n.addMethod(n.method({selector:"ifNotNil:ifNil:",protocol:"testing",pragmas:[],messageSends:["value:"]},function(e){return function(e,t){var n=this;return r(e)._value_(n)}}),o.ProtoObject),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.ProtoObject),n.addMethod(n.method({selector:"inspect",protocol:"inspecting",pragmas:[],messageSends:["inspect:"]},function(e){return function(){var e=this;return r(o.Inspector)._inspect_(e),e}}),o.ProtoObject),n.addMethod(n.method({selector:"inspectOn:",protocol:"inspecting",pragmas:[],messageSends:[]},function(e){return function(e){return this}}),o.ProtoObject),n.addMethod(n.method({selector:"instVarNamed:",protocol:"accessing",pragmas:[["inlineJS:",["return $self[aString]"]]],messageSends:[]},function(e){return function(e){return this[e]}}),o.ProtoObject),n.addMethod(n.method({selector:"instVarNamed:put:",protocol:"accessing",pragmas:[["inlineJS:",["$self[aString] = anObject"]]],messageSends:[]},function(e){return function(e,t){var n=this;return this[e]=t,n}}),o.ProtoObject),n.addMethod(n.method({selector:"isKindOf:",protocol:"testing",pragmas:[],messageSends:["or:","isMemberOf:","inheritsFrom:","class"]},function(e){return function(e){var t=this;return!!n.assert(t._isMemberOf_(e))||r(t._class())._inheritsFrom_(e)}}),o.ProtoObject),n.addMethod(n.method({selector:"isNil",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),o.ProtoObject),n.addMethod(n.method({selector:"notNil",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),o.ProtoObject),n.addMethod(n.method({selector:"perform:",protocol:"message handling",pragmas:[],messageSends:["perform:withArguments:"]},function(e){return function(e){return this._perform_withArguments_(e,[])}}),o.ProtoObject),n.addMethod(n.method({selector:"perform:with:",protocol:"message handling",pragmas:[["inlineJS:",["return $core.send2(self, aString, [anObject])"]]],messageSends:[]},function(e){return function(e,t){var r=this;return n.send2(r,e,[t])}}),o.ProtoObject),n.addMethod(n.method({selector:"perform:withArguments:",protocol:"message handling",pragmas:[["inlineJS:",["return $core.send2(self, aString, aCollection)"]]],messageSends:[]},function(e){return function(e,t){var r=this;return n.send2(r,e,t)}}),o.ProtoObject),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["nextPutAll:","ifTrue:ifFalse:","isVowel","first","name","class"]},function(e){return function(e){var t,o=this,s=this;return t=n.assert(r(r([r([s._class()][0])._name()][0])._first())._isVowel())?"an ":"a ",r(e)._nextPutAll_(t),r(e)._nextPutAll_(r(s._class())._name()),o}}),o.ProtoObject),n.addMethod(n.method({selector:"printString",protocol:"printing",pragmas:[],messageSends:["streamContents:","printOn:"]},function(e){return function(){var e=this;return r(o.String)._streamContents_(function(t){return e._printOn_(t)})}}),o.ProtoObject),n.addMethod(n.method({selector:"yourself",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.ProtoObject),n.addMethod(n.method({selector:"~=",protocol:"comparing",pragmas:[],messageSends:["="]},function(e){return function(e){return[r(this.__eq(e)).__eq(!1)][0]}}),o.ProtoObject),n.addMethod(n.method({selector:"~~",protocol:"comparing",pragmas:[],messageSends:["=","=="]},function(e){return function(e){return r(this.__eq_eq(e)).__eq(!1)}}),o.ProtoObject),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.ProtoObject.a$cls),n.addClass("Object",o.ProtoObject,"Kernel-Objects"),n.addMethod(n.method({selector:"->",protocol:"converting",pragmas:[],messageSends:["key:value:"]},function(e){return function(e){var t=this;return r(o.Association)._key_value_(t,e)}}),o.Object),n.addMethod(n.method({selector:"andSelfToNumber:",protocol:"converting",pragmas:[],messageSends:["error:"]},function(e){return function(e){var t=this;return this._error_("I am not a number."),t}}),o.Object),n.addMethod(n.method({selector:"appendToString:",protocol:"copying",pragmas:[],messageSends:["error:"]},function(e){return function(e){var t=this;return this._error_("Cannot add self to a string."),t}}),o.Object),n.addMethod(n.method({selector:"asJSONString",protocol:"converting",pragmas:[],messageSends:["stringify:","asJavaScriptObject"]},function(e){return function(){var e=this;return r(o.JSON)._stringify_(e._asJavaScriptObject())}}),o.Object),n.addMethod(n.method({selector:"asJavaScriptObject",protocol:"converting",pragmas:[],messageSends:["deprecatedAPI:","new","do:","allInstanceVariableNames","class","at:put:","asJavaScriptObject","instVarNamed:"]},function(e){return function(){var e,t=this;return t._deprecatedAPI_("Implement domain-specific #asJavaScriptObject on your classes instead."),e=r(o.HashedCollection)._new(),r(r(t._class())._allInstanceVariableNames())._do_(function(n){return r(e)._at_put_(n,r(t._instVarNamed_(n))._asJavaScriptObject())}),e}}),o.Object),n.addMethod(n.method({selector:"asJavaScriptSource",protocol:"converting",pragmas:[],messageSends:["deprecatedAPI:","asString"]},function(e){return function(){var e=this;return e._deprecatedAPI_("Implement domain-specific #asJavaScriptSource on your classes instead."),e._asString()}}),o.Object),n.addMethod(n.method({selector:"basicAt:",protocol:"accessing",pragmas:[["inlineJS:",["return self[aString]"]]],messageSends:[]},function(e){return function(e){var t=this;return t[e]}}),o.Object),n.addMethod(n.method({selector:"basicAt:put:",protocol:"accessing",pragmas:[["inlineJS:",["return self[aString] = anObject"]]],messageSends:[]},function(e){return function(e,t){var n=this;return n[e]=t}}),o.Object),n.addMethod(n.method({selector:"basicDelete:",protocol:"accessing",pragmas:[["inlineJS:",["delete self[aString]; return aString"]]],messageSends:[]},function(e){return function(e){var t=this;return delete t[e],e}}),o.Object),n.addMethod(n.method({selector:"basicPerform:",protocol:"message handling",pragmas:[],messageSends:["basicPerform:withArguments:"]},function(e){return function(e){return this._basicPerform_withArguments_(e,[])}}),o.Object),n.addMethod(n.method({selector:"basicPerform:withArguments:",protocol:"message handling",pragmas:[["inlineJS:",["return self[aString].apply(self, aCollection);"]]],messageSends:[]},function(e){return function(e,t){var n=this;return n[e].apply(n,t)}}),o.Object),n.addMethod(n.method({selector:"browse",protocol:"browsing",pragmas:[],messageSends:["findClass:","class"]},function(e){return function(){var e=this,t=this;return r(o.Finder)._findClass_(t._class()),e}}),o.Object),n.addMethod(n.method({selector:"copy",protocol:"copying",pragmas:[],messageSends:["postCopy","shallowCopy"]},function(e){return function(){return r(this._shallowCopy())._postCopy()}}),o.Object),n.addMethod(n.method({selector:"deepCopy",protocol:"copying",pragmas:[["inlineJS:",["\n\t\tvar copy = self.a$cls._new();\n\t\tObject.keys(self).forEach(function (i) {\n\t\t\tcopy[i] = $recv(self[i])._deepCopy();\n\t\t});\n\t\treturn copy;\n\t"]]],messageSends:[]},function(e){return function(){var e=this,t=e.a$cls._new();return Object.keys(e).forEach(function(n){t[n]=r(e[n])._deepCopy()}),t}}),o.Object),n.addMethod(n.method({selector:"deprecatedAPI",protocol:"error handling",pragmas:[],messageSends:["warn:",",","asString","home"]},function(e){return function(){var e=this;return r(console)._warn_([r([r(r([r([n.getThisContext()._home()][0])._asString()][0]).__comma(" is deprecated! (in ")).__comma(r([r(n.getThisContext()._home())._home()][0])._asString())][0]).__comma(")")][0]),e}}),o.Object),n.addMethod(n.method({selector:"deprecatedAPI:",protocol:"error handling",pragmas:[],messageSends:["warn:",",","asString","home"]},function(e){return function(e){var t=this;return r(console)._warn_([r([r(r([r([n.getThisContext()._home()][0])._asString()][0]).__comma(" is deprecated! (in ")).__comma(r([r(n.getThisContext()._home())._home()][0])._asString())][0]).__comma(")")][0]),r(console)._warn_(e),t}}),o.Object),n.addMethod(n.method({selector:"divideBySelfToNumber:",protocol:"accessing",pragmas:[],messageSends:["error:"]},function(e){return function(e){var t=this;return this._error_("I am not a number."),t}}),o.Object),n.addMethod(n.method({selector:"divisionRemainderBySelfToNumber:",protocol:"accessing",pragmas:[],messageSends:["error:"]},function(e){return function(e){var t=this;return this._error_("I am not a number."),t}}),o.Object),n.addMethod(n.method({selector:"error:",protocol:"error handling",pragmas:[],
messageSends:["signal:"]},function(e){return function(e){var t=this;return r(o.Error)._signal_(e),t}}),o.Object),n.addMethod(n.method({selector:"halt",protocol:"error handling",pragmas:[],messageSends:["signal"]},function(e){return function(){var e=this;return r(o.Halt)._signal(),e}}),o.Object),n.addMethod(n.method({selector:"in:",protocol:"evaluating",pragmas:[],messageSends:["value:"]},function(e){return function(e){var t=this;return r(e)._value_(t)}}),o.Object),n.addMethod(n.method({selector:"isImmutable",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),o.Object),n.addMethod(n.method({selector:"isMemberOf:",protocol:"testing",pragmas:[],messageSends:["=","class"]},function(e){return function(e){return r(this._class()).__eq(e)}}),o.Object),n.addMethod(n.method({selector:"isNumberEqualToSelf:",protocol:"comparing",pragmas:[],messageSends:[]},function(e){return function(e){return!1}}),o.Object),n.addMethod(n.method({selector:"isNumberGreaterThanOrEqualToSelf:",protocol:"comparing",pragmas:[],messageSends:[]},function(e){return function(e){return!1}}),o.Object),n.addMethod(n.method({selector:"isNumberGreaterThanSelf:",protocol:"comparing",pragmas:[],messageSends:[]},function(e){return function(e){return!1}}),o.Object),n.addMethod(n.method({selector:"isNumberLessThanOrEqualToSelf:",protocol:"comparing",pragmas:[],messageSends:[]},function(e){return function(e){return!1}}),o.Object),n.addMethod(n.method({selector:"isNumberLessThanSelf:",protocol:"comparing",pragmas:[],messageSends:[]},function(e){return function(e){return!1}}),o.Object),n.addMethod(n.method({selector:"isParseFailure",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),o.Object),n.addMethod(n.method({selector:"isStringEqualToSelf:",protocol:"comparing",pragmas:[],messageSends:[]},function(e){return function(e){return!1}}),o.Object),n.addMethod(n.method({selector:"isStringGreaterThanOrEqualToSelf:",protocol:"comparing",pragmas:[],messageSends:[]},function(e){return function(e){return!1}}),o.Object),n.addMethod(n.method({selector:"isStringGreaterThanSelf:",protocol:"comparing",pragmas:[],messageSends:[]},function(e){return function(e){return!1}}),o.Object),n.addMethod(n.method({selector:"isStringLessThanOrEqualToSelf:",protocol:"comparing",pragmas:[],messageSends:[]},function(e){return function(e){return!1}}),o.Object),n.addMethod(n.method({selector:"isStringLessThanSelf:",protocol:"comparing",pragmas:[],messageSends:[]},function(e){return function(e){return!1}}),o.Object),n.addMethod(n.method({selector:"minusSelfToNumber:",protocol:"accessing",pragmas:[],messageSends:["error:"]},function(e){return function(e){var t=this;return this._error_("I am not a number."),t}}),o.Object),n.addMethod(n.method({selector:"orSelfToNumber:",protocol:"converting",pragmas:[],messageSends:["error:"]},function(e){return function(e){var t=this;return this._error_("I am not a number."),t}}),o.Object),n.addMethod(n.method({selector:"plusSelfToNumber:",protocol:"accessing",pragmas:[],messageSends:["error:"]},function(e){return function(e){var t=this;return this._error_("I am not a number."),t}}),o.Object),n.addMethod(n.method({selector:"postCopy",protocol:"copying",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.Object),n.addMethod(n.method({selector:"putOn:",protocol:"streaming",pragmas:[],messageSends:["nextPut:"]},function(e){return function(e){var t=this;return r(e)._nextPut_(t),t}}),o.Object),n.addMethod(n.method({selector:"respondsTo:",protocol:"testing",pragmas:[],messageSends:["canUnderstand:","class"]},function(e){return function(e){return r(this._class())._canUnderstand_(e)}}),o.Object),n.addMethod(n.method({selector:"shallowCopy",protocol:"copying",pragmas:[["inlineJS:",["\n\t\tvar copy = self.a$cls._new();\n\t\tObject.keys(self).forEach(function(i) {\n\t\t\tcopy[i] = self[i];\n\t\t});\n\t\treturn copy;\n\t"]]],messageSends:[]},function(e){return function(){var e=this,t=e.a$cls._new();return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}}),o.Object),n.addMethod(n.method({selector:"shouldNotImplement",protocol:"error handling",pragmas:[],messageSends:["error:",",","name","class"]},function(e){return function(){var e=this,t=this;return t._error_("This method should not be implemented in ".__comma(r(t._class())._name())),e}}),o.Object),n.addMethod(n.method({selector:"size",protocol:"accessing",pragmas:[],messageSends:["error:"]},function(e){return function(){var e=this;return this._error_("Object not indexable"),e}}),o.Object),n.addMethod(n.method({selector:"subclassResponsibility",protocol:"error handling",pragmas:[],messageSends:["error:"]},function(e){return function(){var e=this;return this._error_("This method is a responsibility of a subclass"),e}}),o.Object),n.addMethod(n.method({selector:"timesSelfToNumber:",protocol:"accessing",pragmas:[],messageSends:["error:"]},function(e){return function(e){var t=this;return this._error_("I am not a number."),t}}),o.Object),n.addMethod(n.method({selector:"value",protocol:"evaluating",pragmas:[["inlineJS:",["return self.valueOf()"]]],messageSends:[]},function(e){return function(){var e=this;return e.valueOf()}}),o.Object),n.addMethod(n.method({selector:"xorSelfToNumber:",protocol:"converting",pragmas:[],messageSends:["error:"]},function(e){return function(e){var t=this;return this._error_("I am not a number."),t}}),o.Object),n.addMethod(n.method({selector:"accessorProtocolWith:",protocol:"helios",pragmas:[],messageSends:["accessorProtocolForObject"]},function(e){return function(e){var t=this;return r(e)._accessorProtocolForObject(),t}}),o.Object.a$cls),n.addMethod(n.method({selector:"accessorsSourceCodesWith:",protocol:"helios",pragmas:[],messageSends:["accessorsForObject"]},function(e){return function(e){var t=this;return r(e)._accessorsForObject(),t}}),o.Object.a$cls),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.Object.a$cls),n.addMethod(n.method({selector:"initializeProtocolWith:",protocol:"helios",pragmas:[],messageSends:["initializeProtocolForObject"]},function(e){return function(e){var t=this;return r(e)._initializeProtocolForObject(),t}}),o.Object.a$cls),n.addMethod(n.method({selector:"initializeSourceCodesWith:",protocol:"helios",pragmas:[],messageSends:["initializeForObject"]},function(e){return function(e){var t=this;return r(e)._initializeForObject(),t}}),o.Object.a$cls),n.addClass("Boolean",o.Object,"Kernel-Objects"),n.addMethod(n.method({selector:"&",protocol:"controlling",pragmas:[["inlineJS:",["\n\t\tif(self == true) {\n\t\treturn aBoolean;\n\t\t} else {\n\t\treturn false;\n\t\t}\n\t"]]],messageSends:[]},function(e){return function(e){var t=this;return 1==t&&e}}),o.Boolean),n.addMethod(n.method({selector:"==",protocol:"comparing",pragmas:[["inlineJS:",['\n\tif (typeof aBoolean === "boolean") return (self == true) === aBoolean;\n\telse if (aBoolean != null && typeof aBoolean === "object") return (self == true) === aBoolean.valueOf();\n\telse return false;']]],messageSends:[]},function(e){return function(e){var t=this;return"boolean"==typeof e?1==t===e:null!=e&&"object"==typeof e&&1==t===e.valueOf()}}),o.Boolean),n.addMethod(n.method({selector:"and:",protocol:"controlling",pragmas:[],messageSends:["ifTrue:ifFalse:","value"]},function(e){return function(e){var t=this;return!!n.assert(t)&&r(e)._value()}}),o.Boolean),n.addMethod(n.method({selector:"asBit",protocol:"converting",pragmas:[],messageSends:["ifTrue:ifFalse:"]},function(e){return function(){var e=this;return n.assert(e)?1:0}}),o.Boolean),n.addMethod(n.method({selector:"asJavaScriptObject",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.Boolean),n.addMethod(n.method({selector:"asJavaScriptSource",protocol:"converting",pragmas:[],messageSends:["asString"]},function(e){return function(){return this._asString()}}),o.Boolean),n.addMethod(n.method({selector:"asString",protocol:"converting",pragmas:[["inlineJS:",["return self.toString()"]]],messageSends:[]},function(e){return function(){var e=this;return e.toString()}}),o.Boolean),n.addMethod(n.method({selector:"deepCopy",protocol:"copying",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.Boolean),n.addMethod(n.method({selector:"ifFalse:",protocol:"controlling",pragmas:[],messageSends:["ifTrue:ifFalse:"]},function(e){return function(e){return this._ifTrue_ifFalse_(function(){},e)}}),o.Boolean),n.addMethod(n.method({selector:"ifFalse:ifTrue:",protocol:"controlling",pragmas:[],messageSends:["ifTrue:ifFalse:"]},function(e){return function(e,t){return this._ifTrue_ifFalse_(t,e)}}),o.Boolean),n.addMethod(n.method({selector:"ifTrue:",protocol:"controlling",pragmas:[],messageSends:["ifTrue:ifFalse:"]},function(e){return function(e){return this._ifTrue_ifFalse_(e,function(){})}}),o.Boolean),n.addMethod(n.method({selector:"ifTrue:ifFalse:",protocol:"controlling",pragmas:[["inlineJS:",["\n\t\tif(self == true) {\n\t\treturn aBlock._value();\n\t\t} else {\n\t\treturn anotherBlock._value();\n\t\t}\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this;return 1==n?e._value():t._value()}}),o.Boolean),n.addMethod(n.method({selector:"isBoolean",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),o.Boolean),n.addMethod(n.method({selector:"isImmutable",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),o.Boolean),n.addMethod(n.method({selector:"not",protocol:"controlling",pragmas:[],messageSends:["="]},function(e){return function(){return this.__eq(!1)}}),o.Boolean),n.addMethod(n.method({selector:"or:",protocol:"controlling",pragmas:[],messageSends:["ifTrue:ifFalse:","value"]},function(e){return function(e){var t=this;return!!n.assert(t)||r(e)._value()}}),o.Boolean),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["nextPutAll:","asString"]},function(e){return function(e){var t=this,n=this;return r(e)._nextPutAll_(n._asString()),t}}),o.Boolean),n.addMethod(n.method({selector:"shallowCopy",protocol:"copying",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.Boolean),n.addMethod(n.method({selector:"|",protocol:"controlling",pragmas:[["inlineJS:",["\n\t\tif(self == true) {\n\t\treturn true;\n\t\t} else {\n\t\treturn aBoolean;\n\t\t}\n\t"]]],messageSends:[]},function(e){return function(e){var t=this;return 1==t||e}}),o.Boolean),n.addClass("Date",o.Object,"Kernel-Objects"),n.addMethod(n.method({selector:"+",protocol:"arithmetic",pragmas:[["inlineJS:",["return new Date($self.getTime() + aNumber)"]]],messageSends:[]},function(e){return function(e){var t=this;return new Date(t.getTime()+e)}}),o.Date),n.addMethod(n.method({selector:"-",protocol:"arithmetic",pragmas:[["inlineJS:",["return self - aDate"]]],messageSends:[]},function(e){return function(e){var t=this;return t-e}}),o.Date),n.addMethod(n.method({selector:"<",protocol:"comparing",pragmas:[["inlineJS:",["return self < aDate"]]],messageSends:[]},function(e){return function(e){var t=this;return t<e}}),o.Date),n.addMethod(n.method({selector:"<=",protocol:"comparing",pragmas:[["inlineJS:",["return self <= aDate"]]],messageSends:[]},function(e){return function(e){var t=this;return t<=e}}),o.Date),n.addMethod(n.method({selector:"=",protocol:"comparing",pragmas:[],messageSends:["and:","==","class","asMilliseconds"]},function(e){return function(e){var t=this;return!!n.assert([r([r(e)._class()][0]).__eq_eq(t._class())][0])&&r([t._asMilliseconds()][0]).__eq_eq(r(e)._asMilliseconds())}}),o.Date),n.addMethod(n.method({selector:">",protocol:"comparing",pragmas:[["inlineJS:",["return self > aDate"]]],messageSends:[]},function(e){return function(e){var t=this;return t>e}}),o.Date),n.addMethod(n.method({selector:">=",protocol:"comparing",pragmas:[["inlineJS:",["return self >= aDate"]]],messageSends:[]},function(e){return function(e){var t=this;return t>=e}}),o.Date),n.addMethod(n.method({selector:"asDateString",protocol:"converting",pragmas:[["inlineJS:",["return self.toDateString()"]]],messageSends:[]},function(e){return function(){var e=this;return e.toDateString()}}),o.Date),n.addMethod(n.method({selector:"asLocaleString",protocol:"converting",pragmas:[["inlineJS:",["return self.toLocaleString()"]]],messageSends:[]},function(e){return function(){var e=this;return e.toLocaleString()}}),o.Date),n.addMethod(n.method({selector:"asMilliseconds",protocol:"converting",pragmas:[],messageSends:["time"]},function(e){return function(){return this._time()}}),o.Date),n.addMethod(n.method({selector:"asNumber",protocol:"converting",pragmas:[],messageSends:["asMilliseconds"]},function(e){return function(){return this._asMilliseconds()}}),o.Date),n.addMethod(n.method({selector:"asString",protocol:"converting",pragmas:[["inlineJS:",["return self.toString()"]]],messageSends:[]},function(e){return function(){var e=this;return e.toString()}}),o.Date),n.addMethod(n.method({selector:"asTimeString",protocol:"converting",pragmas:[["inlineJS:",["return self.toTimeString()"]]],messageSends:[]},function(e){return function(){var e=this;return e.toTimeString()}}),o.Date),n.addMethod(n.method({selector:"day",protocol:"accessing",pragmas:[],messageSends:["dayOfWeek"]},function(e){return function(){return this._dayOfWeek()}}),o.Date),n.addMethod(n.method({selector:"day:",protocol:"accessing",pragmas:[],messageSends:["dayOfWeek:"]},function(e){return function(e){var t=this;return this._dayOfWeek_(e),t}}),o.Date),n.addMethod(n.method({selector:"dayOfMonth",protocol:"accessing",pragmas:[["inlineJS:",["return self.getDate()"]]],messageSends:[]},function(e){return function(){var e=this;return e.getDate()}}),o.Date),n.addMethod(n.method({selector:"dayOfMonth:",protocol:"accessing",pragmas:[["inlineJS:",["self.setDate(aNumber)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.setDate(e),t}}),o.Date),n.addMethod(n.method({selector:"dayOfWeek",protocol:"accessing",pragmas:[["inlineJS:",["return self.getDay() + 1"]]],messageSends:[]},function(e){return function(){var e=this;return e.getDay()+1}}),o.Date),n.addMethod(n.method({selector:"dayOfWeek:",protocol:"accessing",pragmas:[["inlineJS:",["return self.setDay(aNumber - 1)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.setDay(e-1)}}),o.Date),n.addMethod(n.method({selector:"hours",protocol:"accessing",pragmas:[["inlineJS:",["return self.getHours()"]]],messageSends:[]},function(e){return function(){var e=this;return e.getHours()}}),o.Date),n.addMethod(n.method({selector:"hours:",protocol:"accessing",pragmas:[["inlineJS:",["self.setHours(aNumber)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.setHours(e),t}}),o.Date),n.addMethod(n.method({selector:"milliseconds",protocol:"accessing",pragmas:[["inlineJS:",["return self.getMilliseconds()"]]],messageSends:[]},function(e){return function(){var e=this;return e.getMilliseconds()}}),o.Date),n.addMethod(n.method({selector:"milliseconds:",protocol:"accessing",pragmas:[["inlineJS:",["self.setMilliseconds(aNumber)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.setMilliseconds(e),t}}),o.Date),n.addMethod(n.method({selector:"minutes",protocol:"accessing",pragmas:[["inlineJS:",["return self.getMinutes()"]]],messageSends:[]},function(e){return function(){var e=this;return e.getMinutes()}}),o.Date),n.addMethod(n.method({selector:"minutes:",protocol:"accessing",pragmas:[["inlineJS:",["self.setMinutes(aNumber)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.setMinutes(e),t}}),o.Date),n.addMethod(n.method({selector:"month",protocol:"accessing",pragmas:[["inlineJS:",["return self.getMonth() + 1"]]],messageSends:[]},function(e){return function(){var e=this;return e.getMonth()+1}}),o.Date),n.addMethod(n.method({selector:"month:",protocol:"accessing",pragmas:[["inlineJS:",["self.setMonth(aNumber - 1)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.setMonth(e-1),t}}),o.Date),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["nextPutAll:","asString"]},function(e){return function(e){var t=this,n=this;return r(e)._nextPutAll_(n._asString()),t}}),o.Date),n.addMethod(n.method({selector:"seconds",protocol:"accessing",pragmas:[["inlineJS:",["return self.getSeconds()"]]],messageSends:[]},function(e){return function(){var e=this;return e.getSeconds()}}),o.Date),n.addMethod(n.method({selector:"seconds:",protocol:"accessing",pragmas:[["inlineJS:",["self.setSeconds(aNumber)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.setSeconds(e),t}}),o.Date),n.addMethod(n.method({selector:"time",protocol:"accessing",pragmas:[["inlineJS:",["return self.getTime()"]]],messageSends:[]},function(e){return function(){var e=this;return e.getTime()}}),o.Date),n.addMethod(n.method({selector:"time:",protocol:"accessing",pragmas:[["inlineJS:",["self.setTime(aNumber)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.setTime(e),t}}),o.Date),n.addMethod(n.method({selector:"year",protocol:"accessing",pragmas:[["inlineJS:",["return self.getFullYear()"]]],messageSends:[]},function(e){return function(){var e=this;return e.getFullYear()}}),o.Date),n.addMethod(n.method({selector:"year:",protocol:"accessing",pragmas:[["inlineJS:",["self.setFullYear(aNumber)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.setFullYear(e),t}}),o.Date),n.addMethod(n.method({selector:"classTag",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return"magnitude"}}),o.Date.a$cls),n.addMethod(n.method({selector:"fromMilliseconds:",protocol:"instance creation",pragmas:[],messageSends:["new:"]},function(e){return function(e){return this._new_(e)}}),o.Date.a$cls),n.addMethod(n.method({selector:"fromSeconds:",protocol:"instance creation",pragmas:[],messageSends:["fromMilliseconds:","*"]},function(e){return function(e){return this._fromMilliseconds_(r(e).__star(1e3))}}),o.Date.a$cls),n.addMethod(n.method({selector:"fromString:",protocol:"instance creation",pragmas:[],messageSends:["new:"]},function(e){return function(e){return this._new_(e)}}),o.Date.a$cls),n.addMethod(n.method({selector:"millisecondsToRun:",protocol:"instance creation",pragmas:[],messageSends:["now","value","-"]},function(e){return function(e){var t;return t=[r(o.Date)._now()][0],r(e)._value(),r(r(o.Date)._now()).__minus(t)}}),o.Date.a$cls),n.addMethod(n.method({selector:"new:",protocol:"instance creation",pragmas:[["inlineJS:",["return new Date(anObject)"]]],messageSends:[]},function(e){return function(e){return new Date(e)}}),o.Date.a$cls),n.addMethod(n.method({selector:"now",protocol:"instance creation",pragmas:[],messageSends:["today"]},function(e){return function(){return this._today()}}),o.Date.a$cls),n.addMethod(n.method({selector:"today",protocol:"instance creation",pragmas:[],messageSends:["new"]},function(e){return function(){return this._new()}}),o.Date.a$cls),n.addClass("Number",o.Object,"Kernel-Objects"),n.addMethod(n.method({selector:"&",protocol:"converting",pragmas:[],messageSends:["bitAnd:"]},function(e){return function(e){return this._bitAnd_(e)}}),o.Number),n.addMethod(n.method({selector:"*",protocol:"arithmetic",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\t\tself * aNumber :\n\t\t$recv(aNumber)._timesSelfToNumber_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?t*e:r(e)._timesSelfToNumber_(t)}}),o.Number),n.addMethod(n.method({selector:"**",protocol:"mathematical functions",pragmas:[],messageSends:["raisedTo:"]},function(e){return function(e){return this._raisedTo_(e)}}),o.Number),n.addMethod(n.method({selector:"+",protocol:"arithmetic",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\t\tself + aNumber :\n\t\t$recv(aNumber)._plusSelfToNumber_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?t+e:r(e)._plusSelfToNumber_(t)}}),o.Number),n.addMethod(n.method({selector:"-",protocol:"arithmetic",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\t\tself - aNumber :\n\t\t$recv(aNumber)._minusSelfToNumber_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?t-e:r(e)._minusSelfToNumber_(t)}}),o.Number),n.addMethod(n.method({selector:"/",protocol:"arithmetic",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\t\tself / aNumber :\n\t\t$recv(aNumber)._divideBySelfToNumber_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?t/e:r(e)._divideBySelfToNumber_(t)}}),o.Number),n.addMethod(n.method({selector:"//",protocol:"arithmetic",pragmas:[],messageSends:["floor","/"]},function(e){return function(e){return r(this.__slash(e))._floor()}}),o.Number),n.addMethod(n.method({selector:"<",protocol:"comparing",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\tNumber(self) < aNumber :\n\t$recv(aNumber)._isNumberLessThanSelf_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?Number(t)<e:r(e)._isNumberLessThanSelf_(t)}}),o.Number),n.addMethod(n.method({selector:"<=",protocol:"comparing",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\tNumber(self) <= aNumber :\n\t$recv(aNumber)._isNumberLessThanOrEqualToSelf_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?Number(t)<=e:r(e)._isNumberLessThanOrEqualToSelf_(t)}}),o.Number),n.addMethod(n.method({selector:"==",protocol:"comparing",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\tNumber(self) === aNumber :\n\t$recv(aNumber)._isNumberEqualToSelf_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?Number(t)===e:r(e)._isNumberEqualToSelf_(t)}}),o.Number),n.addMethod(n.method({selector:">",protocol:"comparing",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\tNumber(self) > aNumber :\n\t$recv(aNumber)._isNumberGreaterThanSelf_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?Number(t)>e:r(e)._isNumberGreaterThanSelf_(t)}}),o.Number),n.addMethod(n.method({selector:">=",protocol:"comparing",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\tNumber(self) >= aNumber :\n\t$recv(aNumber)._isNumberGreaterThanOrEqualToSelf_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?Number(t)>=e:r(e)._isNumberGreaterThanOrEqualToSelf_(t)}}),o.Number),n.addMethod(n.method({selector:"@",protocol:"converting",pragmas:[],messageSends:["x:y:"]},function(e){return function(e){var t=this;return r(o.Point)._x_y_(t,e)}}),o.Number),n.addMethod(n.method({selector:"\\\\",protocol:"arithmetic",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\t\tself % aNumber :\n\t\t$recv(aNumber)._divisionRemainderBySelfToNumber_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?t%e:r(e)._divisionRemainderBySelfToNumber_(t)}}),o.Number),n.addMethod(n.method({selector:"abs",protocol:"arithmetic",pragmas:[["inlineJS:",["return Math.abs(self);"]]],messageSends:[]},function(e){return function(){var e=this;return Math.abs(e)}}),o.Number),n.addMethod(n.method({selector:"andSelfToNumber:",protocol:"converting",pragmas:[["inlineJS:",["return aNumber & self"]]],messageSends:[]},function(e){return function(e){var t=this;return e&t}}),o.Number),n.addMethod(n.method({selector:"arcCos",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.acos(self);"]]],messageSends:[]},function(e){return function(){var e=this;return Math.acos(e)}}),o.Number),n.addMethod(n.method({selector:"arcSin",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.asin(self);"]]],messageSends:[]},function(e){return function(){var e=this;return Math.asin(e)}}),o.Number),n.addMethod(n.method({selector:"arcTan",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.atan(self);"]]],messageSends:[]},function(e){return function(){var e=this;return Math.atan(e)}}),o.Number),n.addMethod(n.method({selector:"arcTan:",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.atan2(self, aNumber);"]]],messageSends:[]},function(e){return function(e){var t=this;return Math.atan2(t,e)}}),o.Number),n.addMethod(n.method({selector:"asJavaScriptObject",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.Number),n.addMethod(n.method({selector:"asJavaScriptSource",protocol:"converting",pragmas:[],messageSends:[",","printString"]},function(e){return function(){return[r("(".__comma(this._printString())).__comma(")")][0]}}),o.Number),n.addMethod(n.method({selector:"asNumber",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.Number),n.addMethod(n.method({selector:"asPoint",protocol:"converting",pragmas:[],messageSends:["x:y:"]},function(e){return function(){var e=this;return r(o.Point)._x_y_(e,e)}}),o.Number),n.addMethod(n.method({selector:"asString",protocol:"converting",pragmas:[["inlineJS:",["return String(self)"]]],messageSends:[]},function(e){return function(){var e=this;return String(e)}}),o.Number),n.addMethod(n.method({selector:"atRandom",protocol:"converting",pragmas:[],messageSends:["+","truncated","*","next","new"]},function(e){return function(){var e=this;return r(r(r(r(r(o.Random)._new())._next()).__star(e))._truncated()).__plus(1)}}),o.Number),n.addMethod(n.method({selector:"between:and:",protocol:"testing",pragmas:[],messageSends:["and:",">=","<="]},function(e){return function(e,t){var r=this;return!!n.assert(r.__gt_eq(e))&&r.__lt_eq(t)}}),o.Number),n.addMethod(n.method({selector:"bitAnd:",protocol:"converting",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\t\tself & aNumber :\n\t\t$recv(aNumber)._andSelfToNumber_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?t&e:r(e)._andSelfToNumber_(t)}}),o.Number),n.addMethod(n.method({selector:"bitNot",protocol:"converting",pragmas:[["inlineJS:",["return ~self"]]],messageSends:[]},function(e){return function(){var e=this;return~e}}),o.Number),n.addMethod(n.method({selector:"bitOr:",protocol:"converting",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\t\tself | aNumber :\n\t\t$recv(aNumber)._orSelfToNumber_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?t|e:r(e)._orSelfToNumber_(t)}}),o.Number),n.addMethod(n.method({selector:"bitXor:",protocol:"converting",pragmas:[["inlineJS:",['return typeof aNumber === "number" ?\n\t\tself ^ aNumber :\n\t\t$recv(aNumber)._xorSelfToNumber_(self)']]],messageSends:[]},function(e){return function(e){var t=this;return"number"==typeof e?t^e:r(e)._xorSelfToNumber_(t)}}),o.Number),n.addMethod(n.method({selector:"ceiling",protocol:"converting",pragmas:[["inlineJS:",["return Math.ceil(self);"]]],messageSends:[]},function(e){return function(){var e=this;return Math.ceil(e)}}),o.Number),n.addMethod(n.method({selector:"copy",protocol:"copying",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.Number),n.addMethod(n.method({selector:"cos",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.cos(self);"]]],messageSends:[]},function(e){return function(){var e=this;return Math.cos(e)}}),o.Number),n.addMethod(n.method({selector:"deepCopy",protocol:"copying",pragmas:[],messageSends:["copy"]},function(e){return function(){return this._copy()}}),o.Number),n.addMethod(n.method({selector:"degreesToRadians",protocol:"converting",pragmas:[],messageSends:["*","radiansPerDegree"]},function(e){return function(){return this.__star(r(o.Number)._radiansPerDegree())}}),o.Number),n.addMethod(n.method({selector:"divideBySelfToNumber:",protocol:"arithmetic",pragmas:[["inlineJS:",["return aNumber / self"]]],messageSends:[]},function(e){return function(e){var t=this;return e/t}}),o.Number),n.addMethod(n.method({selector:"divisionRemainderBySelfToNumber:",protocol:"arithmetic",pragmas:[["inlineJS:",["return aNumber % self"]]],messageSends:[]},function(e){return function(e){var t=this;return e%t}}),o.Number),n.addMethod(n.method({selector:"even",protocol:"testing",pragmas:[],messageSends:["=","\\\\"]},function(e){return function(){return(0).__eq(this.__backslash_backslash(2))}}),o.Number),n.addMethod(n.method({selector:"floor",protocol:"converting",pragmas:[["inlineJS:",["return Math.floor(self);"]]],messageSends:[]},function(e){return function(){var e=this;return Math.floor(e)}}),o.Number),n.addMethod(n.method({selector:"isFinite",protocol:"testing",pragmas:[["inlineJS:",["return Number.isFinite(self)"]]],messageSends:[]},function(e){return function(){var e=this;return Number.isFinite(e)}}),o.Number),n.addMethod(n.method({selector:"isImmutable",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),o.Number),n.addMethod(n.method({selector:"isNaN",protocol:"testing",pragmas:[["inlineJS:",["return Number.isNaN(self)"]]],messageSends:[]},function(e){return function(){var e=this;return Number.isNaN(e)}}),o.Number),n.addMethod(n.method({selector:"isNumber",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),o.Number),n.addMethod(n.method({selector:"isNumberEqualToSelf:",protocol:"comparing",pragmas:[["inlineJS:",["return aNumber === Number(self)"]]],messageSends:[]},function(e){return function(e){var t=this;return e===Number(t)}}),o.Number),n.addMethod(n.method({selector:"isNumberGreaterThanOrEqualToSelf:",protocol:"comparing",pragmas:[["inlineJS:",["return aNumber >= self"]]],messageSends:[]},function(e){return function(e){var t=this;return e>=t}}),o.Number),n.addMethod(n.method({selector:"isNumberGreaterThanSelf:",protocol:"comparing",pragmas:[["inlineJS:",["return aNumber > self"]]],messageSends:[]},function(e){return function(e){var t=this;return e>t}}),o.Number),n.addMethod(n.method({selector:"isNumberLessThanOrEqualToSelf:",protocol:"comparing",pragmas:[["inlineJS:",["return aNumber <= self"]]],messageSends:[]},function(e){return function(e){var t=this;return e<=t}}),o.Number),n.addMethod(n.method({selector:"isNumberLessThanSelf:",protocol:"comparing",pragmas:[["inlineJS:",["return aNumber < self"]]],messageSends:[]},function(e){return function(e){var t=this;return e<t}}),o.Number),n.addMethod(n.method({selector:"isZero",protocol:"testing",pragmas:[],messageSends:["="]},function(e){return function(){return this.__eq(0)}}),o.Number),n.addMethod(n.method({selector:"ln",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.log(self);"]]],messageSends:[]},function(e){return function(){var e=this;return Math.log(e)}}),o.Number),n.addMethod(n.method({selector:"ln1p",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.log1p(self);"]]],messageSends:[]},function(e){return function(){var e=this;return Math.log1p(e)}}),o.Number),n.addMethod(n.method({selector:"log",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.log(self) / Math.LN10;"]]],messageSends:[]},function(e){return function(){var e=this;return Math.log(e)/Math.LN10}}),o.Number);n.addMethod(n.method({selector:"log:",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.log(self) / Math.log(aNumber);"]]],messageSends:[]},function(e){return function(e){var t=this;return Math.log(t)/Math.log(e)}}),o.Number),n.addMethod(n.method({selector:"max:",protocol:"arithmetic",pragmas:[["inlineJS:",["return Math.max(self, aNumber);"]]],messageSends:[]},function(e){return function(e){var t=this;return Math.max(t,e)}}),o.Number),n.addMethod(n.method({selector:"min:",protocol:"arithmetic",pragmas:[["inlineJS:",["return Math.min(self, aNumber);"]]],messageSends:[]},function(e){return function(e){
var t=this;return Math.min(t,e)}}),o.Number),n.addMethod(n.method({selector:"min:max:",protocol:"arithmetic",pragmas:[],messageSends:["max:","min:"]},function(e){return function(e,t){return r(this._min_(e))._max_(t)}}),o.Number),n.addMethod(n.method({selector:"minusSelfToNumber:",protocol:"arithmetic",pragmas:[["inlineJS:",["return aNumber - self"]]],messageSends:[]},function(e){return function(e){var t=this;return e-t}}),o.Number),n.addMethod(n.method({selector:"negated",protocol:"arithmetic",pragmas:[],messageSends:["-"]},function(e){return function(){var e=this;return(0).__minus(e)}}),o.Number),n.addMethod(n.method({selector:"negative",protocol:"testing",pragmas:[],messageSends:["<"]},function(e){return function(){return this.__lt(0)}}),o.Number),n.addMethod(n.method({selector:"odd",protocol:"testing",pragmas:[],messageSends:["not","even"]},function(e){return function(){return r(this._even())._not()}}),o.Number),n.addMethod(n.method({selector:"orSelfToNumber:",protocol:"converting",pragmas:[["inlineJS:",["return aNumber | self"]]],messageSends:[]},function(e){return function(e){var t=this;return e|t}}),o.Number),n.addMethod(n.method({selector:"plusSelfToNumber:",protocol:"arithmetic",pragmas:[["inlineJS:",["return aNumber + self"]]],messageSends:[]},function(e){return function(e){var t=this;return e+t}}),o.Number),n.addMethod(n.method({selector:"positive",protocol:"testing",pragmas:[],messageSends:[">="]},function(e){return function(){return this.__gt_eq(0)}}),o.Number),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["nextPutAll:","asString"]},function(e){return function(e){var t=this,n=this;return r(e)._nextPutAll_(n._asString()),t}}),o.Number),n.addMethod(n.method({selector:"printShowingDecimalPlaces:",protocol:"printing",pragmas:[["inlineJS:",["return self.toFixed(placesDesired)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.toFixed(e)}}),o.Number),n.addMethod(n.method({selector:"printStringBase:",protocol:"converting",pragmas:[["inlineJS:",["return self.toString(aBase)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.toString(e)}}),o.Number),n.addMethod(n.method({selector:"radiansToDegrees",protocol:"converting",pragmas:[],messageSends:["/","radiansPerDegree"]},function(e){return function(){return this.__slash(r(o.Number)._radiansPerDegree())}}),o.Number),n.addMethod(n.method({selector:"raisedTo:",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.pow(self, exponent);"]]],messageSends:[]},function(e){return function(e){var t=this;return Math.pow(t,e)}}),o.Number),n.addMethod(n.method({selector:"rounded",protocol:"converting",pragmas:[["inlineJS:",["return Math.round(self);"]]],messageSends:[]},function(e){return function(){var e=this;return Math.round(e)}}),o.Number),n.addMethod(n.method({selector:"sign",protocol:"mathematical functions",pragmas:[],messageSends:["ifTrue:","isZero","ifTrue:ifFalse:","positive"]},function(e){return function(){var e=this;return n.assert(e._isZero())?0:n.assert(e._positive())?1:-1}}),o.Number),n.addMethod(n.method({selector:"sin",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.sin(self);"]]],messageSends:[]},function(e){return function(){var e=this;return Math.sin(e)}}),o.Number),n.addMethod(n.method({selector:"sqrt",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.sqrt(self)"]]],messageSends:[]},function(e){return function(){var e=this;return Math.sqrt(e)}}),o.Number),n.addMethod(n.method({selector:"squared",protocol:"mathematical functions",pragmas:[],messageSends:["*"]},function(e){return function(){var e=this;return this.__star(e)}}),o.Number),n.addMethod(n.method({selector:"tan",protocol:"mathematical functions",pragmas:[["inlineJS:",["return Math.tan(self);"]]],messageSends:[]},function(e){return function(){var e=this;return Math.tan(e)}}),o.Number),n.addMethod(n.method({selector:"timesRepeat:",protocol:"enumerating",pragmas:[],messageSends:["whileFalse:",">","value","+"]},function(e){return function(e){var t,n=this;return t=1,r(function(){return r(t).__gt(n)})._whileFalse_(function(){return r(e)._value(),t=r(t).__plus(1)}),n}}),o.Number),n.addMethod(n.method({selector:"timesSelfToNumber:",protocol:"arithmetic",pragmas:[["inlineJS:",["return aNumber * self"]]],messageSends:[]},function(e){return function(e){var t=this;return e*t}}),o.Number),n.addMethod(n.method({selector:"to:",protocol:"converting",pragmas:[],messageSends:["truncated","+","new","timesRepeat:","-","at:put:"]},function(e){return function(e){var t,n,s,a,i=this;return n=[i._truncated()][0],s=[r(r(e)._truncated()).__plus(1)][0],a=1,t=r(o.Array)._new(),r(r(s).__minus(n))._timesRepeat_(function(){return r(t)._at_put_(a,n),a=[r(a).__plus(1)][0],n=r(n).__plus(1)}),t}}),o.Number),n.addMethod(n.method({selector:"to:by:",protocol:"converting",pragmas:[],messageSends:["new","ifTrue:","=","error:","ifTrue:ifFalse:","<","whileTrue:",">=","at:put:","+","<="]},function(e){return function(e,t){var s,a,i,c=this,l=this;return a=c,s=r(o.Array)._new(),i=1,n.assert(r(t).__eq(0))&&l._error_("step must be non-zero"),n.assert(r(t).__lt(0))?r(function(){return r(a).__gt_eq(e)})._whileTrue_(function(){return r(s)._at_put_(i,a),i=[r(i).__plus(1)][0],a=[r(a).__plus(t)][0]}):r(function(){return r(a).__lt_eq(e)})._whileTrue_(function(){return r(s)._at_put_(i,a),i=[r(i).__plus(1)][0],a=r(a).__plus(t)}),s}}),o.Number),n.addMethod(n.method({selector:"to:by:do:",protocol:"enumerating",pragmas:[],messageSends:["ifTrue:","=","error:","ifTrue:ifFalse:","<","whileTrue:",">=","value:","+","<="]},function(e){return function(e,t,o){var s,a=this,i=this;return s=a,n.assert(r(t).__eq(0))&&i._error_("step must be non-zero"),n.assert(r(t).__lt(0))?r(function(){return r(s).__gt_eq(e)})._whileTrue_(function(){return r(o)._value_(s),s=[r(s).__plus(t)][0]}):r(function(){return r(s).__lt_eq(e)})._whileTrue_(function(){return r(o)._value_(s),s=r(s).__plus(t)}),a}}),o.Number),n.addMethod(n.method({selector:"to:do:",protocol:"enumerating",pragmas:[],messageSends:["whileTrue:","<=","value:","+"]},function(e){return function(e,t){var n,o=this;return n=o,r(function(){return r(n).__lt_eq(e)})._whileTrue_(function(){return r(t)._value_(n),n=r(n).__plus(1)}),o}}),o.Number),n.addMethod(n.method({selector:"truncated",protocol:"converting",pragmas:[["inlineJS:",["\n\t\tif(self >= 0) {\n\t\t\treturn Math.floor(self);\n\t\t} else {\n\t\t\treturn Math.floor(self * (-1)) * (-1);\n\t\t};\n\t"]]],messageSends:[]},function(e){return function(){var e=this;return e>=0?Math.floor(e):-1*Math.floor(-1*e)}}),o.Number),n.addMethod(n.method({selector:"xorSelfToNumber:",protocol:"converting",pragmas:[["inlineJS:",["return aNumber ^ self"]]],messageSends:[]},function(e){return function(e){var t=this;return e^t}}),o.Number),n.addMethod(n.method({selector:"|",protocol:"converting",pragmas:[],messageSends:["bitOr:"]},function(e){return function(e){return this._bitOr_(e)}}),o.Number),n.addMethod(n.method({selector:"classTag",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return"magnitude"}}),o.Number.a$cls),n.addMethod(n.method({selector:"e",protocol:"instance creation",pragmas:[["inlineJS:",["return Math.E;"]]],messageSends:[]},function(e){return function(){return Math.E}}),o.Number.a$cls),n.addMethod(n.method({selector:"negativeInfinity",protocol:"instance creation",pragmas:[["inlineJS:",["return Number.NEGATIVE_INFINITY"]]],messageSends:[]},function(e){return function(){return Number.NEGATIVE_INFINITY}}),o.Number.a$cls),n.addMethod(n.method({selector:"pi",protocol:"instance creation",pragmas:[["inlineJS:",["return Math.PI"]]],messageSends:[]},function(e){return function(){return Math.PI}}),o.Number.a$cls),n.addMethod(n.method({selector:"positiveInfinity",protocol:"instance creation",pragmas:[["inlineJS:",["return Number.POSITIVE_INFINITY"]]],messageSends:[]},function(e){return function(){return Number.POSITIVE_INFINITY}}),o.Number.a$cls),n.addMethod(n.method({selector:"radiansPerDegree",protocol:"instance creation",pragmas:[],messageSends:["/","pi"]},function(e){return function(){return r(this._pi()).__slash(180)}}),o.Number.a$cls),n.addClass("Point",o.Object,"Kernel-Objects"),n.setSlots(o.Point,["x","y"]),n.addMethod(n.method({selector:"*",protocol:"arithmetic",pragmas:[],messageSends:["x:y:","*","x","asPoint","y"]},function(e){return function(e){var t=this;return r(o.Point)._x_y_([r([t._x()][0]).__star(r([r(e)._asPoint()][0])._x())][0],r([t._y()][0]).__star(r(r(e)._asPoint())._y()))}}),o.Point),n.addMethod(n.method({selector:"+",protocol:"arithmetic",pragmas:[],messageSends:["x:y:","+","x","asPoint","y"]},function(e){return function(e){var t=this;return r(o.Point)._x_y_([r([t._x()][0]).__plus(r([r(e)._asPoint()][0])._x())][0],r([t._y()][0]).__plus(r(r(e)._asPoint())._y()))}}),o.Point),n.addMethod(n.method({selector:"-",protocol:"arithmetic",pragmas:[],messageSends:["x:y:","-","x","asPoint","y"]},function(e){return function(e){var t=this;return r(o.Point)._x_y_([r([t._x()][0]).__minus(r([r(e)._asPoint()][0])._x())][0],r([t._y()][0]).__minus(r(r(e)._asPoint())._y()))}}),o.Point),n.addMethod(n.method({selector:"/",protocol:"arithmetic",pragmas:[],messageSends:["x:y:","/","x","asPoint","y"]},function(e){return function(e){var t=this;return r(o.Point)._x_y_([r([t._x()][0]).__slash(r([r(e)._asPoint()][0])._x())][0],r([t._y()][0]).__slash(r(r(e)._asPoint())._y()))}}),o.Point),n.addMethod(n.method({selector:"<",protocol:"comparing",pragmas:[],messageSends:["and:","<","x","y"]},function(e){return function(e){var t=this;return!!n.assert([r([t._x()][0]).__lt(r(e)._x())][0])&&r([t._y()][0]).__lt(r(e)._y())}}),o.Point),n.addMethod(n.method({selector:"<=",protocol:"comparing",pragmas:[],messageSends:["and:","<=","x","y"]},function(e){return function(e){var t=this;return!!n.assert([r([t._x()][0]).__lt_eq(r(e)._x())][0])&&r([t._y()][0]).__lt_eq(r(e)._y())}}),o.Point),n.addMethod(n.method({selector:"=",protocol:"comparing",pragmas:[],messageSends:["and:","=","class","&","x","y"]},function(e){return function(e){var t=this;return!!n.assert([r([r(e)._class()][0]).__eq(t._class())][0])&&r([r([r(e)._x()][0]).__eq(t._x())][0]).__and(r([r(e)._y()][0]).__eq(t._y()))}}),o.Point),n.addMethod(n.method({selector:">",protocol:"comparing",pragmas:[],messageSends:["and:",">","x","y"]},function(e){return function(e){var t=this;return!!n.assert([r([t._x()][0]).__gt(r(e)._x())][0])&&r([t._y()][0]).__gt(r(e)._y())}}),o.Point),n.addMethod(n.method({selector:">=",protocol:"comparing",pragmas:[],messageSends:["and:",">=","x","y"]},function(e){return function(e){var t=this;return!!n.assert([r([t._x()][0]).__gt_eq(r(e)._x())][0])&&r([t._y()][0]).__gt_eq(r(e)._y())}}),o.Point),n.addMethod(n.method({selector:"angle",protocol:"geometry",pragmas:[],messageSends:["arcTan:","y","x"]},function(e){return function(){var e=this;return r(e._y())._arcTan_(e._x())}}),o.Point),n.addMethod(n.method({selector:"asPoint",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){var e=this;return e}}),o.Point),n.addMethod(n.method({selector:"corner:",protocol:"rectangle creation",pragmas:[],messageSends:["origin:corner:"]},function(e){return function(e){var t=this;return r(o.Rectangle)._origin_corner_(t,e)}}),o.Point),n.addMethod(n.method({selector:"dist:",protocol:"transforming",pragmas:[],messageSends:["-","x","y","sqrt","+","*"]},function(e){return function(e){var t,n,o=this;return t=[r(r(e)._x()).__minus(o.x)][0],n=r(r(e)._y()).__minus(o.y),r(r([r(t).__star(t)][0]).__plus(r(n).__star(n)))._sqrt()}}),o.Point),n.addMethod(n.method({selector:"dotProduct:",protocol:"point functions",pragmas:[],messageSends:["+","*","x","y"]},function(e){return function(e){var t=this;return r([r(t.x).__star(r(e)._x())][0]).__plus(r(t.y).__star(r(e)._y()))}}),o.Point),n.addMethod(n.method({selector:"extent:",protocol:"rectangle creation",pragmas:[],messageSends:["origin:extent:"]},function(e){return function(e){var t=this;return r(o.Rectangle)._origin_extent_(t,e)}}),o.Point),n.addMethod(n.method({selector:"normal",protocol:"point functions",pragmas:[],messageSends:["@","negated","ifTrue:","=","+","*","x","y","/","sqrt"]},function(e){return function(){var e,t,o=this;return e=[r(r(o.y)._negated()).__at(o.x)][0],t=r([r([r(e)._x()][0]).__star(r(e)._x())][0]).__plus(r([r(e)._y()][0]).__star(r(e)._y())),n.assert(r(t).__eq(0))?(-1).__at(0):r(e).__slash(r(t)._sqrt())}}),o.Point),n.addMethod(n.method({selector:"normalized",protocol:"point functions",pragmas:[],messageSends:["r","ifTrue:ifFalse:","=","x:y:","/"]},function(e){return function(){var e,t=this;return e=t._r(),n.assert(r(e).__eq(0))?[r(o.Point)._x_y_(0,0)][0]:r(o.Point)._x_y_([r(t.x).__slash(e)][0],r(t.y).__slash(e))}}),o.Point),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["printOn:","nextPutAll:","ifTrue:","and:","notNil","negative","space"]},function(e){return function(e){var t,o=this,s=this;return r(s.x)._printOn_(e),r(e)._nextPutAll_("@"),t=!!n.assert(r(s.y)._notNil())&&r(s.y)._negative(),n.assert(t)&&r(e)._space(),r(s.y)._printOn_(e),o}}),o.Point),n.addMethod(n.method({selector:"r",protocol:"polar coordinates",pragmas:[],messageSends:["sqrt","+","*"]},function(e){return function(){var e=this;return r(r([r(e.x).__star(e.x)][0]).__plus(r(e.y).__star(e.y)))._sqrt()}}),o.Point),n.addMethod(n.method({selector:"rectangle:",protocol:"rectangle creation",pragmas:[],messageSends:["point:point:"]},function(e){return function(e){var t=this;return r(o.Rectangle)._point_point_(t,e)}}),o.Point),n.addMethod(n.method({selector:"translateBy:",protocol:"transforming",pragmas:[],messageSends:["@","+","x","y"]},function(e){return function(e){var t=this;return r([r(r(e)._x()).__plus(t.x)][0]).__at(r(r(e)._y()).__plus(t.y))}}),o.Point),n.addMethod(n.method({selector:"x",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.x}}),o.Point),n.addMethod(n.method({selector:"x:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.x=e,t}}),o.Point),n.addMethod(n.method({selector:"y",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.y}}),o.Point),n.addMethod(n.method({selector:"y:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.y=e,t}}),o.Point),n.addMethod(n.method({selector:"classTag",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return"magnitude"}}),o.Point.a$cls),n.addMethod(n.method({selector:"x:y:",protocol:"instance creation",pragmas:[],messageSends:["x:","new","y:","yourself"]},function(e){return function(e,t){var n,o=this;return n=o._new(),r(n)._x_(e),r(n)._y_(t),r(n)._yourself()}}),o.Point.a$cls),n.addClass("Random",o.Object,"Kernel-Objects"),n.addMethod(n.method({selector:"next",protocol:"accessing",pragmas:[["inlineJS:",["return Math.random()"]]],messageSends:[]},function(e){return function(){return Math.random()}}),o.Random),n.addMethod(n.method({selector:"next:",protocol:"accessing",pragmas:[],messageSends:["collect:","to:","next"]},function(e){return function(e){var t=this;return r(1.._to_(e))._collect_(function(e){return t._next()})}}),o.Random),n.addClass("Rectangle",o.Object,"Kernel-Objects"),n.setSlots(o.Rectangle,["origin","corner"]),n.addMethod(n.method({selector:"=",protocol:"testing",pragmas:[],messageSends:["and:","=","origin","corner"]},function(e){return function(e){var t=this;return!!n.assert([r(t.origin).__eq(r(e)._origin())][0])&&r(t.corner).__eq(r(e)._corner())}}),o.Rectangle),n.addMethod(n.method({selector:"containsPoint:",protocol:"testing",pragmas:[],messageSends:["and:","<=",">="]},function(e){return function(e){var t=this;return!!n.assert(r(t.origin).__lt_eq(e))&&r(t.corner).__gt_eq(e)}}),o.Rectangle),n.addMethod(n.method({selector:"containsRect:",protocol:"testing",pragmas:[],messageSends:["and:",">=","origin","<=","corner"]},function(e){return function(e){var t=this;return!!n.assert(r(r(e)._origin()).__gt_eq(t.origin))&&r(r(e)._corner()).__lt_eq(t.corner)}}),o.Rectangle),n.addMethod(n.method({selector:"corner",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.corner}}),o.Rectangle),n.addMethod(n.method({selector:"origin",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.origin}}),o.Rectangle),n.addMethod(n.method({selector:"printOn:",protocol:"testing",pragmas:[],messageSends:["printOn:","nextPutAll:"]},function(e){return function(e){var t=this,n=this;return r(n.origin)._printOn_(e),r(e)._nextPutAll_(" corner: "),r(n.corner)._printOn_(e),t}}),o.Rectangle),n.addMethod(n.method({selector:"setPoint:point:",protocol:"private",pragmas:[],messageSends:["@","min:","x","y","max:"]},function(e){return function(e,t){var n=this,o=this;return o.origin=[r([r([r(e)._x()][0])._min_([r(t)._x()][0])][0]).__at(r([r(e)._y()][0])._min_([r(t)._y()][0]))][0],o.corner=r([r([r(e)._x()][0])._max_(r(t)._x())][0]).__at(r([r(e)._y()][0])._max_(r(t)._y())),n}}),o.Rectangle),n.addMethod(n.method({selector:"origin:corner:",protocol:"instance creation",pragmas:[],messageSends:["setPoint:point:","basicNew"]},function(e){return function(e,t){return r(this._basicNew())._setPoint_point_(e,t)}}),o.Rectangle.a$cls),n.addMethod(n.method({selector:"origin:extent:",protocol:"instance creation",pragmas:[],messageSends:["setPoint:point:","basicNew","+"]},function(e){return function(e,t){return r(this._basicNew())._setPoint_point_(e,r(e).__plus(t))}}),o.Rectangle.a$cls),n.addMethod(n.method({selector:"point:point:",protocol:"instance creation",pragmas:[],messageSends:["setPoint:point:","basicNew"]},function(e){return function(e,t){return r(this._basicNew())._setPoint_point_(e,t)}}),o.Rectangle.a$cls),n.addClass("UndefinedObject",o.Object,"Kernel-Objects"),n.addMethod(n.method({selector:"==",protocol:"testing",pragmas:[],messageSends:["isNil"]},function(e){return function(e){return r(e)._isNil()}}),o.UndefinedObject),n.addMethod(n.method({selector:"asJavaScriptObject",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){return null}}),o.UndefinedObject),n.addMethod(n.method({selector:"asJavaScriptSource",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){return"null"}}),o.UndefinedObject),n.addMethod(n.method({selector:"deepCopy",protocol:"copying",pragmas:[],messageSends:[]},function(e){return function(){var e=this;return e}}),o.UndefinedObject),n.addMethod(n.method({selector:"identityHash",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return"NIL"}}),o.UndefinedObject),n.addMethod(n.method({selector:"ifNil:",protocol:"testing",pragmas:[],messageSends:["ifNil:ifNotNil:"]},function(e){return function(e){return this._ifNil_ifNotNil_(e,function(){})}}),o.UndefinedObject),n.addMethod(n.method({selector:"ifNil:ifNotNil:",protocol:"testing",pragmas:[],messageSends:["value"]},function(e){return function(e,t){return r(e)._value()}}),o.UndefinedObject),n.addMethod(n.method({selector:"ifNotNil:",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return t}}),o.UndefinedObject),n.addMethod(n.method({selector:"ifNotNil:ifNil:",protocol:"testing",pragmas:[],messageSends:["value"]},function(e){return function(e,t){return r(t)._value()}}),o.UndefinedObject),n.addMethod(n.method({selector:"isImmutable",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),o.UndefinedObject),n.addMethod(n.method({selector:"isNil",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),o.UndefinedObject),n.addMethod(n.method({selector:"notNil",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),o.UndefinedObject),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["nextPutAll:"]},function(e){return function(e){var t=this;return r(e)._nextPutAll_("nil"),t}}),o.UndefinedObject),n.addMethod(n.method({selector:"shallowCopy",protocol:"copying",pragmas:[],messageSends:[]},function(e){return function(){var e=this;return e}}),o.UndefinedObject),n.addMethod(n.method({selector:"value",protocol:"evaluating",pragmas:[["inlineJS:",["return null"]]],messageSends:[]},function(e){return function(){return null}}),o.UndefinedObject),n.addMethod(n.method({selector:"new",protocol:"instance creation",pragmas:[],messageSends:["error:"]},function(e){return function(){var e=this;return this._error_("You cannot create new instances of UndefinedObject. Use nil"),e}}),o.UndefinedObject.a$cls),n.setTraitComposition([{trait:o.TIsInGroup}],o.Object),n.setTraitComposition([{trait:o.TSubclassable}],o.UndefinedObject)}),define("amber/core/Kernel-Collections",["amber/boot","require","amber/core/Kernel-Objects"],function(e,t){"use strict";var n=e.api,r=e.nilAsValue,o=(e.nilAsReceiver,e.asReceiver),s=e.globals;n.addPackage("Kernel-Collections").transport={type:"amd",amdNamespace:"amber/core"},n.addClass("Association",s.Object,"Kernel-Collections"),n.setSlots(s.Association,["key","value"]),n.addMethod(n.method({selector:"=",protocol:"comparing",pragmas:[],messageSends:["and:","=","class","key","value"]},function(e){return function(e){var t=this;return!!n.assert([o([t._class()][0]).__eq(o(e)._class())][0])&&!!n.assert([o([t._key()][0]).__eq(o(e)._key())][0])&&o([t._value()][0]).__eq(o(e)._value())}}),s.Association),n.addMethod(n.method({selector:"key",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.key}}),s.Association),n.addMethod(n.method({selector:"key:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.key=e,t}}),s.Association),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["printOn:","key","nextPutAll:","value"]},function(e){return function(e){var t=this,n=this;return o(n._key())._printOn_(e),o(e)._nextPutAll_(" -> "),o(n._value())._printOn_(e),t}}),s.Association),n.addMethod(n.method({selector:"value",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.value}}),s.Association),n.addMethod(n.method({selector:"value:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.value=e,t}}),s.Association),n.addMethod(n.method({selector:"key:value:",protocol:"instance creation",pragmas:[],messageSends:["key:","new","value:","yourself"]},function(e){return function(e,t){var n;return n=this._new(),o(n)._key_(e),o(n)._value_(t),o(n)._yourself()}}),s.Association.a$cls),n.addClass("BucketStore",s.Object,"Kernel-Collections"),n.setSlots(s.BucketStore,["buckets","hashBlock"]),n.addMethod(n.method({selector:"bucketOfElement:",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\tvar hash = $self.hashBlock(anObject);\n\t\tif (!hash) return null;\n\t\tvar buckets = $self.buckets,\n\t\t\tbucket = buckets[hash];\n\t\tif (!bucket) { bucket = buckets[hash] = $self._newBucket(); }\n\t\treturn bucket;\n\t"]]],messageSends:[]},function(e){return function(e){var t=this,n=t.hashBlock(e);if(!n)return null;var r=t.buckets,o=r[n];return o||(o=r[n]=t._newBucket()),o}}),s.BucketStore),n.addMethod(n.method({selector:"do:",protocol:"enumerating",pragmas:[["inlineJS:",["\n\t\tvar buckets = $self.buckets;\n\t\tvar keys = Object.keys(buckets);\n\t\tfor (var i = 0; i < keys.length; ++i) { buckets[keys[i]]._do_(aBlock); }\n\t"]]],messageSends:[]},function(e){return function(e){for(var t=this,n=this,r=n.buckets,o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]._do_(e);return t}}),s.BucketStore),n.addMethod(n.method({selector:"hashBlock:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.hashBlock=e,t}}),s.BucketStore),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["initialize","removeAll"]},function(t){return function(){var n=this,r=this;return(t.superclass||e.nilAsClass).fn.prototype._initialize.call(r),r._removeAll(),n}}),s.BucketStore),n.addMethod(n.method({selector:"newBucket",protocol:"private",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.BucketStore),n.addMethod(n.method({selector:"removeAll",protocol:"adding/removing",pragmas:[["inlineJS:",["$self.buckets = Object.create(null);"]]],messageSends:[]},function(e){return function(){var e=this;return this.buckets=Object.create(null),e}}),s.BucketStore),n.addMethod(n.method({selector:"hashBlock:",protocol:"instance creation",pragmas:[],messageSends:["hashBlock:","new","yourself"]},function(e){return function(e){var t;return t=this._new(),o(t)._hashBlock_(e),o(t)._yourself()}}),s.BucketStore.a$cls),n.addClass("ArrayBucketStore",s.BucketStore,"Kernel-Collections"),n.addMethod(n.method({selector:"newBucket",protocol:"private",pragmas:[],messageSends:[]},function(e){return function(){return[]}}),s.ArrayBucketStore),n.addClass("Collection",s.Object,"Kernel-Collections"),n.addMethod(n.method({selector:",",protocol:"copying",pragmas:[],messageSends:["addAll:","copy","yourself"]},function(e){return function(e){var t;return t=this._copy(),o(t)._addAll_(e),o(t)._yourself()}}),s.Collection),n.addMethod(n.method({selector:"add:",protocol:"adding/removing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e){var t=this;return this._subclassResponsibility(),t}}),s.Collection),n.addMethod(n.method({selector:"addAll:",protocol:"adding/removing",pragmas:[],messageSends:["do:","add:"]},function(e){return function(e){var t=this;return o(e)._do_(function(e){return t._add_(e)}),e}}),s.Collection),n.addMethod(n.method({selector:"allSatisfy:",protocol:"enumerating",pragmas:[],messageSends:["do:","ifFalse:","value:"]},function(e){return function(e){var t=this,r={};try{return t._do_(function(t){if(!n.assert(o(e)._value_(t)))throw r=[!1]}),!0}catch(e){if(e===r)return e[0];throw e}}}),s.Collection),n.addMethod(n.method({selector:"anyOne",protocol:"accessing",pragmas:[],messageSends:["ifEmpty:","error:","do:"]},function(e){return function(){var e=this,t=this,n={};try{return t._ifEmpty_(function(){return t._error_("Collection is empty")}),t._do_(function(e){throw n=[e]}),e}catch(e){if(e===n)return e[0];throw e}}}),s.Collection),n.addMethod(n.method({selector:"anySatisfy:",protocol:"enumerating",pragmas:[],messageSends:["do:","ifTrue:","value:"]},function(e){return function(e){var t=this,r={};try{return t._do_(function(t){if(n.assert(o(e)._value_(t)))throw r=[!0]}),!1}catch(e){if(e===r)return e[0];throw e}}}),s.Collection),n.addMethod(n.method({selector:"asArray",protocol:"converting",pragmas:[],messageSends:["withAll:"]},function(e){return function(){var e=this;return o(s.Array)._withAll_(e)}}),s.Collection),n.addMethod(n.method({selector:"asJavaScriptObject",protocol:"converting",pragmas:[],messageSends:["collect:","asArray","asJavaScriptObject"]},function(e){return function(){return o(this._asArray())._collect_(function(e){return o(e)._asJavaScriptObject()})}}),s.Collection),n.addMethod(n.method({selector:"asOrderedCollection",protocol:"converting",pragmas:[],messageSends:["asArray"]},function(e){return function(){return this._asArray()}}),s.Collection),n.addMethod(n.method({selector:"asSet",protocol:"converting",pragmas:[],messageSends:["withAll:"]},function(e){return function(){var e=this;return o(s.Set)._withAll_(e)}}),s.Collection),n.addMethod(n.method({selector:"collect:",protocol:"enumerating",pragmas:[],messageSends:["writeStream","new","class","do:","nextPut:","value:","contents"]},function(e){return function(e){var t,n=this;return t=o(o(n._class())._new())._writeStream(),n._do_(function(n){return o(t)._nextPut_(o(e)._value_(n))}),o(t)._contents()}}),s.Collection),n.addMethod(n.method({selector:"copyEmpty",protocol:"copying",pragmas:[],messageSends:["new","class"]},function(e){return function(){return o(this._class())._new()}}),s.Collection),n.addMethod(n.method({selector:"copyWith:",protocol:"copying",pragmas:[],messageSends:["add:","copy","yourself"]},function(e){return function(e){var t;return t=this._copy(),o(t)._add_(e),o(t)._yourself()}}),s.Collection),n.addMethod(n.method({selector:"copyWithAll:",protocol:"copying",pragmas:[],messageSends:["deprecatedAPI:",","]},function(e){return function(e){var t=this;return t._deprecatedAPI_("Use #, instead."),t.__comma(e)}}),s.Collection),n.addMethod(n.method({selector:"copyWithout:",protocol:"copying",pragmas:[],messageSends:["reject:","="]},function(e){return function(e){return this._reject_(function(t){return o(t).__eq(e)})}}),s.Collection),n.addMethod(n.method({selector:"copyWithoutAll:",protocol:"copying",pragmas:[],messageSends:["reject:","includes:"]},function(e){return function(e){return this._reject_(function(t){return o(e)._includes_(t)})}}),s.Collection),n.addMethod(n.method({selector:"deepCopy",protocol:"copying",pragmas:[],messageSends:["collect:","deepCopy"]},function(e){return function(){return this._collect_(function(e){return o(e)._deepCopy()})}}),s.Collection),n.addMethod(n.method({selector:"detect:",protocol:"enumerating",pragmas:[],messageSends:["detect:ifNone:","errorNotFound"]},function(e){return function(e){var t=this;return t._detect_ifNone_(e,function(){return t._errorNotFound()})}}),s.Collection),n.addMethod(n.method({selector:"detect:ifNone:",protocol:"enumerating",pragmas:[],messageSends:["do:","ifTrue:","value:","value"]},function(e){return function(e,t){var r=this,s={};try{return r._do_(function(t){if(n.assert(o(e)._value_(t)))throw s=[t]}),o(t)._value()}catch(e){if(e===s)return e[0];throw e}}}),s.Collection),n.addMethod(n.method({selector:"do:",protocol:"enumerating",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e){var t=this;return this._subclassResponsibility(),t}}),s.Collection),n.addMethod(n.method({selector:"do:separatedBy:",protocol:"enumerating",pragmas:[],messageSends:["do:","value","value:"]},function(e){return function(e,t){var n,r=this,s=this;return n=function(){return n=t},s._do_(function(t){return o(n)._value(),o(e)._value_(t)}),r}}),s.Collection),n.addMethod(n.method({selector:"errorNotFound",protocol:"error handling",pragmas:[],messageSends:["error:"]},function(e){return function(){var e=this;return this._error_("Object is not in the collection"),e}}),s.Collection),n.addMethod(n.method({selector:"ifEmpty:",protocol:"testing",pragmas:[],messageSends:["ifTrue:ifFalse:","isEmpty","value"]},function(e){return function(e){var t=this,r=this;return n.assert(r._isEmpty())?o(e)._value():t}}),s.Collection),n.addMethod(n.method({selector:"ifEmpty:ifNotEmpty:",protocol:"testing",pragmas:[],messageSends:["ifTrue:ifFalse:","isEmpty","value","value:"]},function(e){return function(e,t){var r=this,s=this;return n.assert(s._isEmpty())?o(e)._value():o(t)._value_(r)}}),s.Collection),n.addMethod(n.method({selector:"ifNotEmpty:",protocol:"testing",pragmas:[],messageSends:["ifTrue:ifFalse:","notEmpty","value:"]},function(e){return function(e){var t=this,r=this;return n.assert(r._notEmpty())?o(e)._value_(t):t}}),s.Collection),n.addMethod(n.method({selector:"ifNotEmpty:ifEmpty:",protocol:"testing",pragmas:[],messageSends:["ifTrue:ifFalse:","notEmpty","value:","value"]},function(e){return function(e,t){var r=this,s=this;return n.assert(s._notEmpty())?o(e)._value_(r):o(t)._value()}}),s.Collection),n.addMethod(n.method({selector:"includes:",protocol:"testing",pragmas:[],messageSends:["anySatisfy:","="]},function(e){return function(e){return this._anySatisfy_(function(t){return o(t).__eq(e)})}}),s.Collection),n.addMethod(n.method({selector:"inject:into:",protocol:"enumerating",pragmas:[],messageSends:["do:","value:value:"]},function(e){return function(e,t){var n,r=this;return n=e,r._do_(function(e){return n=o(t)._value_value_(n,e)}),n}}),s.Collection),
n.addMethod(n.method({selector:"intersection:",protocol:"enumerating",pragmas:[],messageSends:["asSet","new","do:","ifTrue:","and:","includes:","not","add:","withAll:","class","asArray"]},function(e){return function(e){var t,r,a,i=this;return t=i._asSet(),r=o(s.Set)._new(),o(e)._do_(function(e){if(a=!!n.assert([o(t)._includes_(e)][0])&&o(o(r)._includes_(e))._not(),n.assert(a))return o(r)._add_(e)}),o(i._class())._withAll_(o(r)._asArray())}}),s.Collection),n.addMethod(n.method({selector:"isEmpty",protocol:"testing",pragmas:[],messageSends:["=","size"]},function(e){return function(){return o(this._size()).__eq(0)}}),s.Collection),n.addMethod(n.method({selector:"noneSatisfy:",protocol:"enumerating",pragmas:[],messageSends:["do:","ifTrue:","value:"]},function(e){return function(e){var t=this,r={};try{return t._do_(function(t){if(n.assert(o(e)._value_(t)))throw r=[!1]}),!0}catch(e){if(e===r)return e[0];throw e}}}),s.Collection),n.addMethod(n.method({selector:"notEmpty",protocol:"testing",pragmas:[],messageSends:["not","isEmpty"]},function(e){return function(){return o(this._isEmpty())._not()}}),s.Collection),n.addMethod(n.method({selector:"occurrencesOf:",protocol:"accessing",pragmas:[],messageSends:["do:","ifTrue:","=","+"]},function(e){return function(e){var t,r=this;return t=0,r._do_(function(r){if(n.assert(o(e).__eq(r)))return t=o(t).__plus(1)}),t}}),s.Collection),n.addMethod(n.method({selector:"putOn:",protocol:"streaming",pragmas:[],messageSends:["do:","putOn:"]},function(e){return function(e){var t=this;return this._do_(function(t){return o(t)._putOn_(e)}),t}}),s.Collection),n.addMethod(n.method({selector:"reject:",protocol:"enumerating",pragmas:[],messageSends:["select:","=","value:"]},function(e){return function(e){return this._select_(function(t){return o(o(e)._value_(t)).__eq(!1)})}}),s.Collection),n.addMethod(n.method({selector:"remove:",protocol:"adding/removing",pragmas:[],messageSends:["remove:ifAbsent:","errorNotFound"]},function(e){return function(e){var t=this;return t._remove_ifAbsent_(e,function(){return t._errorNotFound()})}}),s.Collection),n.addMethod(n.method({selector:"remove:ifAbsent:",protocol:"adding/removing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e,t){var n=this;return this._subclassResponsibility(),n}}),s.Collection),n.addMethod(n.method({selector:"removeAll",protocol:"adding/removing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.Collection),n.addMethod(n.method({selector:"select:",protocol:"enumerating",pragmas:[],messageSends:["writeStream","new","class","do:","ifTrue:","value:","nextPut:","contents"]},function(e){return function(e){var t,r=this;return t=o(o(r._class())._new())._writeStream(),r._do_(function(r){if(n.assert(o(e)._value_(r)))return o(t)._nextPut_(r)}),o(t)._contents()}}),s.Collection),n.addMethod(n.method({selector:"select:thenCollect:",protocol:"enumerating",pragmas:[],messageSends:["writeStream","new","class","do:","ifTrue:","value:","nextPut:","contents"]},function(e){return function(e,t){var r,s=this;return r=o(o(s._class())._new())._writeStream(),s._do_(function(s){if(n.assert([o(e)._value_(s)][0]))return o(r)._nextPut_(o(t)._value_(s))}),o(r)._contents()}}),s.Collection),n.addMethod(n.method({selector:"shallowCopy",protocol:"copying",pragmas:[],messageSends:["collect:"]},function(e){return function(){return this._collect_(function(e){return e})}}),s.Collection),n.addMethod(n.method({selector:"shortenedPrintString",protocol:"printing",pragmas:[],messageSends:["ifTrue:ifFalse:","<=","size","printString",",","copyWith:","copyEmpty","anyOne","asString","-"]},function(e){return function(){var e=this;return n.assert(o([e._size()][0]).__lt_eq(1))?[e._printString()][0]:[o([o(o(o(o(e._copyEmpty())._copyWith_(e._anyOne()))._printString()).__comma(" ... ")).__comma(o(o(e._size()).__minus(1))._asString())][0]).__comma(" more items")][0]}}),s.Collection),n.addMethod(n.method({selector:"single",protocol:"accessing",pragmas:[],messageSends:["ifEmpty:","error:","ifTrue:",">","size","anyOne"]},function(e){return function(){var e=this;return e._ifEmpty_(function(){return[e._error_("Collection is empty")][0]}),n.assert(o(e._size()).__gt(1))&&e._error_("Collection holds more than one element"),e._anyOne()}}),s.Collection),n.addMethod(n.method({selector:"size",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.Collection),n.addMethod(n.method({selector:"classTag",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return"collection"}}),s.Collection.a$cls),n.addMethod(n.method({selector:"new:",protocol:"instance creation",pragmas:[],messageSends:["new"]},function(e){return function(e){return this._new()}}),s.Collection.a$cls),n.addMethod(n.method({selector:"with:",protocol:"instance creation",pragmas:[],messageSends:["add:","new","yourself"]},function(e){return function(e){var t;return t=this._new(),o(t)._add_(e),o(t)._yourself()}}),s.Collection.a$cls),n.addMethod(n.method({selector:"with:with:",protocol:"instance creation",pragmas:[],messageSends:["add:","new","yourself"]},function(e){return function(e,t){var n;return n=this._new(),o(n)._add_(e),o(n)._add_(t),o(n)._yourself()}}),s.Collection.a$cls),n.addMethod(n.method({selector:"with:with:with:",protocol:"instance creation",pragmas:[],messageSends:["add:","new","yourself"]},function(e){return function(e,t,n){var r;return r=this._new(),o(r)._add_(e),o(r)._add_(t),o(r)._add_(n),o(r)._yourself()}}),s.Collection.a$cls),n.addMethod(n.method({selector:"withAll:",protocol:"instance creation",pragmas:[],messageSends:["addAll:","new","yourself"]},function(e){return function(e){var t;return t=this._new(),o(t)._addAll_(e),o(t)._yourself()}}),s.Collection.a$cls),n.addClass("AssociativeCollection",s.Collection,"Kernel-Collections"),n.addMethod(n.method({selector:"=",protocol:"comparing",pragmas:[],messageSends:["and:","=","class","size","new","allSatisfy:","associations","at:ifPresent:ifAbsent:","key","add:","value","first","second"]},function(e){return function(e){var t=this;if(n.assert([o([t._class()][0]).__eq(o(e)._class())][0])){if(n.assert([o([t._size()][0]).__eq(o(e)._size())][0])){var r;return r=o(s.OrderedCollection)._new(),!!n.assert([o(t._associations())._allSatisfy_(function(t){return o(e)._at_ifPresent_ifAbsent_(o(t)._key(),function(e){return o(r)._add_([o(t)._value(),e]),!0},function(){return!1})})][0])&&o(r)._allSatisfy_(function(e){return o(o(e)._first()).__eq(o(e)._second())})}return!1}return!1}}),s.AssociativeCollection),n.addMethod(n.method({selector:"add:",protocol:"adding/removing",pragmas:[],messageSends:["at:put:","key","value"]},function(e){return function(e){var t=this;return this._at_put_(o(e)._key(),o(e)._value()),t}}),s.AssociativeCollection),n.addMethod(n.method({selector:"addAll:",protocol:"adding/removing",pragmas:[],messageSends:["addAll:","associations"]},function(t){return function(n){var r=this;return(t.superclass||e.nilAsClass).fn.prototype._addAll_.call(r,o(n)._associations()),n}}),s.AssociativeCollection),n.addMethod(n.method({selector:"asDictionary",protocol:"converting",pragmas:[],messageSends:["from:","associations"]},function(e){return function(){var e=this;return o(s.Dictionary)._from_(e._associations())}}),s.AssociativeCollection),n.addMethod(n.method({selector:"asHashedCollection",protocol:"converting",pragmas:[],messageSends:["from:","associations"]},function(e){return function(){var e=this;return o(s.HashedCollection)._from_(e._associations())}}),s.AssociativeCollection),n.addMethod(n.method({selector:"asJavaScriptObject",protocol:"converting",pragmas:[],messageSends:["new","keysAndValuesDo:","at:put:","asJavaScriptObject"]},function(e){return function(){var e,t=this;return e=o(s.HashedCollection)._new(),t._keysAndValuesDo_(function(t,n){return o(e)._at_put_(t,o(n)._asJavaScriptObject())}),e}}),s.AssociativeCollection),n.addMethod(n.method({selector:"associations",protocol:"accessing",pragmas:[],messageSends:["associationsDo:","add:"]},function(e){return function(){var e,t=this;return e=[],t._associationsDo_(function(t){return o(e)._add_(t)}),e}}),s.AssociativeCollection),n.addMethod(n.method({selector:"associationsDo:",protocol:"enumerating",pragmas:[],messageSends:["keysAndValuesDo:","value:","key:value:"]},function(e){return function(e){var t=this;return this._keysAndValuesDo_(function(t,n){return o(e)._value_(o(s.Association)._key_value_(t,n))}),t}}),s.AssociativeCollection),n.addMethod(n.method({selector:"at:ifPresent:ifAbsent:",protocol:"accessing",pragmas:[],messageSends:["ifTrue:ifFalse:","includesKey:","value:","at:","value"]},function(e){return function(e,t,r){var s=this;return n.assert(s._includesKey_(e))?o(t)._value_(s._at_(e)):o(r)._value()}}),s.AssociativeCollection),n.addMethod(n.method({selector:"collect:",protocol:"enumerating",pragmas:[],messageSends:["new","class","keysAndValuesDo:","at:put:","value:"]},function(e){return function(e){var t,n=this;return t=o(n._class())._new(),n._keysAndValuesDo_(function(n,r){return o(t)._at_put_(n,o(e)._value_(r))}),t}}),s.AssociativeCollection),n.addMethod(n.method({selector:"deepCopy",protocol:"copying",pragmas:[],messageSends:["new","class","keysAndValuesDo:","at:put:","deepCopy"]},function(e){return function(){var e,t=this;return e=o(t._class())._new(),t._keysAndValuesDo_(function(t,n){return o(e)._at_put_(t,o(n)._deepCopy())}),e}}),s.AssociativeCollection),n.addMethod(n.method({selector:"detect:ifNone:",protocol:"enumerating",pragmas:[],messageSends:["detect:ifNone:","values"]},function(e){return function(e,t){return o(this._values())._detect_ifNone_(e,t)}}),s.AssociativeCollection),n.addMethod(n.method({selector:"do:",protocol:"enumerating",pragmas:[],messageSends:["valuesDo:"]},function(e){return function(e){var t=this;return this._valuesDo_(e),t}}),s.AssociativeCollection),n.addMethod(n.method({selector:"includes:",protocol:"enumerating",pragmas:[],messageSends:["includes:","values"]},function(e){return function(e){return o(this._values())._includes_(e)}}),s.AssociativeCollection),n.addMethod(n.method({selector:"includesKey:",protocol:"testing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e){var t=this;return this._subclassResponsibility(),t}}),s.AssociativeCollection),n.addMethod(n.method({selector:"indexOf:ifAbsent:",protocol:"accessing",pragmas:[],messageSends:["detect:ifNone:","keys","=","at:"]},function(e){return function(e,t){var n=this;return o(n._keys())._detect_ifNone_(function(t){return o(n._at_(t)).__eq(e)},t)}}),s.AssociativeCollection),n.addMethod(n.method({selector:"keyAtValue:",protocol:"accessing",pragmas:[],messageSends:["keyAtValue:ifAbsent:","errorNotFound"]},function(e){return function(e){var t=this;return t._keyAtValue_ifAbsent_(e,function(){return t._errorNotFound()})}}),s.AssociativeCollection),n.addMethod(n.method({selector:"keyAtValue:ifAbsent:",protocol:"accessing",pragmas:[],messageSends:["indexOf:ifAbsent:"]},function(e){return function(e,t){return this._indexOf_ifAbsent_(e,t)}}),s.AssociativeCollection),n.addMethod(n.method({selector:"keys",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.AssociativeCollection),n.addMethod(n.method({selector:"keysAndValuesDo:",protocol:"enumerating",pragmas:[],messageSends:["keysDo:","value:value:","at:"]},function(e){return function(e){var t=this,n=this;return n._keysDo_(function(t){return o(e)._value_value_(t,n._at_(t))}),t}}),s.AssociativeCollection),n.addMethod(n.method({selector:"keysDo:",protocol:"enumerating",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e){var t=this;return this._subclassResponsibility(),t}}),s.AssociativeCollection),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["printOn:","nextPutAll:","do:separatedBy:","associations"]},function(t){return function(n){var r=this,s=this;return(t.superclass||e.nilAsClass).fn.prototype._printOn_.call(s,n),o(n)._nextPutAll_(" ("),o(s._associations())._do_separatedBy_(function(e){return o(e)._printOn_(n)},function(){return[o(n)._nextPutAll_(" , ")][0]}),o(n)._nextPutAll_(")"),r}}),s.AssociativeCollection),n.addMethod(n.method({selector:"remove:ifAbsent:",protocol:"adding/removing",pragmas:[],messageSends:["removeKey:ifAbsent:"]},function(e){return function(e,t){return this._removeKey_ifAbsent_(e,t)}}),s.AssociativeCollection),n.addMethod(n.method({selector:"removeAll",protocol:"adding/removing",pragmas:[],messageSends:["do:","keys","removeKey:"]},function(e){return function(){var e=this;return o(e._keys())._do_(function(t){return e._removeKey_(t)})}}),s.AssociativeCollection),n.addMethod(n.method({selector:"removeKey:",protocol:"adding/removing",pragmas:[],messageSends:["remove:"]},function(e){return function(e){return this._remove_(e)}}),s.AssociativeCollection),n.addMethod(n.method({selector:"removeKey:ifAbsent:",protocol:"adding/removing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e,t){var n=this;return this._subclassResponsibility(),n}}),s.AssociativeCollection),n.addMethod(n.method({selector:"select:",protocol:"enumerating",pragmas:[],messageSends:["new","class","keysAndValuesDo:","ifTrue:","value:","at:put:"]},function(e){return function(e){var t,r=this;return t=o(r._class())._new(),r._keysAndValuesDo_(function(r,s){if(n.assert(o(e)._value_(s)))return o(t)._at_put_(r,s)}),t}}),s.AssociativeCollection),n.addMethod(n.method({selector:"select:thenCollect:",protocol:"enumerating",pragmas:[],messageSends:["new","class","keysAndValuesDo:","ifTrue:","value:","at:put:"]},function(e){return function(e,t){var r,s=this;return r=o(s._class())._new(),s._keysAndValuesDo_(function(s,a){if(n.assert([o(e)._value_(a)][0]))return o(r)._at_put_(s,o(t)._value_(a))}),r}}),s.AssociativeCollection),n.addMethod(n.method({selector:"shallowCopy",protocol:"copying",pragmas:[],messageSends:["new","class","keysAndValuesDo:","at:put:"]},function(e){return function(){var e,t=this;return e=o(t._class())._new(),t._keysAndValuesDo_(function(t,n){return o(e)._at_put_(t,n)}),e}}),s.AssociativeCollection),n.addMethod(n.method({selector:"shortenedPrintString",protocol:"printing",pragmas:[],messageSends:["ifTrue:ifFalse:","<=","size","printString","anyOne","keys",",","at:put:","copyEmpty","at:","yourself","asString","-"]},function(e){return function(){var e,t=this;if(n.assert(o([t._size()][0]).__lt_eq(1)))return[t._printString()][0];var r;return r=o(t._keys())._anyOne(),e=t._copyEmpty(),o(e)._at_put_(r,t._at_(r)),[o([o(o(o(o(e)._yourself())._printString()).__comma(" ... ")).__comma(o(o(t._size()).__minus(1))._asString())][0]).__comma(" more items")][0]}}),s.AssociativeCollection),n.addMethod(n.method({selector:"size",protocol:"accessing",pragmas:[],messageSends:["size","keys"]},function(e){return function(){return o(this._keys())._size()}}),s.AssociativeCollection),n.addMethod(n.method({selector:"values",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.AssociativeCollection),n.addMethod(n.method({selector:"valuesDo:",protocol:"enumerating",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e){var t=this;return this._subclassResponsibility(),t}}),s.AssociativeCollection),n.addMethod(n.method({selector:"withIndexDo:",protocol:"enumerating",pragmas:[],messageSends:["keysAndValuesDo:","value:value:"]},function(e){return function(e){var t=this;return this._keysAndValuesDo_(function(t,n){return o(e)._value_value_(n,t)}),t}}),s.AssociativeCollection),n.addMethod(n.method({selector:"from:",protocol:"instance creation",pragmas:[],messageSends:["new","do:","add:"]},function(e){return function(e){var t;return t=this._new(),o(e)._do_(function(e){return o(t)._add_(e)}),t}}),s.AssociativeCollection.a$cls),n.addMethod(n.method({selector:"fromPairs:",protocol:"instance creation",pragmas:[],messageSends:["from:"]},function(e){return function(e){return this._from_(e)}}),s.AssociativeCollection.a$cls),n.addMethod(n.method({selector:"newFromPairs:",protocol:"instance creation",pragmas:[],messageSends:["ifFalse:","even","size","error:","new","do:","to:by:","at:put:","at:","+"]},function(e){return function(e){var t,r=this;return n.assert(o([o(e)._size()][0])._even())||r._error_("#newFromPairs only accepts arrays of an even length"),t=r._new(),o(1.._to_by_(o(e)._size(),2))._do_(function(n){return o(t)._at_put_([o(e)._at_(n)][0],o(e)._at_(o(n).__plus(1)))}),t}}),s.AssociativeCollection.a$cls),n.addClass("Dictionary",s.AssociativeCollection,"Kernel-Collections"),n.setSlots(s.Dictionary,["keys","values"]),n.addMethod(n.method({selector:"at:ifAbsent:",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\tvar index = $self._positionOfKey_(aKey);\n\t\treturn index >=0 ? $self.values[index] : aBlock._value();\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this,r=n._positionOfKey_(e);return r>=0?n.values[r]:t._value()}}),s.Dictionary),n.addMethod(n.method({selector:"at:put:",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\tvar index = $self._positionOfKey_(aKey);\n\t\tif(index === -1) {\n\t\t\tvar keys = $self.keys;\n\t\t\tindex = keys.length;\n\t\t\tkeys.push(aKey);\n\t\t}\n\n\t\treturn $self.values[index] = aValue;\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this,r=n._positionOfKey_(e);if(-1===r){var o=n.keys;r=o.length,o.push(e)}return n.values[r]=t}}),s.Dictionary),n.addMethod(n.method({selector:"includesKey:",protocol:"testing",pragmas:[["inlineJS:",["return $self._positionOfKey_(aKey) >= 0;"]]],messageSends:[]},function(e){return function(e){return this._positionOfKey_(e)>=0}}),s.Dictionary),n.addMethod(n.method({selector:"indexOf:ifAbsent:",protocol:"accessing",pragmas:[],messageSends:["indexOf:ifAbsent:","ifTrue:ifFalse:","=","value","at:"]},function(e){return function(e,t){var r,s=this;return r=o(s.values)._indexOf_ifAbsent_(e,function(){return 0}),n.assert(o(r).__eq(0))?o(t)._value():o(s.keys)._at_(r)}}),s.Dictionary),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["initialize"]},function(t){return function(){var n=this,r=this;return(t.superclass||e.nilAsClass).fn.prototype._initialize.call(r),r.keys=[],r.values=[],n}}),s.Dictionary),n.addMethod(n.method({selector:"keys",protocol:"accessing",pragmas:[],messageSends:["copy"]},function(e){return function(){return o(this.keys)._copy()}}),s.Dictionary),n.addMethod(n.method({selector:"keysAndValuesDo:",protocol:"enumerating",pragmas:[],messageSends:["with:do:"]},function(e){return function(e){var t=this;return o(t.keys)._with_do_(t.values,e)}}),s.Dictionary),n.addMethod(n.method({selector:"keysDo:",protocol:"enumerating",pragmas:[],messageSends:["do:"]},function(e){return function(e){return o(this.keys)._do_(e)}}),s.Dictionary),n.addMethod(n.method({selector:"positionOfKey:",protocol:"private",pragmas:[["inlineJS:",["\n\t\tvar keys = $self.keys;\n\t\tfor(var i=0;i<keys.length;i++){\n\t\t\tif(keys[i].__eq(anObject)) { return i;}\n\t\t}\n\t\treturn -1;\n\t"]]],messageSends:[]},function(e){return function(e){for(var t=this,n=t.keys,r=0;r<n.length;r++)if(n[r].__eq(e))return r;return-1}}),s.Dictionary),n.addMethod(n.method({selector:"removeAll",protocol:"adding/removing",pragmas:[],messageSends:["removeAll"]},function(e){return function(){var e=this,t=this;return o(t.keys)._removeAll(),o(t.values)._removeAll(),e}}),s.Dictionary),n.addMethod(n.method({selector:"removeKey:ifAbsent:",protocol:"adding/removing",pragmas:[["inlineJS:",["\n\t\tvar index = $self._positionOfKey_(aKey);\n\t\tif(index === -1) {\n\t\t\treturn aBlock._value()\n\t\t} else {\n\t\t\tvar keys = $self.keys, values = $self.values;\n\t\t\tvar value = values[index], l = keys.length;\n\t\t\tkeys[index] = keys[l-1];\n\t\t\tkeys.pop();\n\t\t\tvalues[index] = values[l-1];\n\t\t\tvalues.pop();\n\t\t\treturn value;\n\t\t}\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this,r=n._positionOfKey_(e);if(-1===r)return t._value();var o=n.keys,s=n.values,a=s[r],i=o.length;return o[r]=o[i-1],o.pop(),s[r]=s[i-1],s.pop(),a}}),s.Dictionary),n.addMethod(n.method({selector:"values",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.values}}),s.Dictionary),n.addMethod(n.method({selector:"valuesDo:",protocol:"enumerating",pragmas:[],messageSends:["do:"]},function(e){return function(e){return o(this.values)._do_(e)}}),s.Dictionary),n.addClass("HashedCollection",s.AssociativeCollection,"Kernel-Collections"),n.addMethod(n.method({selector:"asJavaScriptSource",protocol:"accessing",pragmas:[],messageSends:["streamContents:","nextPut:","keysAndValuesDo:","nextPutAll:","asJavaScriptSource","skip:"]},function(e){return function(){var e=this;return o(s.String)._streamContents_(function(t){return o(t)._nextPut_("{"),e._keysAndValuesDo_(function(e,n){return o(t)._nextPutAll_([o(e)._asJavaScriptSource()][0]),o(t)._nextPut_(":"),o(t)._nextPutAll_(o(n)._asJavaScriptSource()),[o(t)._nextPut_(",")][0]}),o(t)._skip_(-1),o(t)._nextPut_("}")})}}),s.HashedCollection),n.addMethod(n.method({selector:"at:ifAbsent:",protocol:"accessing",pragmas:[],messageSends:["ifTrue:ifFalse:","includesKey:","basicAt:","value"]},function(e){return function(e,t){var r=this;return n.assert(r._includesKey_(e))?r._basicAt_(e):o(t)._value()}}),s.HashedCollection),n.addMethod(n.method({selector:"at:put:",protocol:"accessing",pragmas:[],messageSends:["basicAt:put:"]},function(e){return function(e,t){return this._basicAt_put_(e,t)}}),s.HashedCollection),n.addMethod(n.method({selector:"includesKey:",protocol:"testing",pragmas:[["inlineJS:",["return self.hasOwnProperty(aKey)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.hasOwnProperty(e)}}),s.HashedCollection),n.addMethod(n.method({selector:"keys",protocol:"accessing",pragmas:[["inlineJS:",["return Object.keys(self)"]]],messageSends:[]},function(e){return function(){var e=this;return Object.keys(e)}}),s.HashedCollection),n.addMethod(n.method({selector:"keysDo:",protocol:"enumerating",pragmas:[],messageSends:["do:","keys"]},function(e){return function(e){var t=this;return o(this._keys())._do_(e),t}}),s.HashedCollection),n.addMethod(n.method({selector:"removeKey:ifAbsent:",protocol:"adding/removing",pragmas:[],messageSends:["at:ifPresent:ifAbsent:","basicDelete:","value"]},function(e){return function(e,t){var n=this;return n._at_ifPresent_ifAbsent_(e,function(t){return n._basicDelete_(e),t},function(){return o(t)._value()})}}),s.HashedCollection),n.addMethod(n.method({selector:"values",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\treturn $self._keys().map(function(key){\n\t\t\treturn $self._at_(key);\n\t\t});\n\t"]]],messageSends:[]},function(e){return function(){var e=this;return e._keys().map(function(t){return e._at_(t)})}}),s.HashedCollection),n.addMethod(n.method({selector:"valuesDo:",protocol:"enumerating",pragmas:[],messageSends:["do:","values"]},function(e){return function(e){var t=this;return o(this._values())._do_(e),t}}),s.HashedCollection),n.addClass("SequenceableCollection",s.Collection,"Kernel-Collections"),n.addMethod(n.method({selector:"=",protocol:"comparing",pragmas:[],messageSends:["ifFalse:","and:","=","class","size","withIndexDo:","at:"]},function(e){return function(e){var t,r=this,s={};try{return t=!!n.assert([o([r._class()][0]).__eq(o(e)._class())][0])&&[o([r._size()][0]).__eq(o(e)._size())][0],!!n.assert(t)&&(r._withIndexDo_(function(t,r){if(!n.assert(o(o(e)._at_(r)).__eq(t)))throw s=[!1]}),!0)}catch(e){if(e===s)return e[0];throw e}}}),s.SequenceableCollection),n.addMethod(n.method({selector:"addLast:",protocol:"adding/removing",pragmas:[],messageSends:["add:"]},function(e){return function(e){var t=this;return this._add_(e),t}}),s.SequenceableCollection),n.addMethod(n.method({selector:"allButFirst",protocol:"accessing",pragmas:[],messageSends:["copyFrom:to:","size"]},function(e){return function(){var e=this;return e._copyFrom_to_(2,e._size())}}),s.SequenceableCollection),n.addMethod(n.method({selector:"allButLast",protocol:"accessing",pragmas:[],messageSends:["copyFrom:to:","-","size"]},function(e){return function(){var e=this;return e._copyFrom_to_(1,o(e._size()).__minus(1))}}),s.SequenceableCollection),n.addMethod(n.method({selector:"anyOne",protocol:"accessing",pragmas:[],messageSends:["at:"]},function(e){return function(){return this._at_(1)}}),s.SequenceableCollection),n.addMethod(n.method({selector:"atRandom",protocol:"accessing",pragmas:[],messageSends:["at:","atRandom","size"]},function(e){return function(){var e=this;return e._at_(o(e._size())._atRandom())}}),s.SequenceableCollection),n.addMethod(n.method({selector:"beginsWith:",protocol:"testing",pragmas:[],messageSends:["ifTrue:","<","size","=","first:"]},function(e){return function(e){var t=this;return!n.assert(o([t._size()][0]).__lt([o(e)._size()][0]))&&o(t._first_(o(e)._size())).__eq(e)}}),s.SequenceableCollection),n.addMethod(n.method({selector:"copyFrom:to:",protocol:"copying",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e,t){var n=this;return this._subclassResponsibility(),n}}),s.SequenceableCollection),n.addMethod(n.method({selector:"copyWithFirst:",protocol:"copying",pragmas:[],messageSends:["addAll:","with:","class","yourself"]},function(e){return function(e){var t,n=this;return t=o(this._class())._with_(e),o(t)._addAll_(n),o(t)._yourself()}}),s.SequenceableCollection),n.addMethod(n.method({selector:"endsWith:",protocol:"testing",pragmas:[],messageSends:["ifTrue:","<","size","=","last:"]},function(e){return function(e){var t=this;return!n.assert(o([t._size()][0]).__lt([o(e)._size()][0]))&&o(t._last_(o(e)._size())).__eq(e)}}),s.SequenceableCollection),n.addMethod(n.method({selector:"first",protocol:"accessing",pragmas:[],messageSends:["at:"]},function(e){return function(){return this._at_(1)}}),s.SequenceableCollection),n.addMethod(n.method({selector:"first:",protocol:"accessing",pragmas:[],messageSends:["ifTrue:","<","size","error:","copyFrom:to:"]},function(e){return function(e){var t=this;return n.assert(o(t._size()).__lt(e))&&t._error_("Invalid number of elements"),t._copyFrom_to_(1,e)}}),s.SequenceableCollection),n.addMethod(n.method({selector:"fourth",protocol:"accessing",pragmas:[],messageSends:["at:"]},function(e){return function(){return this._at_(4)}}),s.SequenceableCollection),n.addMethod(n.method({selector:"includes:",protocol:"testing",pragmas:[],messageSends:["notNil","indexOf:ifAbsent:"]},function(e){return function(e){return o(this._indexOf_ifAbsent_(e,function(){return r}))._notNil()}}),s.SequenceableCollection),n.addMethod(n.method({selector:"indexOf:startingAt:",protocol:"accessing",pragmas:[],messageSends:["indexOf:startingAt:ifAbsent:"]},function(e){return function(e,t){return this._indexOf_startingAt_ifAbsent_(e,t,function(){return 0})}}),s.SequenceableCollection),n.addMethod(n.method({selector:"indexOf:startingAt:ifAbsent:",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e,t,n){var r=this;return this._subclassResponsibility(),r}}),s.SequenceableCollection),n.addMethod(n.method({selector:"last",protocol:"accessing",pragmas:[],messageSends:["at:","size"]},function(e){return function(){var e=this;return e._at_(e._size())}}),s.SequenceableCollection),n.addMethod(n.method({selector:"last:",protocol:"accessing",pragmas:[],messageSends:["ifTrue:","<","size","error:","copyFrom:to:","+","-"]},function(e){return function(e){var t=this;return n.assert(o([t._size()][0]).__lt(e))&&t._error_("Invalid number of elements"),t._copyFrom_to_(o(o([t._size()][0]).__minus(e)).__plus(1),t._size())}}),s.SequenceableCollection),n.addMethod(n.method({selector:"newStream",protocol:"streaming",pragmas:[],messageSends:["on:","streamClass"]},function(e){return function(){var e=this;return o(this._streamClass())._on_(e)}}),s.SequenceableCollection),n.addMethod(n.method({selector:"pairsCollect:",protocol:"enumerating",pragmas:[],messageSends:["collect:","to:","//","size","value:value:","at:","-","*"]},function(e){return function(e){var t=this;return o(1.._to_(o(t._size()).__slash_slash(2)))._collect_(function(n){return o(e)._value_value_([t._at_(o([2..__star(n)][0]).__minus(1))][0],t._at_(2..__star(n)))})}}),s.SequenceableCollection),n.addMethod(n.method({selector:"pairsDo:",protocol:"enumerating",pragmas:[],messageSends:["to:do:","//","size","value:value:","at:","-","*"]},function(e){return function(e){var t=this,n=this;return 1.._to_do_(o(n._size()).__slash_slash(2),function(t){return o(e)._value_value_([n._at_(o([2..__star(t)][0]).__minus(1))][0],n._at_(2..__star(t)))}),t}}),s.SequenceableCollection),n.addMethod(n.method({selector:"readStream",protocol:"streaming",pragmas:[],messageSends:["stream"]},function(e){return function(){return this._stream()}}),s.SequenceableCollection),n.addMethod(n.method({selector:"removeLast",protocol:"adding/removing",pragmas:[],messageSends:["remove:","last"]},function(e){return function(){var e=this;return e._remove_(e._last())}}),s.SequenceableCollection),n.addMethod(n.method({selector:"reverseDo:",protocol:"enumerating",pragmas:[],messageSends:["do:","reversed"]},function(e){return function(e){var t=this;return o(this._reversed())._do_(e),t}}),s.SequenceableCollection),n.addMethod(n.method({selector:"reversed",protocol:"converting",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.SequenceableCollection),n.addMethod(n.method({selector:"second",protocol:"accessing",pragmas:[],messageSends:["at:"]},function(e){return function(){return this._at_(2)}}),s.SequenceableCollection),n.addMethod(n.method({selector:"stream",protocol:"streaming",pragmas:[],messageSends:["newStream"]},function(e){return function(){return this._newStream()}}),s.SequenceableCollection),n.addMethod(n.method({selector:"streamClass",protocol:"streaming",pragmas:[],messageSends:["streamClass","class"]},function(e){return function(){return o(this._class())._streamClass()}}),s.SequenceableCollection),n.addMethod(n.method({selector:"third",protocol:"accessing",pragmas:[],messageSends:["at:"]},function(e){return function(){return this._at_(3)}}),s.SequenceableCollection),n.addMethod(n.method({selector:"writeStream",protocol:"streaming",pragmas:[],messageSends:["stream"]},function(e){return function(){return this._stream()}}),s.SequenceableCollection),n.addMethod(n.method({selector:"streamClass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return s.Stream}}),s.SequenceableCollection.a$cls),n.addMethod(n.method({selector:"streamContents:",protocol:"streaming",pragmas:[],messageSends:["on:","streamClass","new","value:","contents"]},function(e){return function(e){var t,n=this;return t=o(n._streamClass())._on_(n._new()),o(e)._value_(t),o(t)._contents()}}),s.SequenceableCollection.a$cls),n.addClass("Array",s.SequenceableCollection,"Kernel-Collections"),n.addMethod(n.method({selector:"add:",protocol:"adding/removing",pragmas:[["inlineJS:",["self.push(anObject); return anObject;"]]],messageSends:[]},function(e){return function(e){var t=this;return t.push(e),e}}),s.Array),n.addMethod(n.method({selector:"addAll:",protocol:"adding/removing",pragmas:[["inlineJS:",["\n\tif (Array.isArray(aCollection) && aCollection.length < 65000) self.push.apply(self, aCollection);\n\telse $globals.Array.superclass.fn.prototype._addAll_.call($self, aCollection);\n\treturn aCollection;"]]],messageSends:[]},function(e){return function(e){var t=this,n=this;return Array.isArray(e)&&e.length<65e3?t.push.apply(t,e):s.Array.superclass.fn.prototype._addAll_.call(n,e),e}}),s.Array),
n.addMethod(n.method({selector:"addFirst:",protocol:"adding/removing",pragmas:[["inlineJS:",["self.unshift(anObject); return anObject;"]]],messageSends:[]},function(e){return function(e){var t=this;return t.unshift(e),e}}),s.Array),n.addMethod(n.method({selector:"allIn:",protocol:"enumerating",pragmas:[],messageSends:["valueWithPossibleArguments:","collect:","in:"]},function(e){return function(e){var t=this;return o(e)._valueWithPossibleArguments_(t._collect_(function(e){return o(e)._in_(function(e){return e})}))}}),s.Array),n.addMethod(n.method({selector:"appendToString:",protocol:"copying",pragmas:[["inlineJS:",['\n\tfor (var i = 0, l = $self.length; i < l; ++i) {\n\t\tvar el = $self[i];\n\t\tif ((typeof el === "string") || $recv(el)._isString()) {\n\t\t\tif (el.length === 1) { aString += el; continue; }\n\t\t}\n\t\t$self._error_("Not a character.");\n\t}\n\treturn aString']]],messageSends:[]},function(e){return function(e){for(var t=this,n=0,r=t.length;n<r;++n){var s=t[n];"string"!=typeof s&&!o(s)._isString()||1!==s.length?t._error_("Not a character."):e+=s}return e}}),s.Array),n.addMethod(n.method({selector:"asJavaScriptSource",protocol:"converting",pragmas:[],messageSends:[",","join:","collect:","asJavaScriptSource"]},function(e){return function(){return[o("[".__comma(o(this._collect_(function(e){return o(e)._asJavaScriptSource()}))._join_(", "))).__comma("]")][0]}}),s.Array),n.addMethod(n.method({selector:"at:put:",protocol:"accessing",pragmas:[["inlineJS:",["return self[anIndex - 1] = anObject"]]],messageSends:[]},function(e){return function(e,t){var n=this;return n[e-1]=t}}),s.Array),n.addMethod(n.method({selector:"collect:",protocol:"enumerating",pragmas:[["inlineJS:",["return self.map(function(each) {return aBlock._value_(each)})"]]],messageSends:[]},function(e){return function(e){var t=this;return t.map(function(t){return e._value_(t)})}}),s.Array),n.addMethod(n.method({selector:"copyFrom:to:",protocol:"copying",pragmas:[["inlineJS:",['\n\tif (anIndex >= 1 && anotherIndex <= self.length) {\n\t\treturn self.slice(anIndex - 1, anotherIndex);\n\t} else {\n\t\tself._at_(anIndex);\n\t\tself._at_(self.length + 1);\n\t\tthrow new Error("Incorrect indexes in #copyFrom:to: not caught by #at:");\n\t}']]],messageSends:[]},function(e){return function(e,t){var n=this;if(e>=1&&t<=n.length)return n.slice(e-1,t);throw n._at_(e),n._at_(n.length+1),new Error("Incorrect indexes in #copyFrom:to: not caught by #at:")}}),s.Array),n.addMethod(n.method({selector:"join:",protocol:"enumerating",pragmas:[["inlineJS:",["return self.join(aString)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.join(e)}}),s.Array),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["printOn:","nextPutAll:","do:separatedBy:"]},function(t){return function(n){var r=this,s=this;return(t.superclass||e.nilAsClass).fn.prototype._printOn_.call(s,n),o(n)._nextPutAll_(" ("),s._do_separatedBy_(function(e){return o(e)._printOn_(n)},function(){return[o(n)._nextPutAll_(" ")][0]}),o(n)._nextPutAll_(")"),r}}),s.Array),n.addMethod(n.method({selector:"remove:ifAbsent:",protocol:"adding/removing",pragmas:[],messageSends:["indexOf:ifAbsent:","ifFalse:ifTrue:","=","removeIndex:","value"]},function(e){return function(e,t){var r,s=this;return r=s._indexOf_ifAbsent_(e,function(){return 0}),n.assert(o(r).__eq(0))?o(t)._value():(s._removeIndex_(r),e)}}),s.Array),n.addMethod(n.method({selector:"removeAll",protocol:"adding/removing",pragmas:[["inlineJS:",["self.length = 0"]]],messageSends:[]},function(e){return function(){var e=this;return e.length=0,e}}),s.Array),n.addMethod(n.method({selector:"removeFrom:to:",protocol:"adding/removing",pragmas:[["inlineJS:",["self.splice(aNumber -1, anotherNumber - aNumber + 1)"]]],messageSends:[]},function(e){return function(e,t){var n=this;return n.splice(e-1,t-e+1),n}}),s.Array),n.addMethod(n.method({selector:"removeIndex:",protocol:"adding/removing",pragmas:[["inlineJS:",["self.splice(anInteger - 1, 1)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.splice(e-1,1),t}}),s.Array),n.addMethod(n.method({selector:"removeLast",protocol:"adding/removing",pragmas:[["inlineJS:",["return self.pop();"]]],messageSends:[]},function(e){return function(){var e=this;return e.pop()}}),s.Array),n.addMethod(n.method({selector:"reversed",protocol:"converting",pragmas:[["inlineJS:",["return self.slice().reverse()"]]],messageSends:[]},function(e){return function(){var e=this;return e.slice().reverse()}}),s.Array),n.addMethod(n.method({selector:"select:",protocol:"enumerating",pragmas:[["inlineJS:",["return self.filter(function(each) {return aBlock._value_(each)})"]]],messageSends:[]},function(e){return function(e){var t=this;return t.filter(function(t){return e._value_(t)})}}),s.Array),n.addMethod(n.method({selector:"shallowCopy",protocol:"copying",pragmas:[["inlineJS:",["return self.slice()"]]],messageSends:[]},function(e){return function(){var e=this;return e.slice()}}),s.Array),n.addMethod(n.method({selector:"sort",protocol:"enumerating",pragmas:[],messageSends:["sort:","<"]},function(e){return function(){return this._sort_(function(e,t){return o(e).__lt(t)})}}),s.Array),n.addMethod(n.method({selector:"sort:",protocol:"enumerating",pragmas:[["inlineJS:",["\n\t\treturn self.sort(function(a, b) {\n\t\t\tif(aBlock._value_value_(a,b)) {return -1} else {return 1}\n\t\t})\n\t"]]],messageSends:[]},function(e){return function(e){var t=this;return t.sort(function(t,n){return e._value_value_(t,n)?-1:1})}}),s.Array),n.addMethod(n.method({selector:"sorted",protocol:"enumerating",pragmas:[],messageSends:["sort","copy"]},function(e){return function(){return o(this._copy())._sort()}}),s.Array),n.addMethod(n.method({selector:"sorted:",protocol:"enumerating",pragmas:[],messageSends:["sort:","copy"]},function(e){return function(e){return o(this._copy())._sort_(e)}}),s.Array),n.addMethod(n.method({selector:"new:",protocol:"instance creation",pragmas:[["inlineJS:",["return new Array(anInteger)"]]],messageSends:[]},function(e){return function(e){return new Array(e)}}),s.Array.a$cls),n.addMethod(n.method({selector:"with:",protocol:"instance creation",pragmas:[],messageSends:["at:put:","new:","yourself"]},function(e){return function(e){var t;return t=this._new_(1),o(t)._at_put_(1,e),o(t)._yourself()}}),s.Array.a$cls),n.addMethod(n.method({selector:"with:with:",protocol:"instance creation",pragmas:[],messageSends:["at:put:","new:","yourself"]},function(e){return function(e,t){var n;return n=this._new_(2),o(n)._at_put_(1,e),o(n)._at_put_(2,t),o(n)._yourself()}}),s.Array.a$cls),n.addMethod(n.method({selector:"with:with:with:",protocol:"instance creation",pragmas:[],messageSends:["at:put:","new:","yourself"]},function(e){return function(e,t,n){var r;return r=this._new_(3),o(r)._at_put_(1,e),o(r)._at_put_(2,t),o(r)._at_put_(3,n),o(r)._yourself()}}),s.Array.a$cls),n.addMethod(n.method({selector:"withAll:",protocol:"instance creation",pragmas:[],messageSends:["new:","size","do:","at:put:","+"]},function(e){return function(e){var t,n,r=this;return n=1,t=r._new_(o(e)._size()),o(e)._do_(function(e){return o(t)._at_put_(n,e),n=o(n).__plus(1)}),t}}),s.Array.a$cls),n.addClass("String",s.SequenceableCollection,"Kernel-Collections"),n.addMethod(n.method({selector:",",protocol:"copying",pragmas:[["inlineJS:",['return typeof aString === "string" ?\n\t\tString(self) + aString :\n\t\t$recv(aString)._appendToString_(String(self))']]],messageSends:[]},function(e){return function(e){var t=this;return"string"==typeof e?String(t)+e:o(e)._appendToString_(String(t))}}),s.String),n.addMethod(n.method({selector:"<",protocol:"comparing",pragmas:[["inlineJS:",['return typeof aString === "string" ?\n\tString(self) < aString :\n\t$recv(aString)._isStringLessThanSelf_(String(self))']]],messageSends:[]},function(e){return function(e){var t=this;return"string"==typeof e?String(t)<e:o(e)._isStringLessThanSelf_(String(t))}}),s.String);n.addMethod(n.method({selector:"<=",protocol:"comparing",pragmas:[["inlineJS:",['return typeof aString === "string" ?\n\tString(self) <= aString :\n\t$recv(aString)._isStringLessThanOrEqualToSelf_(String(self))']]],messageSends:[]},function(e){return function(e){var t=this;return"string"==typeof e?String(t)<=e:o(e)._isStringLessThanOrEqualToSelf_(String(t))}}),s.String),n.addMethod(n.method({selector:"=",protocol:"comparing",pragmas:[["inlineJS:",['return typeof aString === "string" ?\n\tString(self) === aString :\n\t$recv(aString)._isStringEqualToSelf_(String(self))']]],messageSends:[]},function(e){return function(e){var t=this;return"string"==typeof e?String(t)===e:o(e)._isStringEqualToSelf_(String(t))}}),s.String),n.addMethod(n.method({selector:"==",protocol:"comparing",pragmas:[["inlineJS:",['return typeof aString === "string" ?\n\tString(self) === aString :\n\t$recv(aString)._isStringEqualToSelf_(String(self))']]],messageSends:[]},function(e){return function(e){var t=this;return"string"==typeof e?String(t)===e:o(e)._isStringEqualToSelf_(String(t))}}),s.String),n.addMethod(n.method({selector:">",protocol:"comparing",pragmas:[["inlineJS:",['return typeof aString === "string" ?\n\tString(self) > aString :\n\t$recv(aString)._isStringGreaterThanSelf_(String(self))']]],messageSends:[]},function(e){return function(e){var t=this;return"string"==typeof e?String(t)>e:o(e)._isStringGreaterThanSelf_(String(t))}}),s.String),n.addMethod(n.method({selector:">=",protocol:"comparing",pragmas:[["inlineJS:",['return typeof aString === "string" ?\n\tString(self) >= aString :\n\t$recv(aString)._isStringGreaterThanOrEqualSelf_(String(self))']]],messageSends:[]},function(e){return function(e){var t=this;return"string"==typeof e?String(t)>=e:o(e)._isStringGreaterThanOrEqualSelf_(String(t))}}),s.String),n.addMethod(n.method({selector:"add:",protocol:"adding/removing",pragmas:[],messageSends:["errorReadOnly"]},function(e){return function(e){var t=this;return this._errorReadOnly(),t}}),s.String),n.addMethod(n.method({selector:"appendToString:",protocol:"copying",pragmas:[["inlineJS:",["return aString + self"]]],messageSends:[]},function(e){return function(e){var t=this;return e+t}}),s.String),n.addMethod(n.method({selector:"asJavaScriptMethodName",protocol:"converting",pragmas:[["inlineJS:",["return $core.st2js(self)"]]],messageSends:[]},function(e){return function(){var e=this;return n.st2js(e)}}),s.String),n.addMethod(n.method({selector:"asJavaScriptObject",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){var e=this;return e}}),s.String),n.addMethod(n.method({selector:"asJavaScriptSource",protocol:"converting",pragmas:[["inlineJS:",['\n\t\tif(self.search(/^[a-zA-Z0-9_:.$ ]*$/) == -1)\n\t\t\treturn "\\"" + self.replace(/[\\x00-\\x1f"\\\\\\x7f-\\x9f]/g, function(ch){var c=ch.charCodeAt(0);return "\\\\x"+("0"+c.toString(16)).slice(-2)}) + "\\"";\n\t\telse\n\t\t\treturn "\\"" + self + "\\"";\n\t']]],messageSends:[]},function(e){return function(){var e=this;return-1==e.search(/^[a-zA-Z0-9_:.$ ]*$/)?'"'+e.replace(/[\x00-\x1f"\\\x7f-\x9f]/g,function(e){return"\\x"+("0"+e.charCodeAt(0).toString(16)).slice(-2)})+'"':'"'+e+'"'}}),s.String),n.addMethod(n.method({selector:"asLowercase",protocol:"converting",pragmas:[["inlineJS:",["return self.toLowerCase()"]]],messageSends:[]},function(e){return function(){var e=this;return e.toLowerCase()}}),s.String),n.addMethod(n.method({selector:"asMutator",protocol:"converting",pragmas:[],messageSends:["ifFalse:","=","last",","]},function(e){return function(){var e=this,t=this;return n.assert(o(t._last()).__eq(":"))?e:t.__comma(":")}}),s.String),n.addMethod(n.method({selector:"asNumber",protocol:"converting",pragmas:[["inlineJS:",["return Number(self)"]]],messageSends:[]},function(e){return function(){var e=this;return Number(e)}}),s.String),n.addMethod(n.method({selector:"asRegexp",protocol:"converting",pragmas:[],messageSends:["fromString:"]},function(e){return function(){var e=this;return o(s.RegularExpression)._fromString_(e)}}),s.String),n.addMethod(n.method({selector:"asString",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){var e=this;return e}}),s.String),n.addMethod(n.method({selector:"asSymbol",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){var e=this;return e}}),s.String),n.addMethod(n.method({selector:"asSymbolPrintOn:",protocol:"printing",pragmas:[],messageSends:["nextPutAll:","ifTrue:ifFalse:","isSelector","asString","nextPut:","printOn:"]},function(e){return function(e){var t=this,r=this;return o(e)._nextPutAll_("#"),n.assert(o(r._asString())._isSelector())?o(e)._nextPut_(t):r._printOn_(e),t}}),s.String),n.addMethod(n.method({selector:"asUppercase",protocol:"converting",pragmas:[["inlineJS:",["return self.toUpperCase()"]]],messageSends:[]},function(e){return function(){var e=this;return e.toUpperCase()}}),s.String),n.addMethod(n.method({selector:"asciiValue",protocol:"accessing",pragmas:[["inlineJS:",["return self.charCodeAt(0);"]]],messageSends:[]},function(e){return function(){var e=this;return e.charCodeAt(0)}}),s.String),n.addMethod(n.method({selector:"at:ifAbsent:",protocol:"accessing",pragmas:[["inlineJS:",["return String(self)[anIndex - 1] || aBlock._value()"]]],messageSends:[]},function(e){return function(e,t){var n=this;return String(n)[e-1]||t._value()}}),s.String),n.addMethod(n.method({selector:"at:ifPresent:ifAbsent:",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\tvar result = String(self)[anIndex - 1];\n\t\treturn result ? aBlock._value_(result) : anotherBlock._value();\n\t"]]],messageSends:[]},function(e){return function(e,t,n){var r=this,o=String(r)[e-1];return o?t._value_(o):n._value()}}),s.String),n.addMethod(n.method({selector:"at:put:",protocol:"accessing",pragmas:[],messageSends:["errorReadOnly"]},function(e){return function(e,t){var n=this;return this._errorReadOnly(),n}}),s.String),n.addMethod(n.method({selector:"capitalized",protocol:"converting",pragmas:[],messageSends:["ifNotEmpty:",",","asUppercase","first","allButFirst"]},function(e){return function(){var e=this;return e._ifNotEmpty_(function(){return o(o(e._first())._asUppercase()).__comma(e._allButFirst())})}}),s.String),n.addMethod(n.method({selector:"charCodeAt:",protocol:"accessing",pragmas:[["inlineJS:",["return self.charCodeAt(anInteger - 1)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.charCodeAt(e-1)}}),s.String),n.addMethod(n.method({selector:"copyFrom:to:",protocol:"copying",pragmas:[["inlineJS:",["return self.substring(anIndex - 1, anotherIndex)"]]],messageSends:[]},function(e){return function(e,t){var n=this;return n.substring(e-1,t)}}),s.String),n.addMethod(n.method({selector:"copyWithFirst:",protocol:"copying",pragmas:[],messageSends:["ifFalse:","and:","isString","=","size","error:",",","name","class"]},function(e){return function(e){var t,r=this,s=this;return t=!!n.assert(o(e)._isString())&&o(o(e)._size()).__eq(1),n.assert(t)||s._error_([o(["Cannot put ".__comma(o(o(e)._class())._name())][0]).__comma(" in a String")][0]),o(e).__comma(r)}}),s.String),n.addMethod(n.method({selector:"crlfSanitized",protocol:"converting",pragmas:[],messageSends:["join:","lines","lf"]},function(e){return function(){return o(this._lines())._join_(o(s.String)._lf())}}),s.String),n.addMethod(n.method({selector:"deepCopy",protocol:"copying",pragmas:[],messageSends:["shallowCopy"]},function(e){return function(){return this._shallowCopy()}}),s.String),n.addMethod(n.method({selector:"errorReadOnly",protocol:"error handling",pragmas:[],messageSends:["error:"]},function(e){return function(){var e=this;return this._error_("Object is read-only"),e}}),s.String),n.addMethod(n.method({selector:"escaped",protocol:"converting",pragmas:[["inlineJS:",["return escape(self)"]]],messageSends:[]},function(e){return function(){var e=this;return escape(e)}}),s.String),n.addMethod(n.method({selector:"includesSubString:",protocol:"testing",pragmas:[["inlineJS:",["return self.indexOf(subString) != -1"]]],messageSends:[]},function(e){return function(e){var t=this;return-1!=t.indexOf(e)}}),s.String),n.addMethod(n.method({selector:"isCapitalized",protocol:"testing",pragmas:[],messageSends:["==","asUppercase","first"]},function(e){return function(){var e=this;return o(o([e._first()][0])._asUppercase()).__eq_eq(e._first())}}),s.String),n.addMethod(n.method({selector:"isImmutable",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),s.String),n.addMethod(n.method({selector:"isSelector",protocol:"testing",pragmas:[["inlineJS:",["return !!self.match(/^([a-zA-Z][a-zA-Z0-9]*|[\\\\+*/=><,@%~|&-]+|([a-zA-Z][a-zA-Z0-9]*\\:)+)$/)"]]],messageSends:[]},function(e){return function(){var e=this;return!!e.match(/^([a-zA-Z][a-zA-Z0-9]*|[\\+*/=><,@%~|&-]+|([a-zA-Z][a-zA-Z0-9]*\:)+)$/)}}),s.String),n.addMethod(n.method({selector:"isString",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),s.String),n.addMethod(n.method({selector:"isStringEqualToSelf:",protocol:"comparing",pragmas:[["inlineJS:",["return aString === String(self)"]]],messageSends:[]},function(e){return function(e){var t=this;return e===String(t)}}),s.String),n.addMethod(n.method({selector:"isStringGreaterThanOrEqualToSelf:",protocol:"comparing",pragmas:[["inlineJS:",["return aString >= self"]]],messageSends:[]},function(e){return function(e){var t=this;return e>=t}}),s.String),n.addMethod(n.method({selector:"isStringGreaterThanSelf:",protocol:"comparing",pragmas:[["inlineJS:",["return aString > self"]]],messageSends:[]},function(e){return function(e){var t=this;return e>t}}),s.String),n.addMethod(n.method({selector:"isStringLessThanOrEqualToSelf:",protocol:"comparing",pragmas:[["inlineJS:",["return aString <= self"]]],messageSends:[]},function(e){return function(e){var t=this;return e<=t}}),s.String),n.addMethod(n.method({selector:"isStringLessThanSelf:",protocol:"comparing",pragmas:[["inlineJS:",["return aString < self"]]],messageSends:[]},function(e){return function(e){var t=this;return e<t}}),s.String),n.addMethod(n.method({selector:"isVowel",protocol:"testing",pragmas:[],messageSends:["and:","=","size","includes:","asLowercase"]},function(e){return function(){var e=this;return!!n.assert(o(e._size()).__eq(1))&&"aeiou"._includes_(e._asLowercase())}}),s.String),n.addMethod(n.method({selector:"join:",protocol:"split join",pragmas:[],messageSends:["streamContents:","do:separatedBy:","nextPutAll:","asString"]},function(e){return function(e){var t=this;return o(s.String)._streamContents_(function(n){return o(e)._do_separatedBy_(function(e){return[o(n)._nextPutAll_(o(e)._asString())][0]},function(){return o(n)._nextPutAll_(t)})})}}),s.String),n.addMethod(n.method({selector:"lineIndicesDo:",protocol:"split join",pragmas:[],messageSends:["size","cr","indexOf:startingAt:","lf","whileTrue:","<=","ifTrue:","and:","=","value:value:value:","ifTrue:ifFalse:","or:","<","-","+"]},function(e){return function(e){var t,r,a,i,c,l,u,d,m=this,h=this,f={};try{return a=1,i=h._size(),t=o(s.String)._cr(),l=[h._indexOf_startingAt_(t,1)][0],r=o(s.String)._lf(),c=[h._indexOf_startingAt_(r,1)][0],o(function(){return o(a).__lt_eq(i)})._whileTrue_(function(){if(u=!!n.assert([o(c).__eq(0)][0])&&[o(l).__eq(0)][0],n.assert(u))throw o(e)._value_value_value_(a,i,i),f=[m];return d=!!n.assert([o(l).__eq(0)][0])||!!n.assert([(0).__lt(c)][0])&&o(c).__lt(l),n.assert(d)?(o(e)._value_value_value_(a,[o(c).__minus(1)][0],c),a=[1..__plus(c)][0],c=[h._indexOf_startingAt_(r,a)][0]):n.assert(o([1..__plus(l)][0]).__eq(c))?(o(e)._value_value_value_(a,[o(l).__minus(1)][0],c),a=[1..__plus(c)][0],l=[h._indexOf_startingAt_(t,a)][0],c=[h._indexOf_startingAt_(r,a)][0]):(o(e)._value_value_value_(a,o(l).__minus(1),l),a=1..__plus(l),l=h._indexOf_startingAt_(t,a))}),m}catch(e){if(e===f)return e[0];throw e}}}),s.String),n.addMethod(n.method({selector:"lineNumber:",protocol:"split join",pragmas:[],messageSends:["lineIndicesDo:","ifTrue:","=","+","copyFrom:to:"]},function(e){return function(e){var t,s=this,a={};try{return t=0,s._lineIndicesDo_(function(r,i,c){if(t=o(t).__plus(1),n.assert(o(t).__eq(e)))throw a=[s._copyFrom_to_(r,i)]}),r}catch(e){if(e===a)return e[0];throw e}}}),s.String),n.addMethod(n.method({selector:"lines",protocol:"split join",pragmas:[["inlineJS:",["\n\tvar result = self.split(/\\r\\n|\\r|\\n/);\n\tif (!result[result.length-1]) result.pop();\n\treturn result;"]]],messageSends:[]},function(e){return function(){var e=this,t=e.split(/\r\n|\r|\n/);return t[t.length-1]||t.pop(),t}}),s.String),n.addMethod(n.method({selector:"linesDo:",protocol:"split join",pragmas:[],messageSends:["do:","lines"]},function(e){return function(e){var t=this;return o(this._lines())._do_(e),t}}),s.String),n.addMethod(n.method({selector:"match:",protocol:"regular expressions",pragmas:[["inlineJS:",["return self.search(aRegexp) != -1"]]],messageSends:[]},function(e){return function(e){var t=this;return-1!=t.search(e)}}),s.String),n.addMethod(n.method({selector:"matchesOf:",protocol:"regular expressions",pragmas:[["inlineJS:",["return self.match(aRegularExpression)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.match(e)}}),s.String),n.addMethod(n.method({selector:"printNl",protocol:"printing",pragmas:[["inlineJS:",["console.log(self)"]]],messageSends:[]},function(e){return function(){var e=this;return console.log(e),e}}),s.String),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["nextPutAll:","replace:with:"]},function(e){return function(e){var t=this,n=this;return o(e)._nextPutAll_("'"),o(e)._nextPutAll_(n._replace_with_("'","''")),o(e)._nextPutAll_("'"),t}}),s.String),n.addMethod(n.method({selector:"putOn:",protocol:"streaming",pragmas:[],messageSends:["nextPutString:"]},function(e){return function(e){var t=this;return o(e)._nextPutString_(t),t}}),s.String),n.addMethod(n.method({selector:"remove:",protocol:"adding/removing",pragmas:[],messageSends:["errorReadOnly"]},function(e){return function(e){var t=this;return this._errorReadOnly(),t}}),s.String),n.addMethod(n.method({selector:"remove:ifAbsent:",protocol:"adding/removing",pragmas:[],messageSends:["errorReadOnly"]},function(e){return function(e,t){var n=this;return this._errorReadOnly(),n}}),s.String),n.addMethod(n.method({selector:"replace:with:",protocol:"regular expressions",pragmas:[],messageSends:["replaceRegexp:with:","fromString:flag:"]},function(e){return function(e,t){return this._replaceRegexp_with_(o(s.RegularExpression)._fromString_flag_(e,"g"),t)}}),s.String),n.addMethod(n.method({selector:"replaceRegexp:with:",protocol:"regular expressions",pragmas:[["inlineJS:",["return self.replace(aRegexp, aString)"]]],messageSends:[]},function(e){return function(e,t){var n=this;return n.replace(e,t)}}),s.String),n.addMethod(n.method({selector:"reversed",protocol:"converting",pragmas:[["inlineJS:",['return self.split("").reverse().join("")']]],messageSends:[]},function(e){return function(){var e=this;return e.split("").reverse().join("")}}),s.String),n.addMethod(n.method({selector:"shallowCopy",protocol:"copying",pragmas:[],messageSends:[]},function(e){return function(){var e=this;return e}}),s.String),n.addMethod(n.method({selector:"shortenedPrintString",protocol:"printing",pragmas:[],messageSends:["ifTrue:ifFalse:",">","size","printString",",","copyFrom:to:"]},function(e){return function(){var e=this;return n.assert(o(o([e._printString()][0])._size()).__gt(30))?o(o([e._printString()][0])._copyFrom_to_(1,30)).__comma("...'"):e._printString()}}),s.String),n.addMethod(n.method({selector:"subStrings:",protocol:"split join",pragmas:[],messageSends:["tokenize:"]},function(e){return function(e){return this._tokenize_(e)}}),s.String),n.addMethod(n.method({selector:"symbolPrintString",protocol:"printing",pragmas:[],messageSends:["streamContents:","asSymbolPrintOn:"]},function(e){return function(){var e=this;return o(s.String)._streamContents_(function(t){return e._asSymbolPrintOn_(t)})}}),s.String),n.addMethod(n.method({selector:"tokenize:",protocol:"split join",pragmas:[["inlineJS:",["return self.split(aString)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.split(e)}}),s.String),n.addMethod(n.method({selector:"trimBoth",protocol:"regular expressions",pragmas:[],messageSends:["trimBoth:"]},function(e){return function(){return this._trimBoth_("\\s")}}),s.String),n.addMethod(n.method({selector:"trimBoth:",protocol:"regular expressions",pragmas:[],messageSends:["trimRight:","trimLeft:"]},function(e){return function(e){return o(this._trimLeft_(e))._trimRight_(e)}}),s.String),n.addMethod(n.method({selector:"trimLeft",protocol:"regular expressions",pragmas:[],messageSends:["trimLeft:"]},function(e){return function(){return this._trimLeft_("\\s")}}),s.String),n.addMethod(n.method({selector:"trimLeft:",protocol:"regular expressions",pragmas:[],messageSends:["replaceRegexp:with:","fromString:flag:",","]},function(e){return function(e){return this._replaceRegexp_with_(o(s.RegularExpression)._fromString_flag_([o("^[".__comma(e)).__comma("]+")][0],"g"),"")}}),s.String),n.addMethod(n.method({selector:"trimRight",protocol:"regular expressions",pragmas:[],messageSends:["trimRight:"]},function(e){return function(){return this._trimRight_("\\s")}}),s.String),n.addMethod(n.method({selector:"trimRight:",protocol:"regular expressions",pragmas:[],messageSends:["replaceRegexp:with:","fromString:flag:",","]},function(e){return function(e){return this._replaceRegexp_with_(o(s.RegularExpression)._fromString_flag_([o("[".__comma(e)).__comma("]+$")][0],"g"),"")}}),s.String),n.addMethod(n.method({selector:"unescaped",protocol:"converting",pragmas:[["inlineJS:",["return unescape(self)"]]],messageSends:[]},function(e){return function(){var e=this;return unescape(e)}}),s.String),n.addMethod(n.method({selector:"uriComponentDecoded",protocol:"converting",pragmas:[["inlineJS:",["return decodeURIComponent(self)"]]],messageSends:[]},function(e){return function(){var e=this;return decodeURIComponent(e)}}),s.String),n.addMethod(n.method({selector:"uriComponentEncoded",protocol:"converting",pragmas:[["inlineJS:",["return encodeURIComponent(self)"]]],messageSends:[]},function(e){return function(){var e=this;return encodeURIComponent(e)}}),s.String),n.addMethod(n.method({selector:"uriDecoded",protocol:"converting",pragmas:[["inlineJS:",["return decodeURI(self)"]]],messageSends:[]},function(e){return function(){var e=this;return decodeURI(e)}}),s.String),n.addMethod(n.method({selector:"uriEncoded",protocol:"converting",pragmas:[["inlineJS:",["return encodeURI(self)"]]],messageSends:[]},function(e){return function(){var e=this;return encodeURI(e)}}),s.String),n.addMethod(n.method({selector:"value:",protocol:"evaluating",pragmas:[],messageSends:["perform:"]},function(e){return function(e){var t=this;return o(e)._perform_(t)}}),s.String),n.addMethod(n.method({selector:"cr",protocol:"accessing",pragmas:[["inlineJS:",['return "\\r"']]],messageSends:[]},function(e){return function(){return"\r"}}),s.String.a$cls),n.addMethod(n.method({selector:"crlf",protocol:"accessing",pragmas:[["inlineJS:",['return "\\r\\n"']]],messageSends:[]},function(e){return function(){return"\r\n"}}),s.String.a$cls),n.addMethod(n.method({selector:"esc",protocol:"accessing",pragmas:[],messageSends:["fromCharCode:"]},function(e){return function(){return this._fromCharCode_(27)}}),s.String.a$cls),n.addMethod(n.method({selector:"fromCharCode:",protocol:"instance creation",pragmas:[["inlineJS:",["return String.fromCharCode(anInteger)"]]],messageSends:[]},function(e){return function(e){return String.fromCharCode(e)}}),s.String.a$cls),n.addMethod(n.method({selector:"fromString:",protocol:"instance creation",pragmas:[["inlineJS:",["return String(aString)"]]],messageSends:[]},function(e){return function(e){return String(e)}}),s.String.a$cls),n.addMethod(n.method({selector:"lf",protocol:"accessing",pragmas:[["inlineJS:",['return "\\n"']]],messageSends:[]},function(e){return function(){return"\n"}}),s.String.a$cls),n.addMethod(n.method({selector:"random",protocol:"random",pragmas:[["inlineJS:",["return ((10+22*Math.random())/32).toString(32).slice(2);"]]],messageSends:[]},function(e){return function(){return((10+22*Math.random())/32).toString(32).slice(2)}}),s.String.a$cls),n.addMethod(n.method({selector:"randomNotIn:",protocol:"random",pragmas:[],messageSends:["whileTrue","random","includesSubString:"]},function(e){return function(e){var t,n=this;return o(function(){return t=n._random(),o(e)._includesSubString_(t)})._whileTrue(),t}}),s.String.a$cls),n.addMethod(n.method({selector:"space",protocol:"accessing",pragmas:[["inlineJS:",['return " "']]],messageSends:[]},function(e){return function(){return" "}}),s.String.a$cls),n.addMethod(n.method({selector:"streamClass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return s.StringStream}}),s.String.a$cls),n.addMethod(n.method({selector:"tab",protocol:"accessing",pragmas:[["inlineJS:",['return "\\t"']]],messageSends:[]},function(e){return function(){return"\t"}}),s.String.a$cls),n.addMethod(n.method({selector:"value:",protocol:"instance creation",pragmas:[["inlineJS:",["return String.fromCharCode(aUTFCharCode);"]]],messageSends:[]},function(e){return function(e){return String.fromCharCode(e)}}),s.String.a$cls),n.addClass("Set",s.Collection,"Kernel-Collections"),n.setSlots(s.Set,["defaultBucket","slowBucketStores","fastBuckets","size"]),n.addMethod(n.method({selector:"=",protocol:"comparing",pragmas:[],messageSends:["and:","=","class","size","allSatisfy:","includes:"]},function(e){return function(e){var t=this;return!!n.assert([o([t._class()][0]).__eq(o(e)._class())][0])&&(!!n.assert(o([t._size()][0]).__eq(o(e)._size()))&&t._allSatisfy_(function(t){return o(e)._includes_(t)}))}}),s.Set),n.addMethod(n.method({selector:"add:",protocol:"adding/removing",pragmas:[],messageSends:["bucketsOfElement:","ifNil:ifNotNil:","second","first","third","indexOf:ifAbsent:","add:","+","add:in:"]},function(e){return function(e){var t,n,r=this;if(t=r._bucketsOfElement_(e),null==(n=o(t)._second())||n.a$nil){var s,a;return s=[o(t)._first()][0],a=o(t)._third(),o(a)._indexOf_ifAbsent_(s,function(){return o(a)._add_(s),r.size=o(r.size).__plus(1),r.size}),s}var i;return i=n,r._add_in_(o(t)._first(),i)}}),s.Set),n.addMethod(n.method({selector:"add:in:",protocol:"private",pragmas:[["inlineJS:",["\n\t\tif (anObject in anotherObject.store) { return anObject; }\n\t\t$self.size++;\n\t\tanotherObject.store[anObject] = true;\n\t\treturn anObject;\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this;return e in t.store?e:(n.size++,t.store[e]=!0,e)}}),s.Set),n.addMethod(n.method({selector:"bucketsOfElement:",protocol:"private",pragmas:[["inlineJS:",['\n\t\t// include nil to well-known objects under "boolean" fastBucket\n\t\tif (anObject == null || anObject.a$nil) return [ null, $self.fastBuckets.boolean ];\n\t\t\n\t\tvar prim = anObject.valueOf();\n\t\tif (typeof prim === "object" || typeof prim === "function" || !$self.fastBuckets[typeof prim]) {\n\t\t\tvar bucket = null;\n\t\t\t$self.slowBucketStores.some(function (store) {\n\t\t\t\treturn bucket = store._bucketOfElement_(anObject);\n\t\t\t});\n\t\t\treturn [ anObject, null, bucket || $self.defaultBucket ];\n\t\t}\n\t\treturn [ prim, $self.fastBuckets[typeof prim] ];\n\t']]],messageSends:[]},function(e){return function(e){var t=this;if(null==e||e.a$nil)return[null,t.fastBuckets.boolean];var n=e.valueOf();if("object"==typeof n||"function"==typeof n||!t.fastBuckets[typeof n]){var r=null;return t.slowBucketStores.some(function(t){return r=t._bucketOfElement_(e)}),[e,null,r||t.defaultBucket]}return[n,t.fastBuckets[typeof n]]}}),s.Set),n.addMethod(n.method({selector:"classNameOf:",protocol:"private",pragmas:[["inlineJS:",["return anObject.a$cls != null && anObject.a$cls.name"]]],messageSends:[]},function(e){return function(e){return null!=e.a$cls&&e.a$cls.name}}),s.Set),
n.addMethod(n.method({selector:"collect:",protocol:"enumerating",pragmas:[],messageSends:["new","class","do:","add:","value:"]},function(e){return function(e){var t,n=this;return t=o(n._class())._new(),n._do_(function(n){return o(t)._add_(o(e)._value_(n))}),t}}),s.Set),n.addMethod(n.method({selector:"do:",protocol:"enumerating",pragmas:[["inlineJS:",["\n\t\tvar el, keys, i;\n\t\tel = $self.fastBuckets;\n\t\tkeys = Object.keys(el);\n\t\tfor (i = 0; i < keys.length; ++i) {\n\t\t\tvar fastBucket = el[keys[i]], fn = fastBucket.fn, store = Object.keys(fastBucket.store);\n\t\t\tif (fn) { for (var j = 0; j < store.length; ++j) { aBlock._value_(fn(store[j])); } }\n\t\t\telse { store._do_(aBlock); }\n\t\t}\n\t\tel = $self.slowBucketStores;\n\t\tfor (i = 0; i < el.length; ++i) { el[i]._do_(aBlock); }\n\t\t$self.defaultBucket._do_(aBlock);\n\t"]]],messageSends:[]},function(e){return function(e){var t,n,r,o=this,s=this;for(t=s.fastBuckets,n=Object.keys(t),r=0;r<n.length;++r){var a=t[n[r]],i=a.fn,c=Object.keys(a.store);if(i)for(var l=0;l<c.length;++l)e._value_(i(c[l]));else c._do_(e)}for(t=s.slowBucketStores,r=0;r<t.length;++r)t[r]._do_(e);return s.defaultBucket._do_(e),o}}),s.Set),n.addMethod(n.method({selector:"includes:",protocol:"testing",pragmas:[],messageSends:["bucketsOfElement:","ifNil:ifNotNil:","second","includes:","third","first","includes:in:"]},function(e){return function(e){var t,n,r=this;if(t=r._bucketsOfElement_(e),null==(n=o(t)._second())||n.a$nil)return o(o(t)._third())._includes_([o(t)._first()][0]);var s;return s=n,r._includes_in_(o(t)._first(),s)}}),s.Set),n.addMethod(n.method({selector:"includes:in:",protocol:"private",pragmas:[["inlineJS:",["return anObject in anotherObject.store"]]],messageSends:[]},function(e){return function(e,t){return e in t.store}}),s.Set),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["initialize","initializeSlowBucketStores","removeAll"]},function(t){return function(){var n=this,r=this;return(t.superclass||e.nilAsClass).fn.prototype._initialize.call(r),r.defaultBucket=[],r._initializeSlowBucketStores(),r._removeAll(),n}}),s.Set),n.addMethod(n.method({selector:"initializeSlowBucketStores",protocol:"initialization",pragmas:[],messageSends:["hashBlock:","classNameOf:","jsConstructorNameOf:"]},function(e){return function(){var e=this,t=this;return t.slowBucketStores=[[o(s.ArrayBucketStore)._hashBlock_(function(e){return t._classNameOf_(e)})][0],o(s.ArrayBucketStore)._hashBlock_(function(e){return t._jsConstructorNameOf_(e)})],e}}),s.Set),n.addMethod(n.method({selector:"jsConstructorNameOf:",protocol:"private",pragmas:[["inlineJS:",["return anObject.constructor && anObject.constructor.name"]]],messageSends:[]},function(e){return function(e){return e.constructor&&e.constructor.name}}),s.Set),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["printOn:","nextPutAll:","do:separatedBy:"]},function(t){return function(n){var r=this,s=this;return(t.superclass||e.nilAsClass).fn.prototype._printOn_.call(s,n),o(n)._nextPutAll_(" ("),s._do_separatedBy_(function(e){return o(e)._printOn_(n)},function(){return[o(n)._nextPutAll_(" ")][0]}),o(n)._nextPutAll_(")"),r}}),s.Set),n.addMethod(n.method({selector:"remove:ifAbsent:",protocol:"adding/removing",pragmas:[],messageSends:["bucketsOfElement:","ifNil:ifNotNil:","second","first","remove:ifAbsent:","third","value","-","remove:in:ifAbsent:"]},function(e){return function(e,t){var n,r,s=this,a={};try{if(n=s._bucketsOfElement_(e),null==(r=o(n)._second())||r.a$nil){var i;return i=[o(n)._first()][0],o(o(n)._third())._remove_ifAbsent_(i,function(){throw a=[o(t)._value()]}),s.size=o(s.size).__minus(1),i}var c;return c=r,s._remove_in_ifAbsent_(o(n)._first(),c,t)}catch(e){if(e===a)return e[0];throw e}}}),s.Set),n.addMethod(n.method({selector:"remove:in:ifAbsent:",protocol:"private",pragmas:[["inlineJS:",["\n\t\tif (anObject in anotherObject.store) {\n\t\t\tdelete anotherObject.store[anObject];\n\t\t\t$self.size--;\n\t\t\treturn anObject;\n\t\t} else {\n\t\t\treturn aBlock._value();\n\t\t}"]]],messageSends:[]},function(e){return function(e,t,n){var r=this;return e in t.store?(delete t.store[e],r.size--,e):n._value()}}),s.Set),n.addMethod(n.method({selector:"removeAll",protocol:"adding/removing",pragmas:[["inlineJS:",['\n\t\t$self.fastBuckets = {\n\t\t\t"boolean": { store: Object.create(null), fn: function (x) { return {"true": true, "false": false, "null": null}[x]; } },\n\t\t\t"number": { store: Object.create(null), fn: Number },\n\t\t\t"string": { store: Object.create(null) }\n\t\t};\n\t\t$self.slowBucketStores.forEach(function (x) { x._removeAll(); });\n\t\t$self.defaultBucket._removeAll();\n\t\t$self.size = 0;\n\t']]],messageSends:[]},function(e){return function(){var e=this,t=this;return t.fastBuckets={boolean:{store:Object.create(null),fn:function(e){return{true:!0,false:!1,null:null}[e]}},number:{store:Object.create(null),fn:Number},string:{store:Object.create(null)}},t.slowBucketStores.forEach(function(e){e._removeAll()}),t.defaultBucket._removeAll(),t.size=0,e}}),s.Set),n.addMethod(n.method({selector:"select:",protocol:"enumerating",pragmas:[],messageSends:["new","class","do:","ifTrue:","value:","add:"]},function(e){return function(e){var t,r=this;return t=o(r._class())._new(),r._do_(function(r){if(n.assert(o(e)._value_(r)))return o(t)._add_(r)}),t}}),s.Set),n.addMethod(n.method({selector:"select:thenCollect:",protocol:"enumerating",pragmas:[],messageSends:["new","class","do:","ifTrue:","value:","add:"]},function(e){return function(e,t){var r,s=this;return r=o(s._class())._new(),s._do_(function(s){if(n.assert([o(e)._value_(s)][0]))return o(r)._add_(o(t)._value_(s))}),r}}),s.Set),n.addMethod(n.method({selector:"size",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.size}}),s.Set),n.addClass("ProtoStream",s.Object,"Kernel-Collections"),n.addMethod(n.method({selector:"<<",protocol:"writing",pragmas:[],messageSends:["write:"]},function(e){return function(e){var t=this;return this._write_(e),t}}),s.ProtoStream),n.addMethod(n.method({selector:"atEnd",protocol:"testing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.ProtoStream),n.addMethod(n.method({selector:"atStart",protocol:"testing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.ProtoStream),n.addMethod(n.method({selector:"contents",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.ProtoStream),n.addMethod(n.method({selector:"do:",protocol:"enumerating",pragmas:[],messageSends:["whileFalse:","atEnd","value:","next"]},function(e){return function(e){var t=this,n=this;return o(function(){return n._atEnd()})._whileFalse_(function(){return o(e)._value_(n._next())}),t}}),s.ProtoStream),n.addMethod(n.method({selector:"isEmpty",protocol:"testing",pragmas:[],messageSends:["and:","atStart","atEnd"]},function(e){return function(){var e=this;return!!n.assert(e._atStart())&&e._atEnd()}}),s.ProtoStream),n.addMethod(n.method({selector:"next",protocol:"reading",pragmas:[],messageSends:["ifTrue:ifFalse:","atEnd","subclassResponsibility"]},function(e){return function(){var e=this;return n.assert(e._atEnd())?r:e._subclassResponsibility()}}),s.ProtoStream),n.addMethod(n.method({selector:"nextPut:",protocol:"writing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e){var t=this;return this._subclassResponsibility(),t}}),s.ProtoStream),n.addMethod(n.method({selector:"nextPutAll:",protocol:"writing",pragmas:[],messageSends:["do:","nextPut:"]},function(e){return function(e){var t=this,n=this;return o(e)._do_(function(e){return n._nextPut_(e)}),t}}),s.ProtoStream),n.addMethod(n.method({selector:"nextPutString:",protocol:"writing",pragmas:[],messageSends:["nextPut:"]},function(e){return function(e){var t=this;return this._nextPut_(e),t}}),s.ProtoStream),n.addMethod(n.method({selector:"peek",protocol:"reading",pragmas:[],messageSends:["ifTrue:ifFalse:","atEnd","subclassResponsibility"]},function(e){return function(){var e=this;return n.assert(e._atEnd())?r:e._subclassResponsibility()}}),s.ProtoStream),n.addMethod(n.method({selector:"reset",protocol:"actions",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.ProtoStream),n.addMethod(n.method({selector:"resetContents",protocol:"actions",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.ProtoStream),n.addMethod(n.method({selector:"setToEnd",protocol:"positioning",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.ProtoStream),n.addMethod(n.method({selector:"setToStart",protocol:"positioning",pragmas:[],messageSends:["reset"]},function(e){return function(){var e=this;return this._reset(),e}}),s.ProtoStream),n.addMethod(n.method({selector:"write:",protocol:"writing",pragmas:[],messageSends:["putOn:"]},function(e){return function(e){var t=this;return o(e)._putOn_(t),t}}),s.ProtoStream),n.addMethod(n.method({selector:"on:",protocol:"instance creation",pragmas:[],messageSends:["setCollection:","new","setStreamSize:","size","yourself"]},function(e){return function(e){var t,n=this;return t=n._new(),o(t)._setCollection_(e),o(t)._setStreamSize_(o(e)._size()),o(t)._yourself()}}),s.ProtoStream.a$cls),n.addClass("Stream",s.ProtoStream,"Kernel-Collections"),n.setSlots(s.Stream,["collection","position","streamSize"]),n.addMethod(n.method({selector:"atEnd",protocol:"testing",pragmas:[],messageSends:["=","position","size"]},function(e){return function(){var e=this;return o(e._position()).__eq(e._size())}}),s.Stream),n.addMethod(n.method({selector:"atStart",protocol:"testing",pragmas:[],messageSends:["=","position"]},function(e){return function(){return o(this._position()).__eq(0)}}),s.Stream),n.addMethod(n.method({selector:"close",protocol:"actions",pragmas:[],messageSends:[]},function(e){return function(){var e=this;return e}}),s.Stream),n.addMethod(n.method({selector:"collection",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.collection}}),s.Stream),n.addMethod(n.method({selector:"contents",protocol:"accessing",pragmas:[],messageSends:["copyFrom:to:","collection","streamSize"]},function(e){return function(){var e=this;return o(e._collection())._copyFrom_to_(1,e._streamSize())}}),s.Stream),n.addMethod(n.method({selector:"flush",protocol:"actions",pragmas:[],messageSends:[]},function(e){return function(){var e=this;return e}}),s.Stream),n.addMethod(n.method({selector:"isEmpty",protocol:"testing",pragmas:[],messageSends:["=","size"]},function(e){return function(){return o(this._size()).__eq(0)}}),s.Stream),n.addMethod(n.method({selector:"next",protocol:"reading",pragmas:[],messageSends:["ifTrue:ifFalse:","atEnd","position:","+","position","at:"]},function(e){return function(){var e=this;return n.assert(e._atEnd())?r:(e._position_(o([e._position()][0]).__plus(1)),o(e.collection)._at_(e._position()))}}),s.Stream),n.addMethod(n.method({selector:"next:",protocol:"reading",pragmas:[],messageSends:["new","class","collection","timesRepeat:","ifFalse:","atEnd","add:","next"]},function(e){return function(e){var t,r=this;return t=o(o(r._collection())._class())._new(),o(e)._timesRepeat_(function(){if(!n.assert(r._atEnd()))return o(t)._add_(r._next())}),t}}),s.Stream),n.addMethod(n.method({selector:"nextPut:",protocol:"writing",pragmas:[],messageSends:["position:","+","position","at:put:","collection","setStreamSize:","max:","streamSize"]},function(e){return function(e){var t=this,n=this;return n._position_(o([n._position()][0]).__plus(1)),o(n._collection())._at_put_([n._position()][0],e),n._setStreamSize_(o(n._streamSize())._max_(n._position())),t}}),s.Stream),n.addMethod(n.method({selector:"peek",protocol:"reading",pragmas:[],messageSends:["ifFalse:","atEnd","at:","collection","+","position"]},function(e){return function(){var e=this;if(!n.assert(e._atEnd()))return o(e._collection())._at_(o(e._position()).__plus(1))}}),s.Stream),n.addMethod(n.method({selector:"position",protocol:"accessing",pragmas:[],messageSends:["ifNil:"]},function(e){return function(){var e,t=this;return e=t.position,null==e||e.a$nil?(t.position=0,t.position):e}}),s.Stream),n.addMethod(n.method({selector:"position:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.position=e,t}}),s.Stream),n.addMethod(n.method({selector:"reset",protocol:"actions",pragmas:[],messageSends:["position:"]},function(e){return function(){var e=this;return this._position_(0),e}}),s.Stream),n.addMethod(n.method({selector:"resetContents",protocol:"actions",pragmas:[],messageSends:["reset","setStreamSize:"]},function(e){return function(){var e=this,t=this;return t._reset(),t._setStreamSize_(0),e}}),s.Stream),n.addMethod(n.method({selector:"setCollection:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.collection=e,t}}),s.Stream),n.addMethod(n.method({selector:"setStreamSize:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.streamSize=e,t}}),s.Stream),n.addMethod(n.method({selector:"setToEnd",protocol:"positioning",pragmas:[],messageSends:["position:","size"]},function(e){return function(){var e=this,t=this;return t._position_(t._size()),e}}),s.Stream),n.addMethod(n.method({selector:"size",protocol:"accessing",pragmas:[],messageSends:["streamSize"]},function(e){return function(){return this._streamSize()}}),s.Stream),n.addMethod(n.method({selector:"skip:",protocol:"positioning",pragmas:[],messageSends:["position:","min:max:","+","position","size"]},function(e){return function(e){var t=this,n=this;return n._position_(o(o(n._position()).__plus(e))._min_max_(n._size(),0)),t}}),s.Stream),n.addMethod(n.method({selector:"streamSize",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.streamSize}}),s.Stream),n.addMethod(n.method({selector:"on:",protocol:"instance creation",pragmas:[],messageSends:["setCollection:","new","setStreamSize:","size","yourself"]},function(e){return function(e){var t,n=this;return t=n._new(),o(t)._setCollection_(e),o(t)._setStreamSize_(o(e)._size()),o(t)._yourself()}}),s.Stream.a$cls),n.addClass("StringStream",s.Stream,"Kernel-Collections"),n.addMethod(n.method({selector:"cr",protocol:"writing",pragmas:[],messageSends:["nextPutAll:","cr"]},function(e){return function(){return this._nextPutAll_(o(s.String)._cr())}}),s.StringStream),n.addMethod(n.method({selector:"crlf",protocol:"writing",pragmas:[],messageSends:["nextPutAll:","crlf"]},function(e){return function(){return this._nextPutAll_(o(s.String)._crlf())}}),s.StringStream),n.addMethod(n.method({selector:"lf",protocol:"writing",pragmas:[],messageSends:["nextPutAll:","lf"]},function(e){return function(){return this._nextPutAll_(o(s.String)._lf())}}),s.StringStream),n.addMethod(n.method({selector:"next:",protocol:"reading",pragmas:[],messageSends:["new","class","collection","timesRepeat:","ifFalse:","atEnd",",","next"]},function(e){return function(e){var t,r=this;return t=o(o(r._collection())._class())._new(),o(e)._timesRepeat_(function(){if(!n.assert(r._atEnd()))return t=o(t).__comma(r._next())}),t}}),s.StringStream),n.addMethod(n.method({selector:"nextPut:",protocol:"writing",pragmas:[],messageSends:["nextPutAll:"]},function(e){return function(e){var t=this;return this._nextPutAll_(e),t}}),s.StringStream),n.addMethod(n.method({selector:"nextPutAll:",protocol:"writing",pragmas:[],messageSends:["ifTrue:ifFalse:","=","position","size","collection","setCollection:",",","copyFrom:to:","+","position:","setStreamSize:","max:","streamSize"]},function(e){return function(e){var t,r,s=this,a=this;return n.assert(o([a._position()][0]).__eq([o([a._collection()][0])._size()][0]))?a._setCollection_([o([a._collection()][0]).__comma(e)][0]):(t=[o([a._collection()][0])._copyFrom_to_(1,[a._position()][0])][0],r=o([a._collection()][0])._copyFrom_to_([o([o([a._position()][0]).__plus(1)][0]).__plus([o(e)._size()][0])][0],[o(a._collection())._size()][0]),a._setCollection_([o(o(t).__comma(e)).__comma(r)][0])),a._position_(o([a._position()][0]).__plus(o(e)._size())),a._setStreamSize_(o(a._streamSize())._max_(a._position())),s}}),s.StringStream),n.addMethod(n.method({selector:"nextPutString:",protocol:"writing",pragmas:[],messageSends:["nextPutAll:"]},function(e){return function(e){var t=this;return this._nextPutAll_(e),t}}),s.StringStream),n.addMethod(n.method({selector:"print:",protocol:"writing",pragmas:[],messageSends:["printOn:"]},function(e){return function(e){var t=this;return o(e)._printOn_(t),t}}),s.StringStream),n.addMethod(n.method({selector:"printSymbol:",protocol:"writing",pragmas:[],messageSends:["asSymbolPrintOn:"]},function(e){return function(e){var t=this;return o(e)._asSymbolPrintOn_(t),t}}),s.StringStream),n.addMethod(n.method({selector:"space",protocol:"writing",pragmas:[],messageSends:["nextPut:"]},function(e){return function(){var e=this;return this._nextPut_(" "),e}}),s.StringStream),n.addMethod(n.method({selector:"tab",protocol:"writing",pragmas:[],messageSends:["nextPutAll:","tab"]},function(e){return function(){return this._nextPutAll_(o(s.String)._tab())}}),s.StringStream),n.addClass("Queue",s.Object,"Kernel-Collections"),n.setSlots(s.Queue,["read","readIndex","write"]),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["initialize","new"]},function(t){return function(){var n=this,r=this;return(t.superclass||e.nilAsClass).fn.prototype._initialize.call(r),r.read=[o(s.OrderedCollection)._new()][0],r.write=o(s.OrderedCollection)._new(),r.readIndex=1,n}}),s.Queue),n.addMethod(n.method({selector:"next",protocol:"accessing",pragmas:[],messageSends:["nextIfAbsent:","error:"]},function(e){return function(){var e=this;return e._nextIfAbsent_(function(){return e._error_("Cannot read from empty Queue.")})}}),s.Queue),n.addMethod(n.method({selector:"nextIfAbsent:",protocol:"accessing",pragmas:[],messageSends:["at:ifAbsent:","ifEmpty:","ifTrue:",">","value","new","first","at:put:","+"]},function(e){return function(e){var t,a=this,i={};try{return t=o(a.read)._at_ifAbsent_(a.readIndex,function(){return o(a.write)._ifEmpty_(function(){throw n.assert(o(a.readIndex).__gt(1))&&(a.read=[],a.readIndex=1,a.readIndex),i=[o(e)._value()]}),a.read=a.write,a.readIndex=1,a.write=o(s.OrderedCollection)._new(),o(a.read)._first()}),o(a.read)._at_put_(a.readIndex,r),a.readIndex=o(a.readIndex).__plus(1),t}catch(e){if(e===i)return e[0];throw e}}}),s.Queue),n.addMethod(n.method({selector:"nextPut:",protocol:"accessing",pragmas:[],messageSends:["add:"]},function(e){return function(e){var t=this;return o(this.write)._add_(e),t}}),s.Queue),n.addClass("RegularExpression",s.Object,"Kernel-Collections"),n.addMethod(n.method({selector:"compile:",protocol:"evaluating",pragmas:[["inlineJS:",["return self.compile(aString)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.compile(e)}}),s.RegularExpression),n.addMethod(n.method({selector:"exec:",protocol:"evaluating",pragmas:[["inlineJS:",["return self.exec(aString) || nil"]]],messageSends:[]},function(e){return function(e){var t=this;return t.exec(e)||r}}),s.RegularExpression),n.addMethod(n.method({selector:"test:",protocol:"evaluating",pragmas:[["inlineJS:",["return self.test(aString)"]]],messageSends:[]},function(e){return function(e){var t=this;return t.test(e)}}),s.RegularExpression),n.addMethod(n.method({selector:"fromString:",protocol:"instance creation",pragmas:[],messageSends:["fromString:flag:"]},function(e){return function(e){return this._fromString_flag_(e,"")}}),s.RegularExpression.a$cls),n.addMethod(n.method({selector:"fromString:flag:",protocol:"instance creation",pragmas:[["inlineJS:",["return new RegExp(aString, anotherString)"]]],messageSends:[]},function(e){return function(e,t){return new RegExp(e,t)}}),s.RegularExpression.a$cls),n.addTrait("TKeyValueCollection","Kernel-Collections"),n.addMethod(n.method({selector:"at:",protocol:"accessing",pragmas:[],messageSends:["at:ifAbsent:","errorNotFound"]},function(e){return function(e){var t=this;return t._at_ifAbsent_(e,function(){return t._errorNotFound()})}}),s.TKeyValueCollection),n.addMethod(n.method({selector:"at:ifAbsent:",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e,t){var n=this;return this._subclassResponsibility(),n}}),s.TKeyValueCollection),n.addMethod(n.method({selector:"at:ifAbsentPut:",protocol:"accessing",pragmas:[],messageSends:["at:ifAbsent:","at:put:","value"]},function(e){return function(e,t){var n=this;return n._at_ifAbsent_(e,function(){return n._at_put_(e,o(t)._value())})}}),s.TKeyValueCollection),n.addMethod(n.method({selector:"at:ifPresent:",protocol:"accessing",pragmas:[],messageSends:["at:ifPresent:ifAbsent:"]},function(e){return function(e,t){return this._at_ifPresent_ifAbsent_(e,t,function(){return r})}}),s.TKeyValueCollection),n.addMethod(n.method({selector:"at:ifPresent:ifAbsent:",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e,t,n){var r=this;return this._subclassResponsibility(),r}}),s.TKeyValueCollection),n.addMethod(n.method({selector:"at:put:",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e,t){var n=this;return this._subclassResponsibility(),n}}),s.TKeyValueCollection),n.addMethod(n.method({selector:"indexOf:",protocol:"accessing",pragmas:[],messageSends:["indexOf:ifAbsent:","errorNotFound"]},function(e){return function(e){var t=this;return t._indexOf_ifAbsent_(e,function(){return t._errorNotFound()})}}),s.TKeyValueCollection),n.addMethod(n.method({selector:"indexOf:ifAbsent:",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e,t){var n=this;return this._subclassResponsibility(),n}}),s.TKeyValueCollection),n.addMethod(n.method({selector:"with:do:",protocol:"enumerating",pragmas:[],messageSends:["withIndexDo:","value:value:","at:"]},function(e){return function(e,t){var n=this;return this._withIndexDo_(function(n,r){return o(t)._value_value_(n,o(e)._at_(r))}),n}}),s.TKeyValueCollection),n.addMethod(n.method({selector:"withIndexDo:",protocol:"enumerating",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e){var t=this;return this._subclassResponsibility(),t}}),s.TKeyValueCollection),n.addTrait("TNativeZeroBasedCollection","Kernel-Collections"),n.addMethod(n.method({selector:"at:ifAbsent:",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\treturn anIndex >= 1 && anIndex <= self.length\n\t\t\t? self[anIndex - 1]\n\t\t\t: aBlock._value()\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this;return e>=1&&e<=n.length?n[e-1]:t._value()}}),s.TNativeZeroBasedCollection),n.addMethod(n.method({selector:"at:ifPresent:ifAbsent:",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\treturn anIndex >= 1 && anIndex <= self.length\n\t\t\t? aBlock._value_(self[anIndex - 1])\n\t\t\t: anotherBlock._value()\n\t"]]],messageSends:[]},function(e){return function(e,t,n){var r=this;return e>=1&&e<=r.length?t._value_(r[e-1]):n._value()}}),s.TNativeZeroBasedCollection),n.addMethod(n.method({selector:"detect:ifNone:",protocol:"enumerating",pragmas:[["inlineJS:",["\n\t\tfor(var i = 0; i < self.length; i++)\n\t\t\tif(aBlock._value_(self[i]))\n\t\t\t\treturn self[i];\n\t\treturn anotherBlock._value();\n\t"]]],messageSends:[]},function(e){return function(e,t){for(var n=this,r=0;r<n.length;r++)if(e._value_(n[r]))return n[r];return t._value()}}),s.TNativeZeroBasedCollection),n.addMethod(n.method({selector:"do:",protocol:"enumerating",pragmas:[["inlineJS:",["\n\t\tfor(var i=0; i < self.length; i++) {\n\t\t\taBlock._value_(self[i]);\n\t\t}\n\t"]]],messageSends:[]},function(e){return function(e){for(var t=this,n=0;n<t.length;n++)e._value_(t[n]);return t}}),s.TNativeZeroBasedCollection),n.addMethod(n.method({selector:"indexOf:ifAbsent:",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\tfor(var i=0; i < self.length; i++) {\n\t\t\tif($recv(self[i]).__eq(anObject)) {return i+1}\n\t\t};\n\t\treturn aBlock._value();\n\t"]]],messageSends:[]},function(e){return function(e,t){for(var n=this,r=0;r<n.length;r++)if(o(n[r]).__eq(e))return r+1;return t._value()}}),s.TNativeZeroBasedCollection),n.addMethod(n.method({selector:"indexOf:startingAt:ifAbsent:",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\tfor(var i=start - 1; i < self.length; i++){\n\t\t\tif($recv(self[i]).__eq(anObject)) {return i+1}\n\t\t}\n\t\treturn aBlock._value();\n\t"]]],messageSends:[]},function(e){return function(e,t,n){for(var r=this,s=t-1;s<r.length;s++)if(o(r[s]).__eq(e))return s+1;return n._value()}}),s.TNativeZeroBasedCollection),n.addMethod(n.method({selector:"single",protocol:"accessing",pragmas:[["inlineJS:",['\n\tif (self.length == 0) throw new Error("Collection is empty");\n\tif (self.length > 1) throw new Error("Collection holds more than one element.");\n\treturn self[0];']]],messageSends:[]},function(e){return function(){var e=this;if(0==e.length)throw new Error("Collection is empty");if(e.length>1)throw new Error("Collection holds more than one element.");return e[0]}}),s.TNativeZeroBasedCollection),n.addMethod(n.method({selector:"size",protocol:"accessing",pragmas:[["inlineJS:",["return self.length"]]],messageSends:[]},function(e){return function(){var e=this;return e.length}}),s.TNativeZeroBasedCollection),n.addMethod(n.method({selector:"with:do:",protocol:"enumerating",pragmas:[["inlineJS:",["\n\t    $recv(anotherCollection)._first_(0); // #guardSequenceableCollection\n\t\tfor(var i=0; i<self.length; i++) {\n\t\t\taBlock._value_value_(self[i], anotherCollection[i]);\n\t\t}\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this;o(e)._first_(0);for(var r=0;r<n.length;r++)t._value_value_(n[r],e[r]);return n}}),s.TNativeZeroBasedCollection),n.addMethod(n.method({selector:"withIndexDo:",protocol:"enumerating",pragmas:[["inlineJS:",["\n\t\tfor(var i=0; i < self.length; i++) {\n\t\t\taBlock._value_value_(self[i], i+1);\n\t\t}\n\t"]]],messageSends:[]},function(e){return function(e){for(var t=this,n=0;n<t.length;n++)e._value_value_(t[n],n+1);return t}}),s.TNativeZeroBasedCollection),n.setTraitComposition([{trait:s.TKeyValueCollection}],s.AssociativeCollection),n.setTraitComposition([{trait:s.TKeyValueCollection}],s.SequenceableCollection),n.setTraitComposition([{trait:s.TNativeZeroBasedCollection}],s.Array),n.setTraitComposition([{trait:s.TNativeZeroBasedCollection}],s.String)}),define("amber/core/Kernel-Classes",["amber/boot","require","amber/core/Kernel-Collections","amber/core/Kernel-Helpers","amber/core/Kernel-Objects"],function(e,t){"use strict";var n=e.api,r=e.nilAsValue,o=(e.nilAsReceiver,e.asReceiver),s=e.globals;n.addPackage("Kernel-Classes").transport={type:"amd",amdNamespace:"amber/core"},n.addClass("Behavior",s.Object,"Kernel-Classes"),n.setSlots(s.Behavior,["organization","slots","fn","superclass"]),n.addMethod(n.method({selector:"allSelectors",protocol:"accessing",pragmas:[],messageSends:["inject:into:","allSuperclasses","selectors","addAll:","yourself"]},function(e){return function(){var e=this;return o(e._allSuperclasses())._inject_into_([e._selectors()][0],function(e,t){return o(e)._addAll_(o(t)._selectors()),o(e)._yourself()})}}),s.Behavior),n.addMethod(n.method({selector:"allSubclasses",protocol:"accessing",pragmas:[],messageSends:["streamContents:","allSubclassesDo:","nextPut:"]},function(e){return function(){var e=this;return o(s.Array)._streamContents_(function(t){return e._allSubclassesDo_(function(e){return o(t)._nextPut_(e)})})}}),s.Behavior),n.addMethod(n.method({selector:"allSubclassesDo:",protocol:"enumerating",pragmas:[["inlineJS:",["$core.traverseClassTree(self, function(subclass) {\n\tif (subclass !== self) aBlock._value_(subclass);\n})"]]],messageSends:[]},function(e){return function(e){var t=this;return n.traverseClassTree(t,function(n){n!==t&&e._value_(n)}),t}}),s.Behavior),n.addMethod(n.method({selector:"allSuperclasses",protocol:"accessing",pragmas:[],messageSends:["ifNil:","superclass","copyWithFirst:","allSuperclasses"]},function(e){return function(){var e,t=this;return e=[t._superclass()][0],null==e||e.a$nil?[]:o(o([t._superclass()][0])._allSuperclasses())._copyWithFirst_(t._superclass())}}),s.Behavior),n.addMethod(n.method({selector:"alternateConstructorViaSelector:",protocol:"instance creation",pragmas:[],messageSends:["javaScriptConstructorFor:initializingVia:","prototype","fn",">>"]},function(e){return function(e){var t=this;return o(s.BlockClosure)._javaScriptConstructorFor_initializingVia_(t._prototype(),o(t.__gt_gt(e))._fn())}}),s.Behavior),n.addMethod(n.method({selector:"applySuperConstructorOn:withArguments:",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\tObject.getPrototypeOf($self.fn.prototype).constructor\n\t\t.apply(anObject, anArray)\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this,r=this;return Object.getPrototypeOf(r.fn.prototype).constructor.apply(e,t),n}}),s.Behavior),n.addMethod(n.method({selector:"basicNew",protocol:"instance creation",pragmas:[["inlineJS:",["return new self.fn()"]]],messageSends:[]},function(e){return function(){var e=this;return new e.fn}}),s.Behavior),n.addMethod(n.method({selector:"basicOrganization",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.organization}}),s.Behavior),n.addMethod(n.method({selector:"basicOrganization:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.organization=e,t}}),s.Behavior),n.addMethod(n.method({selector:"beJavaScriptSubclassOf:",protocol:"accessing",pragmas:[],messageSends:["makeJavaScriptConstructorSubclassOf:","detachClass:","core"]},function(e){return function(e){var t=this;return this._makeJavaScriptConstructorSubclassOf_(e),o(o(s.Smalltalk)._core())._detachClass_(t),t}}),s.Behavior),n.addMethod(n.method({selector:"canUnderstand:",protocol:"testing",pragmas:[],messageSends:["notNil","lookupSelector:"]},function(e){return function(e){return o(this._lookupSelector_(e))._notNil()}}),s.Behavior),n.addMethod(n.method({selector:"includesBehavior:",protocol:"testing",pragmas:[],messageSends:["or:","==","inheritsFrom:"]},function(e){return function(e){var t=this;return!!n.assert(t.__eq_eq(e))||t._inheritsFrom_(e)}}),s.Behavior),n.addMethod(n.method({selector:"inheritsFrom:",protocol:"testing",pragmas:[],messageSends:["ifNil:ifNotNil:","superclass","includesBehavior:"]},function(e){return function(e){var t;if(null==(t=this._superclass())||t.a$nil)return!1;var n;return n=t,o(n)._includesBehavior_(e)}}),s.Behavior),n.addMethod(n.method({selector:"isBehavior",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),s.Behavior),n.addMethod(n.method({selector:"javaScriptConstructor",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.fn}}),s.Behavior),n.addMethod(n.method({selector:"javaScriptConstructor:",protocol:"accessing",pragmas:[],messageSends:["setClassConstructor:to:","core"]},function(e){return function(e){var t=this;return o(o(s.Smalltalk)._core())._setClassConstructor_to_(t,e),t}}),s.Behavior),n.addMethod(n.method({selector:"javascriptConstructor",protocol:"accessing",pragmas:[],messageSends:["deprecatedAPI:","javaScriptConstructor"]},function(e){return function(){var e=this;return e._deprecatedAPI_("Use #javaScriptConstructor instead."),
e._javaScriptConstructor()}}),s.Behavior),n.addMethod(n.method({selector:"javascriptConstructor:",protocol:"accessing",pragmas:[],messageSends:["deprecatedAPI:","javaScriptConstructor:"]},function(e){return function(e){var t=this;return t._deprecatedAPI_("Use #javaScriptConstructor: instead."),t._javaScriptConstructor_(e)}}),s.Behavior),n.addMethod(n.method({selector:"lookupSelector:",protocol:"accessing",pragmas:[["inlineJS:",["return $self.methods[selector]"]]],messageSends:[]},function(e){return function(e){return this.methods[e]}}),s.Behavior),n.addMethod(n.method({selector:"makeJavaScriptConstructorSubclassOf:",protocol:"private",pragmas:[["inlineJS:",["\n\t\tObject.setPrototypeOf($self.fn.prototype, javaScriptClass.prototype);\n\t"]]],messageSends:[]},function(e){return function(e){var t=this,n=this;return Object.setPrototypeOf(n.fn.prototype,e.prototype),t}}),s.Behavior),n.addMethod(n.method({selector:"new",protocol:"instance creation",pragmas:[],messageSends:["initialize","basicNew"]},function(e){return function(){return o(this._basicNew())._initialize()}}),s.Behavior),n.addMethod(n.method({selector:"prototype",protocol:"accessing",pragmas:[],messageSends:["prototype","javaScriptConstructor"]},function(e){return function(){return o(this._javaScriptConstructor())._prototype()}}),s.Behavior),n.addMethod(n.method({selector:"slots",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.slots}}),s.Behavior),n.addMethod(n.method({selector:"subclasses",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.Behavior),n.addMethod(n.method({selector:"superPrototype",protocol:"accessing",pragmas:[["inlineJS:",["return Object.getPrototypeOf($self.fn.prototype)"]]],messageSends:[]},function(e){return function(){var e=this;return Object.getPrototypeOf(e.fn.prototype)}}),s.Behavior),n.addMethod(n.method({selector:"superclass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.superclass}}),s.Behavior),n.addMethod(n.method({selector:"theMetaClass",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.Behavior),n.addMethod(n.method({selector:"theNonMetaClass",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.Behavior),n.addMethod(n.method({selector:"withAllSubclasses",protocol:"accessing",pragmas:[],messageSends:["copyWithFirst:","allSubclasses"]},function(e){return function(){var e=this;return o(this._allSubclasses())._copyWithFirst_(e)}}),s.Behavior),n.addClass("Class",s.Behavior,"Kernel-Classes"),n.setSlots(s.Class,["package","subclasses"]),n.addMethod(n.method({selector:"basicPackage:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.package=e,t}}),s.Class),n.addMethod(n.method({selector:"classTag",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return"class"}}),s.Class),n.addMethod(n.method({selector:"definition",protocol:"accessing",pragmas:[],messageSends:["streamContents:","print:","superclass","write:","printSymbol:","name","lf","ifNotEmpty:","traitCompositionDefinition","tab","join:","collect:","instanceVariableNames","category"]},function(e){return function(){var e=this;return o(s.String)._streamContents_(function(t){return o(t)._print_(e._superclass()),o(t)._write_(" subclass: "),o(t)._printSymbol_(e._name()),o(t)._lf(),o(t)._write_(o(e._traitCompositionDefinition())._ifNotEmpty_(function(e){return[[o(s.String)._tab()][0],"uses: ",e,[o(s.String)._lf()][0]]})),o(t)._tab(),o(t)._write_(["slots: {",". "._join_(o(e._instanceVariableNames())._collect_("symbolPrintString")),"}"]),o(t)._lf(),o(t)._tab(),o(t)._write_("package: "),o(t)._print_(e._category())})}}),s.Class),n.addMethod(n.method({selector:"includingPossibleMetaDo:",protocol:"enumerating",pragmas:[],messageSends:["value:","theMetaClass"]},function(e){return function(e){var t=this,n=this;return o(e)._value_(t),o(e)._value_(n._theMetaClass()),t}}),s.Class),n.addMethod(n.method({selector:"isClass",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),s.Class),n.addMethod(n.method({selector:"package",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.package}}),s.Class),n.addMethod(n.method({selector:"provided",protocol:"converting",pragmas:[],messageSends:["provided","javaScriptConstructor"]},function(e){return function(){return o(this._javaScriptConstructor())._provided()}}),s.Class),n.addMethod(n.method({selector:"rename:",protocol:"accessing",pragmas:[],messageSends:["renameClass:to:","new"]},function(e){return function(e){var t=this;return o(o(s.ClassBuilder)._new())._renameClass_to_(t,e),t}}),s.Class),n.addMethod(n.method({selector:"subclasses",protocol:"accessing",pragmas:[],messageSends:["copy"]},function(e){return function(){return o(this.subclasses)._copy()}}),s.Class),n.addMethod(n.method({selector:"theMetaClass",protocol:"accessing",pragmas:[],messageSends:["class"]},function(e){return function(){return this._class()}}),s.Class),n.addClass("Metaclass",s.Behavior,"Kernel-Classes"),n.setSlots(s.Metaclass,["instanceClass"]),n.addMethod(n.method({selector:"asJavaScriptSource",protocol:"converting",pragmas:[],messageSends:[",","name","instanceClass"]},function(e){return function(){return[o("$globals.".__comma(o(this._instanceClass())._name())).__comma(".a$cls")][0]}}),s.Metaclass),n.addMethod(n.method({selector:"definition",protocol:"accessing",pragmas:[],messageSends:["streamContents:","print:","write:","ifEmpty:ifNotEmpty:","traitCompositionDefinition","lf","tab","join:","collect:","instanceVariableNames"]},function(e){return function(){var e=this,t=this;return o(s.String)._streamContents_(function(n){return o(n)._print_(e),o(n)._write_(o(t._traitCompositionDefinition())._ifEmpty_ifNotEmpty_(function(){return" "},function(e){return[[o(s.String)._lf()][0],[o(s.String)._tab()][0],"uses: ",e,o(s.String)._lf(),o(s.String)._tab()]})),o(n)._write_(["slots: {",". "._join_(o(t._instanceVariableNames())._collect_("symbolPrintString")),"}"])})}}),s.Metaclass),n.addMethod(n.method({selector:"instanceClass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.instanceClass}}),s.Metaclass),n.addMethod(n.method({selector:"instanceVariableNames:",protocol:"accessing",pragmas:[],messageSends:["slots:","instanceVariablesStringAsSlotList"]},function(e){return function(e){return this._slots_(o(e)._instanceVariablesStringAsSlotList())}}),s.Metaclass),n.addMethod(n.method({selector:"isMetaclass",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),s.Metaclass),n.addMethod(n.method({selector:"name",protocol:"accessing",pragmas:[],messageSends:[",","name","instanceClass"]},function(e){return function(){return o(o(this._instanceClass())._name()).__comma(" class")}}),s.Metaclass),n.addMethod(n.method({selector:"package",protocol:"accessing",pragmas:[],messageSends:["package","instanceClass"]},function(e){return function(){return o(this._instanceClass())._package()}}),s.Metaclass),n.addMethod(n.method({selector:"slots:",protocol:"accessing",pragmas:[],messageSends:["class:slots:","new"]},function(e){return function(e){var t=this;return o(o(s.ClassBuilder)._new())._class_slots_(t,e),t}}),s.Metaclass),n.addMethod(n.method({selector:"subclasses",protocol:"accessing",pragmas:[],messageSends:["metaSubclasses:","core"]},function(e){return function(){var e=this;return o(o(s.Smalltalk)._core())._metaSubclasses_(e)}}),s.Metaclass),n.addMethod(n.method({selector:"theMetaClass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this}}),s.Metaclass),n.addMethod(n.method({selector:"theNonMetaClass",protocol:"accessing",pragmas:[],messageSends:["instanceClass"]},function(e){return function(){return this._instanceClass()}}),s.Metaclass),n.addMethod(n.method({selector:"uses:instanceVariableNames:",protocol:"accessing",pragmas:[],messageSends:["uses:slots:","instanceVariablesStringAsSlotList"]},function(e){return function(e,t){return this._uses_slots_(e,o(t)._instanceVariablesStringAsSlotList())}}),s.Metaclass),n.addMethod(n.method({selector:"uses:slots:",protocol:"accessing",pragmas:[],messageSends:["slots:","setTraitComposition:","asTraitComposition"]},function(e){return function(e,t){var n=this,r=this;return r._slots_(t),r._setTraitComposition_(o(e)._asTraitComposition()),n}}),s.Metaclass),n.addClass("ClassBuilder",s.Object,"Kernel-Classes"),n.addMethod(n.method({selector:"addSubclassOf:named:instanceVariableNames:package:",protocol:"class definition",pragmas:[],messageSends:["deprecatedAPI:","addSubclassOf:named:slots:package:"]},function(e){return function(e,t,n,r){var o=this;return o._deprecatedAPI_("Use #addSubclass:named:slots:package: instead."),o._addSubclassOf_named_slots_package_(e,t,n,r)}}),s.ClassBuilder),n.addMethod(n.method({selector:"addSubclassOf:named:slots:package:",protocol:"class definition",pragmas:[],messageSends:["at:","globals","named:","ifNotNil:","package:","ifFalse:","==","superclass","migrateClassNamed:superclass:slots:package:","recompile","basicAddSubclassOf:named:slots:package:","yourself"]},function(e){return function(e,t,r,a){var i,c,l,u,d=this;if(i=o(o(s.Smalltalk)._globals())._at_(t),c=o(s.Package)._named_(a),null==(l=i)||l.a$nil);else if(o(i)._package_(c),!n.assert(o(o(i)._superclass()).__eq_eq(e)))return d._migrateClassNamed_superclass_slots_package_(t,e,r,a);return u=d._basicAddSubclassOf_named_slots_package_(e,t,r,a),o(u)._recompile(),o(u)._yourself()}}),s.ClassBuilder),n.addMethod(n.method({selector:"addTraitNamed:package:",protocol:"class definition",pragmas:[],messageSends:["at:","globals","named:","ifNotNil:","package:","recompile","yourself","basicAddTraitNamed:package:","announce:","current","theClass:","new"]},function(e){return function(e,t){var n,r,a,i,c,l,u=this;return n=o(o(s.Smalltalk)._globals())._at_(e),r=o(s.Package)._named_(t),null==(a=n)||a.a$nil?(n=u._basicAddTraitNamed_package_(e,t),c=o(s.SystemAnnouncer)._current(),l=o(s.ClassAdded)._new(),o(l)._theClass_(n),o(c)._announce_(o(l)._yourself()),n):(i=n,o(i)._package_(r),o(i)._recompile(),[o(i)._yourself()][0])}}),s.ClassBuilder),n.addMethod(n.method({selector:"basicAddSubclassOf:named:slots:package:",protocol:"private",pragmas:[["inlineJS:",["\n\t\tvar klass = $core.addClass(aString, aClass, packageName);\n\t\t$core.setSlots(klass, aCollection);\n\t\treturn klass;\n\t"]]],messageSends:[]},function(e){return function(e,t,r,o){var s=n.addClass(t,e,o);return n.setSlots(s,r),s}}),s.ClassBuilder),n.addMethod(n.method({selector:"basicAddTraitNamed:package:",protocol:"private",pragmas:[["inlineJS:",["return $core.addTrait(aString, anotherString)"]]],messageSends:[]},function(e){return function(e,t){return n.addTrait(e,t)}}),s.ClassBuilder),n.addMethod(n.method({selector:"basicClass:slots:",protocol:"private",pragmas:[],messageSends:["ifFalse:","isMetaclass","error:",",","name","setSlots:to:","core"]},function(e){return function(e,t){var r=this,a=this;return n.assert(o(e)._isMetaclass())||a._error_(o(o(e)._name()).__comma(" is not a metaclass")),o(o(s.Smalltalk)._core())._setSlots_to_(e,t),r}}),s.ClassBuilder),n.addMethod(n.method({selector:"basicRemoveClass:",protocol:"private",pragmas:[["inlineJS:",["$core.removeClass(aClass)"]]],messageSends:[]},function(e){return function(e){var t=this;return n.removeClass(e),t}}),s.ClassBuilder),n.addMethod(n.method({selector:"basicRenameClass:to:",protocol:"private",pragmas:[["inlineJS:",["\n\t\t$globals[aString] = aClass;\n\t\tdelete $globals[aClass.name];\n\t\taClass.name = aString;\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this;return s[t]=e,delete s[e.name],e.name=t,n}}),s.ClassBuilder),n.addMethod(n.method({selector:"basicSwapClassNames:with:",protocol:"private",pragmas:[["inlineJS:",["\n\t\tvar tmp = aClass.name;\n\t\taClass.name = anotherClass.name;\n\t\tanotherClass.name = tmp;\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this,r=e.name;return e.name=t.name,t.name=r,n}}),s.ClassBuilder),n.addMethod(n.method({selector:"class:slots:",protocol:"class definition",pragmas:[],messageSends:["basicClass:slots:","announce:","current","theClass:","new","yourself"]},function(e){return function(e,t){var n,r,a=this;return this._basicClass_slots_(e,t),n=o(s.SystemAnnouncer)._current(),r=o(s.ClassDefinitionChanged)._new(),o(r)._theClass_(e),o(n)._announce_(o(r)._yourself()),a}}),s.ClassBuilder),n.addMethod(n.method({selector:"copyClass:named:",protocol:"copying",pragmas:[],messageSends:["addSubclassOf:named:slots:package:","superclass","copy","slots","name","package","copyClass:to:","announce:","current","theClass:","new","yourself"]},function(e){return function(e,t){var n,r,a,i=this;return n=i._addSubclassOf_named_slots_package_(o(e)._superclass(),t,o(o(e)._slots())._copy(),o(o(e)._package())._name()),i._copyClass_to_(e,n),r=o(s.SystemAnnouncer)._current(),a=o(s.ClassAdded)._new(),o(a)._theClass_(n),o(r)._announce_(o(a)._yourself()),n}}),s.ClassBuilder),n.addMethod(n.method({selector:"copyClass:to:",protocol:"copying",pragmas:[],messageSends:["comment:","comment","valuesDo:","methodDictionary","ifTrue:","=","origin","install:forClass:protocol:","new","source","protocol","setTraitComposition:","traitComposition","basicClass:slots:","class","copy","slots"]},function(e){return function(e,t){var r=this,a=this;return o(t)._comment_(o(e)._comment()),o([o(e)._methodDictionary()][0])._valuesDo_(function(r){if(n.assert([o([o(r)._origin()][0]).__eq(e)][0]))return[o([o(s.Compiler)._new()][0])._install_forClass_protocol_([o(r)._source()][0],t,[o(r)._protocol()][0])][0]}),o(t)._setTraitComposition_([o(e)._traitComposition()][0]),a._basicClass_slots_([o(t)._class()][0],o(o([o(e)._class()][0])._slots())._copy()),o(o([o(e)._class()][0])._methodDictionary())._valuesDo_(function(r){if(n.assert(o(o(r)._origin()).__eq([o(e)._class()][0])))return o(o(s.Compiler)._new())._install_forClass_protocol_(o(r)._source(),[o(t)._class()][0],o(r)._protocol())}),o([o(t)._class()][0])._setTraitComposition_(o(o(e)._class())._traitComposition()),r}}),s.ClassBuilder),n.addMethod(n.method({selector:"migrateClass:superclass:",protocol:"class migration",pragmas:[],messageSends:["migrateClassNamed:superclass:slots:package:","name","slots","package"]},function(e){return function(e,t){return this._migrateClassNamed_superclass_slots_package_([o(e)._name()][0],t,o(e)._slots(),o(o(e)._package())._name())}}),s.ClassBuilder),n.addMethod(n.method({selector:"migrateClassNamed:superclass:instanceVariableNames:package:",protocol:"class migration",pragmas:[],messageSends:["deprecatedAPI:","migrateClassNamed:superclass:slots:package:"]},function(e){return function(e,t,n,r){var o=this;return o._deprecatedAPI_("Use #migrateClassNamed:superclass:slots:package: instead."),o._migrateClassNamed_superclass_slots_package_(e,t,n,r)}}),s.ClassBuilder),n.addMethod(n.method({selector:"migrateClassNamed:superclass:slots:package:",protocol:"class migration",pragmas:[],messageSends:[",","at:","globals","addSubclassOf:named:slots:package:","basicSwapClassNames:with:","on:do:","copyClass:to:","basicRemoveClass:","announce:","current","theClass:","new","yourself","pass","rawRenameClass:to:","do:","subclasses","migrateClass:superclass:","oldClass:"]},function(e){return function(e,t,n,r){var a,i,c,l,u,d,m,h=this;return c="new*".__comma(e),a=o(o(s.Smalltalk)._globals())._at_(e),i=h._addSubclassOf_named_slots_package_(t,c,n,r),h._basicSwapClassNames_with_(a,i),o(function(){return h._copyClass_to_(a,i)})._on_do_(s.Error,function(e){return h._basicSwapClassNames_with_(a,i),h._basicRemoveClass_(i),l=[o(s.SystemAnnouncer)._current()][0],u=[o(s.ClassRenamed)._new()][0],o(u)._theClass_(a),o(l)._announce_([o(u)._yourself()][0]),o(e)._pass()}),h._rawRenameClass_to_(a,c),h._rawRenameClass_to_(i,e),o(o(a)._subclasses())._do_(function(e){return h._migrateClass_superclass_(e,i)}),h._basicRemoveClass_(a),d=o(s.SystemAnnouncer)._current(),m=o(s.ClassMigrated)._new(),o(m)._theClass_(i),o(m)._oldClass_(a),o(d)._announce_(o(m)._yourself()),i}}),s.ClassBuilder),n.addMethod(n.method({selector:"rawRenameClass:to:",protocol:"private",pragmas:[["inlineJS:",["\n\t\t$globals[aString] = aClass;\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this;return s[t]=e,n}}),s.ClassBuilder),n.addMethod(n.method({selector:"renameClass:to:",protocol:"class migration",pragmas:[],messageSends:["basicRenameClass:to:","recompile","announce:","current","theClass:","new","yourself"]},function(e){return function(e,t){var n,r,a=this;return this._basicRenameClass_to_(e,t),o(e)._recompile(),n=o(s.SystemAnnouncer)._current(),r=o(s.ClassRenamed)._new(),o(r)._theClass_(e),o(n)._announce_(o(r)._yourself()),a}}),s.ClassBuilder),n.addMethod(n.method({selector:"superclass:subclass:",protocol:"class definition",pragmas:[],messageSends:["superclass:subclass:slots:package:"]},function(e){return function(e,t){return this._superclass_subclass_slots_package_(e,t,[],r)}}),s.ClassBuilder),n.addMethod(n.method({selector:"superclass:subclass:slots:package:",protocol:"class definition",pragmas:[],messageSends:["addSubclassOf:named:slots:package:","ifNil:","announce:","current","theClass:","new","yourself"]},function(e){return function(e,t,n,r){var a,i,c,l,u=this;return i=null==r||r.a$nil?"unclassified":r,a=u._addSubclassOf_named_slots_package_(e,t,n,i),c=o(s.SystemAnnouncer)._current(),l=o(s.ClassAdded)._new(),o(l)._theClass_(a),o(c)._announce_(o(l)._yourself()),a}}),s.ClassBuilder),n.addMethod(n.method({selector:"sortClasses:",protocol:"as yet unclassified",pragmas:[],messageSends:["new","do:","at:put:","name","sorted:","asArray","<=","at:ifAbsent:","ifNotNil:","superclass","add:","second","at:"]},function(e){return function(e){var t,n,a,i,c;return t=[r,[]],n=o(s.HashedCollection)._new(),o(e)._do_(function(e){return o(n)._at_put_([o(e)._name()][0],[e,[]])}),o(o(o(e)._asArray())._sorted_(function(e,t){return o([o(e)._name()][0]).__lt_eq([o(t)._name()][0])}))._do_(function(e){var r;if(a=n,null==(i=o(e)._superclass())||i.a$nil)c=i;else{var s;s=i,c=[o(s)._name()][0]}return r=o(a)._at_ifAbsent_(c,function(){return t}),o([o(r)._second()][0])._add_(o(n)._at_(o(e)._name()))}),o(t)._second()}}),s.ClassBuilder.a$cls),n.addTrait("TBehaviorDefaults","Kernel-Classes"),n.addMethod(n.method({selector:"allSubclassesDo:",protocol:"enumerating",pragmas:[],messageSends:[]},function(e){return function(e){return this}}),s.TBehaviorDefaults),n.addMethod(n.method({selector:"includingPossibleMetaDo:",protocol:"enumerating",pragmas:[],messageSends:["value:"]},function(e){return function(e){var t=this;return o(e)._value_(t),t}}),s.TBehaviorDefaults),n.addMethod(n.method({selector:"name",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return r}}),s.TBehaviorDefaults),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["ifNil:ifNotNil:","name","printOn:","nextPutAll:"]},function(t){return function(n){var r,s=this,a=this;if(null==(r=a._name())||r.a$nil)(t.superclass||e.nilAsClass).fn.prototype._printOn_.call(a,n);else{var i;i=r,o(n)._nextPutAll_(i)}return s}}),s.TBehaviorDefaults),n.addMethod(n.method({selector:"slots",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return[]}}),s.TBehaviorDefaults),n.addMethod(n.method({selector:"superclass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return r}}),s.TBehaviorDefaults),n.addMethod(n.method({selector:"traitUsers",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return[]}}),s.TBehaviorDefaults),n.addTrait("TBehaviorProvider","Kernel-Classes"),n.addMethod(n.method({selector:">>",protocol:"accessing",pragmas:[],messageSends:["methodAt:"]},function(e){return function(e){return this._methodAt_(e)}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"addCompiledMethod:",protocol:"compiling",pragmas:[],messageSends:["at:ifAbsent:","methodDictionary","selector","basicAddCompiledMethod:","ifNil:ifNotNil:","method:","new","yourself","oldMethod:","announce:","current"]},function(e){return function(e){var t,n,a,i,c,l=this,u=this;return t=o(u._methodDictionary())._at_ifAbsent_(o(e)._selector(),function(){return r}),u._basicAddCompiledMethod_(e),a=t,null==a||a.a$nil?(i=[o(s.MethodAdded)._new()][0],o(i)._method_(e),n=[o(i)._yourself()][0]):(c=o(s.MethodModified)._new(),o(c)._oldMethod_(t),o(c)._method_(e),n=o(c)._yourself()),o(o(s.SystemAnnouncer)._current())._announce_(n),l}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"allInstanceVariableNames",protocol:"accessing",pragmas:[],messageSends:["select:","allSlots"]},function(e){return function(){return o(this._allSlots())._select_("isString")}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"allSlotNames",protocol:"accessing",pragmas:[],messageSends:["allSlots"]},function(e){return function(){return this._allSlots()}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"allSlots",protocol:"accessing",pragmas:[],messageSends:["copy","slots","ifNotNil:","superclass","addAll:","allSlots"]},function(e){return function(){var e,t,n=this;if(e=o(n._slots())._copy(),null==(t=n._superclass())||t.a$nil);else{var r;r=t,o(e)._addAll_(o(r)._allSlots())}return e}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"basicAddCompiledMethod:",protocol:"private",pragmas:[["inlineJS:",["$core.addMethod(aMethod, self)"]]],messageSends:[]},function(e){return function(e){var t=this;return n.addMethod(e,t),t}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"basicRemoveCompiledMethod:",protocol:"private",pragmas:[["inlineJS:",["$core.removeMethod(aMethod,self)"]]],messageSends:[]},function(e){return function(e){var t=this;return n.removeMethod(e,t),t}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"compile:protocol:",protocol:"compiling",pragmas:[],messageSends:["install:forClass:protocol:","new"]},function(e){return function(e,t){var n=this;return o(o(s.Compiler)._new())._install_forClass_protocol_(e,n,t)}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"includesSelector:",protocol:"testing",pragmas:[],messageSends:["includesKey:","methodDictionary"]},function(e){return function(e){return o(this._methodDictionary())._includesKey_(e)}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"instanceVariableNames",protocol:"accessing",pragmas:[],messageSends:["select:","slots"]},function(e){return function(){return o(this._slots())._select_("isString")}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"methodAt:",protocol:"accessing",pragmas:[],messageSends:["at:","methodDictionary"]},function(e){return function(e){return o(this._methodDictionary())._at_(e)}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"methodDictionary",protocol:"accessing",pragmas:[["inlineJS:",["var dict = $globals.HashedCollection._new();\n\tvar methods = self.methods;\n\tObject.keys(methods).forEach(function(i) {\n\t\tif(methods[i].selector) {\n\t\t\tdict._at_put_(methods[i].selector, methods[i]);\n\t\t}\n\t});\n\treturn dict"]]],messageSends:[]},function(e){return function(){var e=this,t=s.HashedCollection._new(),n=e.methods;return Object.keys(n).forEach(function(e){n[e].selector&&t._at_put_(n[e].selector,n[e])}),t}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"methodOrganizationEnter:andLeave:",protocol:"accessing",pragmas:[],messageSends:["ifNotNil:","addElement:","organization","protocol","removeProtocolIfEmpty:"]},function(e){return function(e,t){var n=this,r=this;return null==e||e.a$nil||o(r._organization())._addElement_([o(e)._protocol()][0]),null==t||t.a$nil||r._removeProtocolIfEmpty_(o(t)._protocol()),n}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"methodTemplate",protocol:"accessing",pragmas:[],messageSends:["streamContents:","write:","lf","tab"]},function(e){return function(){return o(s.String)._streamContents_(function(e){return o(e)._write_("messageSelectorAndArgumentNames"),o(e)._lf(),o(e)._tab(),o(e)._write_('"comment stating purpose of message"'),o(e)._lf(),o(e)._lf(),o(e)._tab(),o(e)._write_("| temporary variable names |"),o(e)._lf(),o(e)._tab(),o(e)._write_("statements")})}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"methods",protocol:"accessing",pragmas:[],messageSends:["values","methodDictionary"]},function(e){return function(){return o(this._methodDictionary())._values()}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"methodsInProtocol:",protocol:"accessing",pragmas:[],messageSends:["select:","methods","=","protocol"]},function(e){return function(e){return o(this._methods())._select_(function(t){return o(o(t)._protocol()).__eq(e)})}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"organization",protocol:"accessing",pragmas:[],messageSends:["ifNil:","basicOrganization","basicOrganization:","on:"]},function(e){return function(){var e,t=this,n=this;return e=[n._basicOrganization()][0],null==e||e.a$nil?(n._basicOrganization_(o(s.ClassOrganizer)._on_(t)),n._basicOrganization()):e}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"ownMethods",protocol:"accessing",pragmas:[],messageSends:["sorted:","inject:into:","ownProtocols","new",",","ownMethodsInProtocol:","<=","selector"]},function(e){return function(){var e=this;return o(o(e._ownProtocols())._inject_into_(o(s.OrderedCollection)._new(),function(t,n){return o(t).__comma(e._ownMethodsInProtocol_(n))}))._sorted_(function(e,t){return o([o(e)._selector()][0]).__lt_eq(o(t)._selector())})}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"ownMethodsInProtocol:",protocol:"accessing",pragmas:[],messageSends:["select:","methodsInProtocol:","=","origin"]},function(e){return function(e){var t=this;return o(this._methodsInProtocol_(e))._select_(function(e){return o(o(e)._origin()).__eq(t)})}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"ownProtocols",protocol:"accessing",pragmas:[],messageSends:["reject:","protocols","match:"]},function(e){return function(){return o(this._protocols())._reject_(function(e){return o(e)._match_("^\\*")})}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"packageOfProtocol:",protocol:"accessing",pragmas:[],messageSends:["ifFalse:","beginsWith:","package","named:ifAbsent:","allButFirst"]},function(e){return function(e){var t=this;return n.assert(o(e)._beginsWith_("*"))?o(s.Package)._named_ifAbsent_(o(e)._allButFirst(),function(){return r}):t._package()}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"protocols",protocol:"accessing",pragmas:[],messageSends:["sorted","asArray","elements","organization"]},function(e){return function(){return o(o(o(this._organization())._elements())._asArray())._sorted()}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"protocolsDo:",protocol:"enumerating",pragmas:[],messageSends:["new","valuesDo:","methodDictionary","add:","at:ifAbsentPut:","protocol","do:","protocols","value:value:","at:"]},function(e){return function(e){var t,n=this,r=this;return t=[o(s.HashedCollection)._new()][0],o(r._methodDictionary())._valuesDo_(function(e){return o(o(t)._at_ifAbsentPut_(o(e)._protocol(),function(){return o(s.Array)._new()}))._add_(e)}),o(r._protocols())._do_(function(n){return o(e)._value_value_(n,o(t)._at_(n))}),n}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"recompile",protocol:"compiling",pragmas:[],messageSends:["recompile:","new"]},function(e){return function(){var e=this;return o(o(s.Compiler)._new())._recompile_(e)}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"removeCompiledMethod:",protocol:"compiling",pragmas:[],messageSends:["basicRemoveCompiledMethod:","announce:","current","method:","new","yourself"]},function(e){return function(e){var t,n,r=this;return this._basicRemoveCompiledMethod_(e),t=o(s.SystemAnnouncer)._current(),n=o(s.MethodRemoved)._new(),o(n)._method_(e),o(t)._announce_(o(n)._yourself()),r}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"removeProtocolIfEmpty:",protocol:"accessing",pragmas:[],messageSends:["detect:ifNone:","methods","=","protocol","removeElement:","organization"]},function(e){return function(e){var t=this,n=this;return o(n._methods())._detect_ifNone_(function(t){return o(o(t)._protocol()).__eq(e)},function(){return o(n._organization())._removeElement_(e)}),t}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"selectors",protocol:"accessing",pragmas:[],messageSends:["keys","methodDictionary"]},function(e){return function(){return o(this._methodDictionary())._keys()}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"setTraitComposition:",protocol:"compiling",pragmas:[["inlineJS:",["$core.setTraitComposition(aTraitComposition._asJavaScriptObject(), self)"]]],messageSends:[]},function(e){return function(e){var t=this;return n.setTraitComposition(e._asJavaScriptObject(),t),t}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"slotNames",protocol:"accessing",pragmas:[],messageSends:["slots"]},function(e){return function(){return this._slots()}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"traitComposition",protocol:"accessing",pragmas:[],messageSends:["ifNil:ifNotNil:","basicAt:","collect:","fromJSON:"]},function(e){return function(){var e;if(null==(e=this._basicAt_("traitComposition"))||e.a$nil)return[];var t;return t=e,o(t)._collect_(function(e){return o(s.TraitTransformation)._fromJSON_(e)})}}),s.TBehaviorProvider),n.addMethod(n.method({selector:"traitCompositionDefinition",protocol:"accessing",pragmas:[],messageSends:["ifNotEmpty:","traitComposition","streamContents:","write:","do:separatedBy:","definition"]},function(e){return function(){return o(this._traitComposition())._ifNotEmpty_(function(e){return o(s.String)._streamContents_(function(t){return o(t)._write_("{"),o(e)._do_separatedBy_(function(e){return[o(t)._write_(o(e)._definition())][0]},function(){return[o(t)._write_(". ")][0]}),o(t)._write_("}")})})}}),s.TBehaviorProvider),n.addTrait("TMasterBehavior","Kernel-Classes"),n.addMethod(n.method({selector:"asJavaScriptSource",protocol:"converting",pragmas:[],messageSends:[",","name"]},function(e){return function(){return"$globals.".__comma(this._name())}}),s.TMasterBehavior),n.addMethod(n.method({selector:"browse",protocol:"browsing",pragmas:[],messageSends:["findClass:"]},function(e){return function(){var e=this;return o(s.Finder)._findClass_(e),e}}),s.TMasterBehavior),n.addMethod(n.method({selector:"category",protocol:"accessing",pragmas:[],messageSends:["ifNil:ifNotNil:","package","name"]},function(e){return function(){var e,t=this;return e=[t._package()][0],null==e||e.a$nil?"Unclassified":o(t._package())._name()}}),s.TMasterBehavior),n.addMethod(n.method({selector:"classTag",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){return this._subclassResponsibility()}}),s.TMasterBehavior),n.addMethod(n.method({selector:"comment",protocol:"accessing",pragmas:[],messageSends:["ifNil:","basicAt:"]},function(e){return function(){var e;return e=this._basicAt_("comment"),null==e||e.a$nil?"":e}}),s.TMasterBehavior),n.addMethod(n.method({selector:"comment:",protocol:"accessing",pragmas:[],messageSends:["basicAt:put:","announce:","current","theClass:","new","yourself"]},function(e){return function(e){var t,n,r=this;return this._basicAt_put_("comment",e),t=o(s.SystemAnnouncer)._current(),n=o(s.ClassCommentChanged)._new(),o(n)._theClass_(r),o(t)._announce_(o(n)._yourself()),r}}),s.TMasterBehavior),n.addMethod(n.method({selector:"definedMethods",protocol:"accessing",pragmas:[],messageSends:["methods","ifNil:ifNotNil:","theMetaClass",","]},function(e){return function(){var e,t,n=this;if(e=[n._methods()][0],
null==(t=n._theMetaClass())||t.a$nil)return e;var r;return r=t,o(e).__comma(o(r)._methods())}}),s.TMasterBehavior),n.addMethod(n.method({selector:"enterOrganization",protocol:"accessing",pragmas:[],messageSends:["ifNotNil:","ifNil:ifNotNil:","basicAt:","basicPackage:","named:","addElement:","organization","package"]},function(e){return function(){var e,t,n=this,a=this;if(null==(e=s.Smalltalk)||e.a$nil);else if(null==(t=a._basicAt_("category"))||t.a$nil)a._basicPackage_(r);else{var i;i=t,a._basicPackage_(o(s.Package)._named_(i)),o(o(a._package())._organization())._addElement_(n)}return n}}),s.TMasterBehavior),n.addMethod(n.method({selector:"leaveOrganization",protocol:"accessing",pragmas:[],messageSends:["ifNotNil:","removeElement:","organization","package"]},function(e){return function(){var e,t=this,n=this;return e=s.Smalltalk,null==e||e.a$nil||o(o(n._package())._organization())._removeElement_(t),t}}),s.TMasterBehavior),n.addMethod(n.method({selector:"name",protocol:"accessing",pragmas:[["inlineJS:",["return self.name"]]],messageSends:[]},function(e){return function(){var e=this;return e.name}}),s.TMasterBehavior),n.addMethod(n.method({selector:"package:",protocol:"accessing",pragmas:[],messageSends:["ifTrue:","=","package","leaveOrganization","basicAt:put:","name","enterOrganization","announce:","current","theClass:","new","oldPackage:","yourself"]},function(e){return function(e){var t,r,a,i=this,c=this;return n.assert(o([c._package()][0]).__eq(e))?i:(t=c._package(),c._leaveOrganization(),c._basicAt_put_("category",o(e)._name()),c._enterOrganization(),r=o(s.SystemAnnouncer)._current(),a=o(s.ClassMoved)._new(),o(a)._theClass_(i),o(a)._oldPackage_(t),o(r)._announce_(o(a)._yourself()),i)}}),s.TMasterBehavior),n.addMethod(n.method({selector:"theNonMetaClass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this}}),s.TMasterBehavior),n.addClass("Trait",s.Object,"Kernel-Classes"),n.setSlots(s.Trait,["organization","package","traitUsers"]),n.addMethod(n.method({selector:"-",protocol:"composition",pragmas:[],messageSends:["-","asTraitTransformation"]},function(e){return function(e){return o(this._asTraitTransformation()).__minus(e)}}),s.Trait),n.addMethod(n.method({selector:"@",protocol:"composition",pragmas:[],messageSends:["@","asTraitTransformation"]},function(e){return function(e){return o(this._asTraitTransformation()).__at(e)}}),s.Trait),n.addMethod(n.method({selector:"asTraitComposition",protocol:"converting",pragmas:[],messageSends:["asTraitComposition","asTraitTransformation"]},function(e){return function(){return o(this._asTraitTransformation())._asTraitComposition()}}),s.Trait),n.addMethod(n.method({selector:"asTraitTransformation",protocol:"converting",pragmas:[],messageSends:["on:"]},function(e){return function(){var e=this;return o(s.TraitTransformation)._on_(e)}}),s.Trait),n.addMethod(n.method({selector:"basicOrganization",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.organization}}),s.Trait),n.addMethod(n.method({selector:"basicOrganization:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.organization=e,t}}),s.Trait),n.addMethod(n.method({selector:"basicPackage:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.package=e,t}}),s.Trait),n.addMethod(n.method({selector:"classTag",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return"trait"}}),s.Trait),n.addMethod(n.method({selector:"definition",protocol:"accessing",pragmas:[],messageSends:["streamContents:","write:","printSymbol:","name","lf","ifNotEmpty:","traitCompositionDefinition","tab","print:","category"]},function(e){return function(){var e=this;return o(s.String)._streamContents_(function(t){return o(t)._write_("Trait named: "),o(t)._printSymbol_(e._name()),o(t)._lf(),o(t)._write_(o(e._traitCompositionDefinition())._ifNotEmpty_(function(e){return[[o(s.String)._tab()][0],"uses: ",e,o(s.String)._lf()]})),o(t)._tab(),o(t)._write_("package: "),o(t)._print_(e._category())})}}),s.Trait),n.addMethod(n.method({selector:"package",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.package}}),s.Trait),n.addMethod(n.method({selector:"theMetaClass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return r}}),s.Trait),n.addMethod(n.method({selector:"traitUsers",protocol:"accessing",pragmas:[],messageSends:["copy"]},function(e){return function(){return o(this.traitUsers)._copy()}}),s.Trait),n.addMethod(n.method({selector:"named:package:",protocol:"instance creation",pragmas:[],messageSends:["addTraitNamed:package:","new"]},function(e){return function(e,t){return o(o(s.ClassBuilder)._new())._addTraitNamed_package_(e,t)}}),s.Trait.a$cls),n.addMethod(n.method({selector:"named:uses:package:",protocol:"instance creation",pragmas:[],messageSends:["named:package:","setTraitComposition:","asTraitComposition"]},function(e){return function(e,t,n){var r;return r=this._named_package_(e,n),o(r)._setTraitComposition_(o(t)._asTraitComposition()),r}}),s.Trait.a$cls),n.addClass("TraitTransformation",s.Object,"Kernel-Classes"),n.setSlots(s.TraitTransformation,["trait","aliases","exclusions"]),n.addMethod(n.method({selector:"-",protocol:"composition",pragmas:[],messageSends:["addExclusions:","copy","yourself"]},function(e){return function(e){var t;return t=this._copy(),o(t)._addExclusions_(e),o(t)._yourself()}}),s.TraitTransformation),n.addMethod(n.method({selector:"@",protocol:"composition",pragmas:[],messageSends:["addAliases:","copy","yourself"]},function(e){return function(e){var t;return t=this._copy(),o(t)._addAliases_(e),o(t)._yourself()}}),s.TraitTransformation),n.addMethod(n.method({selector:"addAliases:",protocol:"accessing",pragmas:[],messageSends:["do:","key","at:ifPresent:ifAbsent:","error:","at:put:","value"]},function(e){return function(e){var t=this;return o(e)._do_(function(e){var n;return n=o(e)._key(),o(t.aliases)._at_ifPresent_ifAbsent_(n,function(){return t._error_("Cannot use same alias name twice.")},function(){return o(t.aliases)._at_put_(n,o(e)._value())})}),e}}),s.TraitTransformation),n.addMethod(n.method({selector:"addExclusions:",protocol:"accessing",pragmas:[],messageSends:["addAll:"]},function(e){return function(e){return o(this.exclusions)._addAll_(e),e}}),s.TraitTransformation),n.addMethod(n.method({selector:"aliases",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.aliases}}),s.TraitTransformation),n.addMethod(n.method({selector:"asJavaScriptObject",protocol:"converting",pragmas:[],messageSends:["trait","aliases","sorted","asArray","exclusions"]},function(e){return function(){var e=this;return s.HashedCollection._newFromPairs_(["trait",e._trait(),"aliases",e._aliases(),"exclusions",o(o(e._exclusions())._asArray())._sorted()])}}),s.TraitTransformation),n.addMethod(n.method({selector:"asJavaScriptSource",protocol:"converting",pragmas:[],messageSends:["streamContents:","write:","asJavaScriptSource","trait","ifNotEmpty:","aliases","asJSONString","exclusions","sorted","asArray"]},function(e){return function(){var e=this;return o(s.String)._streamContents_(function(t){return o(t)._write_(["{trait: ",[o(e._trait())._asJavaScriptSource()][0],[o(e._aliases())._ifNotEmpty_(function(e){return[", aliases: ",o(e)._asJSONString()]})][0],o(e._exclusions())._ifNotEmpty_(function(e){return[", exclusions: ",o(o(o(e)._asArray())._sorted())._asJavaScriptSource()]}),"}"])})}}),s.TraitTransformation),n.addMethod(n.method({selector:"asTraitComposition",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){return[this]}}),s.TraitTransformation),n.addMethod(n.method({selector:"asTraitTransformation",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){return this}}),s.TraitTransformation),n.addMethod(n.method({selector:"definition",protocol:"accessing",pragmas:[],messageSends:["streamContents:","print:","trait","ifNotEmpty:","aliases","write:","do:separatedBy:","associations","printSymbol:","key","value","exclusions","sorted","asArray","allButFirst","symbolPrintString","space"]},function(e){return function(){var e=this;return o(s.String)._streamContents_(function(t){return o(t)._print_(e._trait()),o(e._aliases())._ifNotEmpty_(function(e){return o(t)._write_(" @ {"),o(o(e)._associations())._do_separatedBy_(function(e){return o(t)._printSymbol_(o(e)._key()),o(t)._write_(" -> "),o(t)._printSymbol_(o(e)._value())},function(){return[o(t)._write_(". ")][0]}),[o(t)._write_("}")][0]}),o(e._exclusions())._ifNotEmpty_(function(e){return o(t)._write_(" - #("),o(o(o(e)._asArray())._sorted())._do_separatedBy_(function(e){return[o(t)._write_(o(o(e)._symbolPrintString())._allButFirst())][0]},function(){return o(t)._space()}),o(t)._write_(")")})})}}),s.TraitTransformation),n.addMethod(n.method({selector:"exclusions",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.exclusions}}),s.TraitTransformation),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["initialize","new"]},function(t){return function(){var n=this,a=this;return(t.superclass||e.nilAsClass).fn.prototype._initialize.call(a),a.aliases=s.HashedCollection._newFromPairs_([]),a.exclusions=o(s.Set)._new(),a.trait=r,n}}),s.TraitTransformation),n.addMethod(n.method({selector:"postCopy",protocol:"copying",pragmas:[],messageSends:["copy"]},function(e){return function(){var e=this,t=this;return t.aliases=[o(t.aliases)._copy()][0],t.exclusions=o(t.exclusions)._copy(),e}}),s.TraitTransformation),n.addMethod(n.method({selector:"trait",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.trait}}),s.TraitTransformation),n.addMethod(n.method({selector:"trait:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.trait=e,t}}),s.TraitTransformation),n.addMethod(n.method({selector:"fromJSON:",protocol:"instance creation",pragmas:[],messageSends:["trait:","new","at:","addAliases:","associations","readJSObject:","at:ifAbsent:","addExclusions:","yourself"]},function(t){return function(n){var r,a=this;return r=[(t.superclass||e.nilAsClass).fn.prototype._new.call(a)][0],o(r)._trait_(o(n)._at_("trait")),o(r)._addAliases_(o(o(s.Smalltalk)._readJSObject_([o(n)._at_ifAbsent_("aliases",function(){return s.HashedCollection._newFromPairs_([])})][0]))._associations()),o(r)._addExclusions_(o(n)._at_ifAbsent_("exclusions",function(){return[]})),o(r)._yourself()}}),s.TraitTransformation.a$cls),n.addMethod(n.method({selector:"on:",protocol:"instance creation",pragmas:[],messageSends:["trait:","new","yourself"]},function(t){return function(n){var r,s=this;return r=[(t.superclass||e.nilAsClass).fn.prototype._new.call(s)][0],o(r)._trait_(n),o(r)._yourself()}}),s.TraitTransformation.a$cls),n.setTraitComposition([{trait:s.TBehaviorDefaults},{trait:s.TBehaviorProvider}],s.Behavior),n.setTraitComposition([{trait:s.TMasterBehavior},{trait:s.TSubclassable}],s.Class),n.setTraitComposition([{trait:s.TBehaviorDefaults},{trait:s.TBehaviorProvider},{trait:s.TMasterBehavior}],s.Trait),n.addMethod(n.method({selector:"asTraitComposition",protocol:"*Kernel-Classes",pragmas:[],messageSends:["collect:","asTraitTransformation"]},function(e){return function(){return this._collect_(function(e){return o(e)._asTraitTransformation()})}}),s.Array),n.addMethod(n.method({selector:"instanceVariablesStringAsSlotList",protocol:"*Kernel-Classes",pragmas:[],messageSends:["reject:","tokenize:","isEmpty"]},function(e){return function(){return o(this._tokenize_(" "))._reject_(function(e){return o(e)._isEmpty()})}}),s.String)}),define("amber/core/Kernel-Methods",["amber/boot","require","amber/core/Kernel-Objects"],function(e,t){"use strict";var n=e.api,r=e.nilAsValue,o=(e.nilAsReceiver,e.asReceiver),s=e.globals;n.addPackage("Kernel-Methods").transport={type:"amd",amdNamespace:"amber/core"},n.addClass("BlockClosure",s.Object,"Kernel-Methods"),n.setSlots(s.BlockClosure,["prototype","length"]),n.addMethod(n.method({selector:"applyTo:arguments:",protocol:"evaluating",pragmas:[["inlineJS:",["return self.apply(anObject, aCollection)"]]],messageSends:[]},function(e){return function(e,t){var n=this;return n.apply(e,t)}}),s.BlockClosure),n.addMethod(n.method({selector:"asCompiledMethod:",protocol:"converting",pragmas:[["inlineJS:",["return $core.method({selector:aString, fn:self});"]]],messageSends:[]},function(e){return function(e){var t=this;return n.method({selector:e,fn:t})}}),s.BlockClosure),n.addMethod(n.method({selector:"asJavaScriptObject",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){return this}}),s.BlockClosure),n.addMethod(n.method({selector:"asJavaScriptSource",protocol:"converting",pragmas:[["inlineJS:",["return $self.toString();"]]],messageSends:[]},function(e){return function(){return this.toString()}}),s.BlockClosure),n.addMethod(n.method({selector:"compiledSource",protocol:"accessing",pragmas:[["inlineJS:",["return self.toString()"]]],messageSends:[]},function(e){return function(){var e=this;return e.toString()}}),s.BlockClosure),n.addMethod(n.method({selector:"currySelf",protocol:"converting",pragmas:[["inlineJS:",["\n\t\treturn function () {\n\t\t\tvar args = [ this ];\n\t\t\targs.push.apply(args, arguments);\n\t\t\treturn self.apply(null, args);\n\t\t}\n\t"]]],messageSends:[]},function(e){return function(){var e=this;return function(){var t=[this];return t.push.apply(t,arguments),e.apply(null,t)}}}),s.BlockClosure),n.addMethod(n.method({selector:"ensure:",protocol:"evaluating",pragmas:[["inlineJS:",["try{return $self._value()}finally{aBlock._value()}"]]],messageSends:[]},function(e){return function(e){var t=this,n=this;try{return n._value()}finally{e._value()}return t}}),s.BlockClosure),n.addMethod(n.method({selector:"fork",protocol:"timeout/interval",pragmas:[],messageSends:["fork:","default"]},function(e){return function(){var e=this;return o(o(s.ForkPool)._default())._fork_(e),e}}),s.BlockClosure),n.addMethod(n.method({selector:"new",protocol:"evaluating",pragmas:[["inlineJS:",["return new self()"]]],messageSends:[]},function(e){return function(){var e=this;return new e}}),s.BlockClosure),n.addMethod(n.method({selector:"newValue:",protocol:"evaluating",pragmas:[],messageSends:["newWithValues:"]},function(e){return function(e){return this._newWithValues_([e])}}),s.BlockClosure),n.addMethod(n.method({selector:"newValue:value:",protocol:"evaluating",pragmas:[],messageSends:["newWithValues:"]},function(e){return function(e,t){return this._newWithValues_([e,t])}}),s.BlockClosure),n.addMethod(n.method({selector:"newValue:value:value:",protocol:"evaluating",pragmas:[],messageSends:["newWithValues:"]},function(e){return function(e,t,n){return this._newWithValues_([e,t,n])}}),s.BlockClosure),n.addMethod(n.method({selector:"newWithValues:",protocol:"evaluating",pragmas:[["inlineJS:",['\n\t\tvar object = Object.create(self.prototype);\n\t\tvar result = self.apply(object, aCollection);\n\t\treturn typeof result === "object" ? result : object;\n\t']]],messageSends:[]},function(e){return function(e){var t=this,n=Object.create(t.prototype),r=t.apply(n,e);return"object"==typeof r?r:n}}),s.BlockClosure),n.addMethod(n.method({selector:"numArgs",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.length}}),s.BlockClosure),n.addMethod(n.method({selector:"on:do:",protocol:"error handling",pragmas:[],messageSends:["try:ifTrue:catch:","isKindOf:"]},function(e){return function(e,t){var n=this;return o(s.Smalltalk)._try_ifTrue_catch_(n,function(t){return o(t)._isKindOf_(e)},t)}}),s.BlockClosure),n.addMethod(n.method({selector:"prototype",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.prototype}}),s.BlockClosure),n.addMethod(n.method({selector:"provided",protocol:"converting",pragmas:[],messageSends:["on:"]},function(e){return function(){var e=this;return o(s.JSObjectProxy)._on_(e)}}),s.BlockClosure),n.addMethod(n.method({selector:"receiver",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return r}}),s.BlockClosure),n.addMethod(n.method({selector:"timeToRun",protocol:"evaluating",pragmas:[],messageSends:["millisecondsToRun:"]},function(e){return function(){var e=this;return o(s.Date)._millisecondsToRun_(e)}}),s.BlockClosure),n.addMethod(n.method({selector:"tryCatch:",protocol:"error handling",pragmas:[["inlineJS:",["\n\t\ttry {\n\t\t\treturn $self._value();\n\t\t} catch(error) {\n\t\t\t// pass non-local returns undetected\n\t\t\tif (Array.isArray(error) && error.length === 1) throw error;\n\t\t\treturn aBlock._value_(error);\n\t\t}\n\t"]]],messageSends:[]},function(e){return function(e){var t=this,n=this;try{return n._value()}catch(t){if(Array.isArray(t)&&1===t.length)throw t;return e._value_(t)}return t}}),s.BlockClosure),n.addMethod(n.method({selector:"tryIfTrue:catch:",protocol:"error handling",pragmas:[["inlineJS:",["\n\t\ttry {\n\t\t\treturn $self._value();\n\t\t} catch(error) {\n\t\t\t// pass non-local returns undetected\n\t\t\tif (Array.isArray(error) && error.length === 1) throw error;\n\t\t\tif (!anotherBlock._value_(error)) throw error;\n\t\t\treturn aBlock._value_(error);\n\t\t}\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this,r=this;try{return r._value()}catch(n){if(Array.isArray(n)&&1===n.length)throw n;if(!e._value_(n))throw n;return t._value_(n)}return n}}),s.BlockClosure),n.addMethod(n.method({selector:"value",protocol:"evaluating",pragmas:[["inlineJS:",["return self();"]]],messageSends:[]},function(e){return function(){var e=this;return e()}}),s.BlockClosure),n.addMethod(n.method({selector:"value:",protocol:"evaluating",pragmas:[["inlineJS:",["return self(anArg);"]]],messageSends:[]},function(e){return function(e){var t=this;return t(e)}}),s.BlockClosure),n.addMethod(n.method({selector:"value:value:",protocol:"evaluating",pragmas:[["inlineJS:",["return self(firstArg, secondArg);"]]],messageSends:[]},function(e){return function(e,t){var n=this;return n(e,t)}}),s.BlockClosure),n.addMethod(n.method({selector:"value:value:value:",protocol:"evaluating",pragmas:[["inlineJS:",["return self(firstArg, secondArg, thirdArg);"]]],messageSends:[]},function(e){return function(e,t,n){var r=this;return r(e,t,n)}}),s.BlockClosure),n.addMethod(n.method({selector:"valueWithInterval:",protocol:"timeout/interval",pragmas:[["inlineJS:",["\n\t\tvar interval = setInterval(self, aNumber);\n\t\treturn $globals.Timeout._on_(interval);\n\t"]]],messageSends:[]},function(e){return function(e){var t=this,n=setInterval(t,e);return s.Timeout._on_(n)}}),s.BlockClosure),n.addMethod(n.method({selector:"valueWithPossibleArguments:",protocol:"evaluating",pragmas:[["inlineJS:",["return self.apply(null, aCollection);"]]],messageSends:[]},function(e){return function(e){var t=this;return t.apply(null,e)}}),s.BlockClosure),n.addMethod(n.method({selector:"valueWithTimeout:",protocol:"timeout/interval",pragmas:[["inlineJS:",["\n\t\tvar timeout = setTimeout(self, aNumber);\n\t\treturn $globals.Timeout._on_(timeout);\n\t"]]],messageSends:[]},function(e){return function(e){var t=this,n=setTimeout(t,e);return s.Timeout._on_(n)}}),s.BlockClosure),n.addMethod(n.method({selector:"whileFalse",protocol:"controlling",pragmas:[],messageSends:["whileFalse:"]},function(e){return function(){var e=this;return this._whileFalse_(function(){}),e}}),s.BlockClosure),n.addMethod(n.method({selector:"whileFalse:",protocol:"controlling",pragmas:[["inlineJS:",["while(!$core.assert($self._value())) {aBlock._value()}"]]],messageSends:[]},function(e){return function(e){for(var t=this,r=this;!n.assert(r._value());)e._value();return t}}),s.BlockClosure),n.addMethod(n.method({selector:"whileTrue",protocol:"controlling",pragmas:[],messageSends:["whileTrue:"]},function(e){return function(){var e=this;return this._whileTrue_(function(){}),e}}),s.BlockClosure),n.addMethod(n.method({selector:"whileTrue:",protocol:"controlling",pragmas:[["inlineJS:",["while($core.assert($self._value())) {aBlock._value()}"]]],messageSends:[]},function(e){return function(e){for(var t=this,r=this;n.assert(r._value());)e._value();return t}}),s.BlockClosure),n.addMethod(n.method({selector:"javaScriptConstructorFor:initializingVia:",protocol:"instance creation",pragmas:[["inlineJS:",["\n\t\tfunction Ctr () {\n\t\t\taMethodBlock.apply(this, arguments);\n\t\t}\n\t\tCtr.prototype = aPrototype;\n\t\treturn Ctr;\n\t"]]],messageSends:[]},function(e){return function(e,t){function n(){t.apply(this,arguments)}return n.prototype=e,n}}),s.BlockClosure.a$cls),n.addClass("CompiledMethod",s.Object,"Kernel-Methods"),n.setSlots(s.CompiledMethod,["args","instantiateFn","fn","messageSends","pragmas","owner","methodClass","protocol","referencedClasses","selector","source"]),n.addMethod(n.method({selector:"arguments",protocol:"accessing",pragmas:[],messageSends:["ifNil:"]},function(e){return function(){var e;return e=this.args,null==e||e.a$nil?[]:e}}),s.CompiledMethod),n.addMethod(n.method({selector:"asString",protocol:"converting",pragmas:[],messageSends:["asStringForClass:","methodClass"]},function(e){return function(){var e=this;return e._asStringForClass_(e._methodClass())}}),s.CompiledMethod),n.addMethod(n.method({selector:"asStringForClass:",protocol:"converting",pragmas:[],messageSends:["name","ifFalse:","=","methodClass",",","ifNil:ifNotNil:","|","origin","symbolPrintString","selector"]},function(e){return function(e){var t,r,s,a,i,c,l,u=this;return t=[o(e)._name()][0],n.assert([o([u._methodClass()][0]).__eq(e)][0])||(r=[o(t).__comma(" (")][0],s=[u._methodClass()][0],a=null==s||s.a$nil?"nil":[o([u._methodClass()][0])._name()][0],t=[o([o(r).__comma(a)][0]).__comma(")")][0]),n.assert(o([o([u._origin()][0]).__eq(e)][0]).__or(o([u._origin()][0]).__eq(u._methodClass())))||(i=[o(t).__comma(" /")][0],c=[u._origin()][0],l=null==c||c.a$nil?"nil":o(u._origin())._name(),t=[o([o(i).__comma(l)][0]).__comma("/")][0]),[o(o(t).__comma(" >> ")).__comma(o(u._selector())._symbolPrintString())][0]}}),s.CompiledMethod),n.addMethod(n.method({selector:"basicPragmas",protocol:"accessing",pragmas:[],messageSends:["ifNil:"]},function(e){return function(){var e;return e=this.pragmas,null==e||e.a$nil?[]:e}}),s.CompiledMethod),n.addMethod(n.method({selector:"browse",protocol:"browsing",pragmas:[],messageSends:["findMethod:"]},function(e){return function(){var e=this;return o(s.Finder)._findMethod_(e),e}}),s.CompiledMethod),n.addMethod(n.method({selector:"category",protocol:"accessing",pragmas:[],messageSends:["protocol"]},function(e){return function(){return this._protocol()}}),s.CompiledMethod),n.addMethod(n.method({selector:"defaultProtocol",protocol:"defaults",pragmas:[],messageSends:[]},function(e){return function(){return"as yet unclassified"}}),s.CompiledMethod),n.addMethod(n.method({selector:"fn",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.fn}}),s.CompiledMethod),n.addMethod(n.method({selector:"instantiateFn",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.instantiateFn}}),s.CompiledMethod),n.addMethod(n.method({selector:"instantiateFn:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.instantiateFn=e,t}}),s.CompiledMethod),n.addMethod(n.method({selector:"isCompiledMethod",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),s.CompiledMethod),n.addMethod(n.method({selector:"isOverridden",protocol:"testing",pragmas:[],messageSends:["allSubclassesDo:","methodClass","ifTrue:","includesSelector:"]},function(e){return function(){var e=this,t={};try{return o(e._methodClass())._allSubclassesDo_(function(r){if(n.assert(o(r)._includesSelector_(e.selector)))throw t=[!0]}),!1}catch(e){if(e===t)return e[0];throw e}}}),s.CompiledMethod),n.addMethod(n.method({selector:"isOverride",protocol:"testing",pragmas:[],messageSends:["superclass","methodClass","ifNil:","notNil","lookupSelector:","selector"]},function(e){return function(){var e,t,n=this;return e=[o([n._methodClass()][0])._superclass()][0],null!=(t=e)&&!t.a$nil&&o(o(o(n._methodClass())._superclass())._lookupSelector_(n._selector()))._notNil()}}),s.CompiledMethod),n.addMethod(n.method({selector:"messageSends",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.messageSends}}),s.CompiledMethod),n.addMethod(n.method({selector:"methodClass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.methodClass}}),s.CompiledMethod),n.addMethod(n.method({selector:"origin",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.owner}}),s.CompiledMethod),n.addMethod(n.method({selector:"package",protocol:"accessing",pragmas:[],messageSends:["ifNotNil:","origin","packageOfProtocol:","protocol"]},function(e){return function(){var e,t=this;if(null==(e=t._origin())||e.a$nil)return e;var n;return n=e,o(n)._packageOfProtocol_(t._protocol())}}),s.CompiledMethod),n.addMethod(n.method({selector:"pragmas",protocol:"accessing",pragmas:[],messageSends:["collect:","basicPragmas","selector:arguments:","first","second"]},function(e){return function(){return o(this._basicPragmas())._collect_(function(e){return o(s.Message)._selector_arguments_(o(e)._first(),o(e)._second())})}}),s.CompiledMethod),n.addMethod(n.method({selector:"pragmas:",protocol:"accessing",pragmas:[],messageSends:["collect:","selector","arguments"]},function(e){return function(e){var t=this;return this.pragmas=o(e)._collect_(function(e){return[o(e)._selector(),o(e)._arguments()]}),t}}),s.CompiledMethod),n.addMethod(n.method({selector:"protocol",protocol:"accessing",pragmas:[],messageSends:["ifNil:","defaultProtocol"]},function(e){return function(){var e,t=this;return e=t.protocol,null==e||e.a$nil?t._defaultProtocol():e}}),s.CompiledMethod),n.addMethod(n.method({selector:"protocol:",protocol:"accessing",pragmas:[],messageSends:["protocol","ifNotNil:","announce:","current","method:","new","oldProtocol:","yourself","origin","addElement:","organization","removeProtocolIfEmpty:"]},function(e){return function(e){var t,n,r,a,i,c=this,l=this;if(t=l._protocol(),l.protocol=e,n=t,null==n||n.a$nil||(r=o(s.SystemAnnouncer)._current(),a=o(s.MethodMoved)._new(),o(a)._method_(c),o(a)._oldProtocol_(t),o(r)._announce_(o(a)._yourself())),null==(i=l._origin())||i.a$nil);else{var u;u=i,o(o(u)._organization())._addElement_(e),o(u)._removeProtocolIfEmpty_(t)}return c}}),s.CompiledMethod),n.addMethod(n.method({selector:"referencedClasses",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.referencedClasses}}),s.CompiledMethod),n.addMethod(n.method({selector:"selector",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.selector}}),s.CompiledMethod),n.addMethod(n.method({selector:"selector:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.selector=e,t}}),s.CompiledMethod),n.addMethod(n.method({selector:"sendTo:arguments:",protocol:"evaluating",pragmas:[],messageSends:["applyTo:arguments:","fn"]},function(e){return function(e,t){return o(this._fn())._applyTo_arguments_(e,t)}}),s.CompiledMethod),n.addMethod(n.method({selector:"source",protocol:"accessing",pragmas:[],messageSends:["ifNil:"]},function(e){return function(){var e;return e=this.source,null==e||e.a$nil?"":e}}),s.CompiledMethod),n.addMethod(n.method({selector:"source:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.source=e,t}}),s.CompiledMethod),n.addClass("ForkPool",s.Object,"Kernel-Methods"),n.setSlots(s.ForkPool,["poolSize","maxPoolSize","queue","worker"]),n.addMethod(n.method({selector:"addWorker",protocol:"private",pragmas:[],messageSends:["valueWithTimeout:","+"]},function(e){return function(){var e=this,t=this;return o(t.worker)._valueWithTimeout_(0),t.poolSize=o(t.poolSize).__plus(1),e}}),s.ForkPool),n.addMethod(n.method({selector:"defaultMaxPoolSize",protocol:"defaults",pragmas:[],messageSends:["defaultMaxPoolSize","class"]},function(e){return function(){return o(this._class())._defaultMaxPoolSize()}}),s.ForkPool),n.addMethod(n.method({selector:"fork:",protocol:"actions",pragmas:[],messageSends:["ifTrue:","<","maxPoolSize","addWorker","nextPut:"]},function(e){return function(e){var t=this,r=this;return n.assert(o(r.poolSize).__lt(r._maxPoolSize()))&&r._addWorker(),o(r.queue)._nextPut_(e),t}}),s.ForkPool),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["initialize","new","makeWorker"]},function(t){return function(){var n=this,r=this;return(t.superclass||e.nilAsClass).fn.prototype._initialize.call(r),r.poolSize=0,r.queue=o(s.Queue)._new(),r.worker=r._makeWorker(),n}}),s.ForkPool),n.addMethod(n.method({selector:"makeWorker",protocol:"initialization",pragmas:[],messageSends:["new","-","nextIfAbsent:","ifFalse:","==","ensure:","value","addWorker"]},function(e){return function(){var e,t=this;return e=o(s.Object)._new(),function(){var r;if(t.poolSize=o(t.poolSize).__minus(1),r=o(t.queue)._nextIfAbsent_(function(){return e}),!n.assert(o(r).__eq_eq(e)))return o(function(){return o(r)._value()})._ensure_(function(){return t._addWorker()})}}}),s.ForkPool),n.addMethod(n.method({selector:"maxPoolSize",protocol:"accessing",pragmas:[],messageSends:["ifNil:","defaultMaxPoolSize"]},function(e){return function(){var e,t=this;return e=t.maxPoolSize,null==e||e.a$nil?t._defaultMaxPoolSize():e}}),s.ForkPool),n.addMethod(n.method({selector:"maxPoolSize:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.maxPoolSize=e,t}}),s.ForkPool),n.setSlots(s.ForkPool.a$cls,["default"]),n.addMethod(n.method({selector:"default",protocol:"accessing",pragmas:[],messageSends:["ifNil:","new"]},function(e){return function(){var e,t=this;return e=t.default,null==e||e.a$nil?(t.default=t._new(),t.default):e}}),s.ForkPool.a$cls),n.addMethod(n.method({selector:"defaultMaxPoolSize",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return 100}}),s.ForkPool.a$cls),n.addMethod(n.method({selector:"resetDefault",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){var e=this;return this.default=r,e}}),s.ForkPool.a$cls),n.addClass("Message",s.Object,"Kernel-Methods"),n.setSlots(s.Message,["selector","arguments"]),n.addMethod(n.method({selector:"arguments",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.arguments}}),s.Message),n.addMethod(n.method({selector:"arguments:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.arguments=e,t}}),s.Message),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["printOn:","nextPutAll:","selector"]},function(t){return function(n){var r=this,s=this;return(t.superclass||e.nilAsClass).fn.prototype._printOn_.call(s,n),o(n)._nextPutAll_("("),o(n)._nextPutAll_(s._selector()),o(n)._nextPutAll_(")"),r}}),s.Message),n.addMethod(n.method({selector:"selector",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.selector}}),s.Message),n.addMethod(n.method({selector:"selector:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.selector=e,t}}),s.Message),n.addMethod(n.method({selector:"sendTo:",protocol:"actions",pragmas:[],messageSends:["perform:withArguments:","selector","arguments"]},function(e){return function(e){var t=this;return o(e)._perform_withArguments_(t._selector(),t._arguments())}}),s.Message),n.addMethod(n.method({
selector:"selector:arguments:",protocol:"instance creation",pragmas:[],messageSends:["selector:","new","arguments:","yourself"]},function(e){return function(e,t){var n;return n=this._new(),o(n)._selector_(e),o(n)._arguments_(t),o(n)._yourself()}}),s.Message.a$cls),n.addMethod(n.method({selector:"selector:arguments:notUnderstoodBy:",protocol:"dnu handling",pragmas:[],messageSends:["doesNotUnderstand:","selector:arguments:"]},function(e){return function(e,t,n){var r=this;return o(n)._doesNotUnderstand_(r._selector_arguments_(e,t))}}),s.Message.a$cls),n.addClass("MessageSend",s.Object,"Kernel-Methods"),n.setSlots(s.MessageSend,["receiver","message"]),n.addMethod(n.method({selector:"arguments",protocol:"accessing",pragmas:[],messageSends:["arguments"]},function(e){return function(){return o(this.message)._arguments()}}),s.MessageSend),n.addMethod(n.method({selector:"arguments:",protocol:"accessing",pragmas:[],messageSends:["arguments:"]},function(e){return function(e){var t=this;return o(this.message)._arguments_(e),t}}),s.MessageSend),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["initialize","new"]},function(t){return function(){var n=this,r=this;return(t.superclass||e.nilAsClass).fn.prototype._initialize.call(r),r.message=o(s.Message)._new(),n}}),s.MessageSend),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["printOn:","nextPutAll:","receiver","selector"]},function(t){return function(n){var r=this,s=this;return(t.superclass||e.nilAsClass).fn.prototype._printOn_.call(s,n),o(n)._nextPutAll_("("),o(n)._nextPutAll_(s._receiver()),o(n)._nextPutAll_(" >> "),o(n)._nextPutAll_(s._selector()),o(n)._nextPutAll_(")"),r}}),s.MessageSend),n.addMethod(n.method({selector:"receiver",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.receiver}}),s.MessageSend),n.addMethod(n.method({selector:"receiver:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.receiver=e,t}}),s.MessageSend),n.addMethod(n.method({selector:"selector",protocol:"accessing",pragmas:[],messageSends:["selector"]},function(e){return function(){return o(this.message)._selector()}}),s.MessageSend),n.addMethod(n.method({selector:"selector:",protocol:"accessing",pragmas:[],messageSends:["selector:"]},function(e){return function(e){var t=this;return o(this.message)._selector_(e),t}}),s.MessageSend),n.addMethod(n.method({selector:"value",protocol:"evaluating",pragmas:[],messageSends:["sendTo:","receiver"]},function(e){return function(){var e=this;return o(e.message)._sendTo_(e._receiver())}}),s.MessageSend),n.addMethod(n.method({selector:"value:",protocol:"evaluating",pragmas:[],messageSends:["arguments:","sendTo:","receiver"]},function(e){return function(e){var t,n=this;return t=n.message,o(t)._arguments_([e]),o(t)._sendTo_(n._receiver())}}),s.MessageSend),n.addMethod(n.method({selector:"value:value:",protocol:"evaluating",pragmas:[],messageSends:["arguments:","sendTo:","receiver"]},function(e){return function(e,t){var n,r=this;return n=r.message,o(n)._arguments_([e,t]),o(n)._sendTo_(r._receiver())}}),s.MessageSend),n.addMethod(n.method({selector:"value:value:value:",protocol:"evaluating",pragmas:[],messageSends:["arguments:","sendTo:","receiver"]},function(e){return function(e,t,n){var r,s=this;return r=s.message,o(r)._arguments_([e,t,n]),o(r)._sendTo_(s._receiver())}}),s.MessageSend),n.addMethod(n.method({selector:"valueWithPossibleArguments:",protocol:"evaluating",pragmas:[],messageSends:["arguments:","value"]},function(e){return function(e){var t=this;return t._arguments_(e),t._value()}}),s.MessageSend),n.addClass("MethodContext",s.Object,"Kernel-Methods"),n.setSlots(s.MethodContext,["receiver","evaluatedSelector","homeContext","index","locals","outerContext","selector","sendIdx","supercall"]),n.addMethod(n.method({selector:"basicReceiver",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.receiver}}),s.MethodContext),n.addMethod(n.method({selector:"evaluatedSelector",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.evaluatedSelector}}),s.MethodContext),n.addMethod(n.method({selector:"home",protocol:"accessing",pragmas:[],messageSends:["ifNotNil:","hydrated"]},function(e){return function(){var e;if(null==(e=this.homeContext)||e.a$nil)return e;var t;return t=e,o(t)._hydrated()}}),s.MethodContext),n.addMethod(n.method({selector:"hydrated",protocol:"accessing",pragmas:[["inlineJS:",["if (!$self.selector && !$self.outerContext) $self.setup(self); return self;"]]],messageSends:[]},function(e){return function(){var e=this,t=this;return t.selector||t.outerContext||t.setup(e),e}}),s.MethodContext),n.addMethod(n.method({selector:"index",protocol:"accessing",pragmas:[],messageSends:["ifNil:"]},function(e){return function(){var e;return e=this.index,null==e||e.a$nil?0:e}}),s.MethodContext),n.addMethod(n.method({selector:"locals",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.locals}}),s.MethodContext),n.addMethod(n.method({selector:"outerContext",protocol:"accessing",pragmas:[],messageSends:["ifNil:ifNotNil:","home","hydrated"]},function(e){return function(){var e,t=this;if(null==(e=t.outerContext)||e.a$nil)return t._home();var n;return n=e,o(n)._hydrated()}}),s.MethodContext),n.addMethod(n.method({selector:"selector",protocol:"accessing",pragmas:[],messageSends:["ifNotNil:","js2st:","core"]},function(e){return function(){var e,t=this;return e=t.selector,null==e||e.a$nil?e:o(o(s.Smalltalk)._core())._js2st_(t.selector)}}),s.MethodContext),n.addMethod(n.method({selector:"sendIndexes",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.sendIdx}}),s.MethodContext),n.addMethod(n.method({selector:"supercall",protocol:"accessing",pragmas:[],messageSends:["="]},function(e){return function(){return o(this.supercall).__eq(!0)}}),s.MethodContext),n.addClass("NativeFunction",s.Object,"Kernel-Methods"),n.addMethod(n.method({selector:"constructorNamed:",protocol:"instance creation",pragmas:[["inlineJS:",["\n\t\tvar nativeFunc=$globals.Platform._globals()[aString];\n\t\treturn new nativeFunc();\n\t"]]],messageSends:[]},function(e){return function(e){return new(0,s.Platform._globals()[e])}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"constructorNamed:value:",protocol:"instance creation",pragmas:[["inlineJS:",["\n\t\tvar nativeFunc=$globals.Platform._globals()[aString];\n\t\treturn new nativeFunc(anObject);\n\t"]]],messageSends:[]},function(e){return function(e,t){return new(0,s.Platform._globals()[e])(t)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"constructorNamed:value:value:",protocol:"instance creation",pragmas:[["inlineJS:",["\n\t\tvar nativeFunc=$globals.Platform._globals()[aString];\n\t\treturn new nativeFunc(anObject,anObject2);\n\t"]]],messageSends:[]},function(e){return function(e,t,n){return new(0,s.Platform._globals()[e])(t,n)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"constructorNamed:value:value:value:",protocol:"instance creation",pragmas:[["inlineJS:",["\n\t\tvar nativeFunc=$globals.Platform._globals()[aString];\n\t\treturn new nativeFunc(anObject,anObject2, anObject3);\n\t"]]],messageSends:[]},function(e){return function(e,t,n,r){return new(0,s.Platform._globals()[e])(t,n,r)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"constructorOf:",protocol:"instance creation",pragmas:[["inlineJS:",["\n\t\treturn new nativeFunc();\n\t"]]],messageSends:[]},function(e){return function(e){return new e}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"constructorOf:value:",protocol:"instance creation",pragmas:[["inlineJS:",["\n\t\treturn new nativeFunc(anObject);\n\t"]]],messageSends:[]},function(e){return function(e,t){return new e(t)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"constructorOf:value:value:",protocol:"instance creation",pragmas:[["inlineJS:",["\n\t\treturn new nativeFunc(anObject,anObject2);\n\t"]]],messageSends:[]},function(e){return function(e,t,n){return new e(t,n)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"constructorOf:value:value:value:",protocol:"instance creation",pragmas:[["inlineJS:",["\n\t\treturn new nativeFunc(anObject,anObject2, anObject3);\n\t"]]],messageSends:[]},function(e){return function(e,t,n,r){return new e(t,n,r)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"exists:",protocol:"testing",pragmas:[],messageSends:["includesGlobal:"]},function(e){return function(e){return o(s.Platform)._includesGlobal_(e)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"functionNamed:",protocol:"function calling",pragmas:[["inlineJS:",["\n\t\tvar nativeFunc=$globals.Platform._globals[aString];\n\t\treturn nativeFunc();\n\t"]]],messageSends:[]},function(e){return function(e){return(0,s.Platform._globals[e])()}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"functionNamed:value:",protocol:"function calling",pragmas:[["inlineJS:",["\n\t\tvar nativeFunc=$globals.Platform._globals()[aString];\n\t\treturn nativeFunc(anObject);\n\t"]]],messageSends:[]},function(e){return function(e,t){return(0,s.Platform._globals()[e])(t)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"functionNamed:value:value:",protocol:"function calling",pragmas:[["inlineJS:",["\n\t\tvar nativeFunc=$globals.Platform._globals()[aString];\n\t\treturn nativeFunc(anObject,anObject2);\n\t"]]],messageSends:[]},function(e){return function(e,t,n){return(0,s.Platform._globals()[e])(t,n)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"functionNamed:value:value:value:",protocol:"function calling",pragmas:[["inlineJS:",["\n\t\tvar nativeFunc=$globals.Platform._globals()[aString];\n\t\treturn nativeFunc(anObject,anObject2, anObject3);\n\t"]]],messageSends:[]},function(e){return function(e,t,n,r){return(0,s.Platform._globals()[e])(t,n,r)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"functionNamed:valueWithArgs:",protocol:"function calling",pragmas:[["inlineJS:",["\n\t\tvar nativeFunc=$globals.Platform._globals()[aString];\n\t\treturn Function.prototype.apply.call(nativeFunc, null, args);\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=s.Platform._globals()[e];return Function.prototype.apply.call(n,null,t)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"functionOf:",protocol:"function calling",pragmas:[["inlineJS:",["\n\t\treturn nativeFunc();\n\t"]]],messageSends:[]},function(e){return function(e){return e()}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"functionOf:value:",protocol:"function calling",pragmas:[["inlineJS:",["\n\t\treturn nativeFunc(anObject);\n\t"]]],messageSends:[]},function(e){return function(e,t){return e(t)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"functionOf:value:value:",protocol:"function calling",pragmas:[["inlineJS:",["\n\t\treturn nativeFunc(anObject,anObject2);\n\t"]]],messageSends:[]},function(e){return function(e,t,n){return e(t,n)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"functionOf:value:value:value:",protocol:"function calling",pragmas:[["inlineJS:",["\n\t\treturn nativeFunc(anObject,anObject2, anObject3);\n\t"]]],messageSends:[]},function(e){return function(e,t,n,r){return e(t,n,r)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"functionOf:valueWithArgs:",protocol:"function calling",pragmas:[["inlineJS:",["\n\t\treturn Function.prototype.apply.call(nativeFunc, null, args);\n\t"]]],messageSends:[]},function(e){return function(e,t){return Function.prototype.apply.call(e,null,t)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"isNativeFunction:",protocol:"testing",pragmas:[["inlineJS:",['return typeof anObject === "function"']]],messageSends:[]},function(e){return function(e){return"function"==typeof e}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"methodOf:this:",protocol:"method calling",pragmas:[["inlineJS:",["\n\t\treturn Function.prototype.call.call(nativeFunc, thisObject);\n\t"]]],messageSends:[]},function(e){return function(e,t){return Function.prototype.call.call(e,t)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"methodOf:this:value:",protocol:"method calling",pragmas:[["inlineJS:",["\n\t\treturn Function.prototype.call.call(nativeFunc, thisObject, anObject);\n\t"]]],messageSends:[]},function(e){return function(e,t,n){return Function.prototype.call.call(e,t,n)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"methodOf:this:value:value:",protocol:"method calling",pragmas:[["inlineJS:",["\n\t\treturn Function.prototype.call.call(nativeFunc, thisObject,anObject,anObject2);\n\t"]]],messageSends:[]},function(e){return function(e,t,n,r){return Function.prototype.call.call(e,t,n,r)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"methodOf:this:value:value:value:",protocol:"method calling",pragmas:[["inlineJS:",["\n\t\treturn Function.prototype.call.call(nativeFunc, thisObject,anObject,anObject2, anObject3);\n\t"]]],messageSends:[]},function(e){return function(e,t,n,r,o){return Function.prototype.call.call(e,t,n,r,o)}}),s.NativeFunction.a$cls),n.addMethod(n.method({selector:"methodOf:this:valueWithArgs:",protocol:"method calling",pragmas:[["inlineJS:",["\n\t\treturn Function.prototype.apply.call(nativeFunc, thisObject, args);\n\t"]]],messageSends:[]},function(e){return function(e,t,n){return Function.prototype.apply.call(e,t,n)}}),s.NativeFunction.a$cls),n.addTrait("TMethodContext","Kernel-Methods"),n.addMethod(n.method({selector:"asString",protocol:"converting",pragmas:[],messageSends:["ifTrue:ifFalse:","isBlockContext",",","asString","methodContext","ifNotNil:ifNil:","method","asStringForClass:","class","receiver","symbolPrintString","selector"]},function(e){return function(){var e,t=this;if(n.assert(t._isBlockContext()))return[o(["a block (in ".__comma(o(t._methodContext())._asString())][0]).__comma(")")][0];if(null==(e=t._method())||e.a$nil)return"missing method ".__comma(o(t._selector())._symbolPrintString());var r;return r=e,o(r)._asStringForClass_(o(t._receiver())._class())}}),s.TMethodContext),n.addMethod(n.method({selector:"basicReceiver",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.TMethodContext),n.addMethod(n.method({selector:"findContextSuchThat:",protocol:"accessing",pragmas:[],messageSends:["whileFalse:","isNil","ifTrue:","value:","outerContext"]},function(e){return function(e){var t,s=this,a={};try{return t=s,o(function(){return o(t)._isNil()})._whileFalse_(function(){if(n.assert(o(e)._value_(t)))throw a=[t];return t=o(t)._outerContext()}),r}catch(e){if(e===a)return e[0];throw e}}}),s.TMethodContext),n.addMethod(n.method({selector:"home",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.TMethodContext),n.addMethod(n.method({selector:"index",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.TMethodContext),n.addMethod(n.method({selector:"isBlockContext",protocol:"testing",pragmas:[],messageSends:["isNil","selector"]},function(e){return function(){return o(this._selector())._isNil()}}),s.TMethodContext),n.addMethod(n.method({selector:"locals",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.TMethodContext),n.addMethod(n.method({selector:"method",protocol:"accessing",pragmas:[],messageSends:["ifNil:","methodContext","class","receiver","lookupSelector:","selector","ifNil:ifNotNil:","outerContext","supercall","ifFalse:ifTrue:","superclass","methodClass"]},function(e){return function(){var e,t,s,a,i,c=this;if(null==(a=[c._methodContext()][0])||a.a$nil)return r;if(t=o(o([c._methodContext()][0])._receiver())._class(),e=[o(t)._lookupSelector_([o([c._methodContext()][0])._selector()][0])][0],null==(i=c._outerContext())||i.a$nil)s=!1;else{var l;l=i,s=o(l)._supercall()}return n.assert(s)?o(o(o(e)._methodClass())._superclass())._lookupSelector_(o(c._methodContext())._selector()):e}}),s.TMethodContext),n.addMethod(n.method({selector:"methodContext",protocol:"accessing",pragmas:[],messageSends:["ifFalse:","isBlockContext","ifNotNil:","outerContext","methodContext"]},function(e){return function(){var e,t=this,r=this;if(!n.assert(r._isBlockContext()))return t;if(null==(e=r._outerContext())||e.a$nil)return e;var s;return s=e,o(s)._methodContext()}}),s.TMethodContext),n.addMethod(n.method({selector:"outerContext",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.TMethodContext),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["printOn:","nextPutAll:","asString"]},function(t){return function(n){var r=this,s=this;return(t.superclass||e.nilAsClass).fn.prototype._printOn_.call(s,n),o(n)._nextPutAll_("("),o(n)._nextPutAll_(s._asString()),o(n)._nextPutAll_(")"),r}}),s.TMethodContext),n.addMethod(n.method({selector:"receiver",protocol:"accessing",pragmas:[],messageSends:["ifTrue:ifFalse:","and:","isBlockContext","notNil","outerContext","receiver","basicReceiver"]},function(e){return function(){var e,t=this;return e=!!n.assert(t._isBlockContext())&&o([t._outerContext()][0])._notNil(),n.assert(e)?o(t._outerContext())._receiver():t._basicReceiver()}}),s.TMethodContext),n.addMethod(n.method({selector:"selector",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.TMethodContext),n.addMethod(n.method({selector:"sendIndexes",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.TMethodContext),n.addMethod(n.method({selector:"supercall",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),s.TMethodContext),n.addClass("Timeout",s.Object,"Kernel-Methods"),n.setSlots(s.Timeout,["rawTimeout"]),n.addMethod(n.method({selector:"clearInterval",protocol:"timeout/interval",pragmas:[["inlineJS:",["\n\t\tvar interval = $self.rawTimeout;\n\t\tclearInterval(interval);\n\t"]]],messageSends:[]},function(e){return function(){var e=this,t=this,n=t.rawTimeout;return clearInterval(n),e}}),s.Timeout),n.addMethod(n.method({selector:"clearTimeout",protocol:"timeout/interval",pragmas:[["inlineJS:",["\n\t\tvar timeout = $self.rawTimeout;\n\t\tclearTimeout(timeout);\n\t"]]],messageSends:[]},function(e){return function(){var e=this,t=this,n=t.rawTimeout;return clearTimeout(n),e}}),s.Timeout),n.addMethod(n.method({selector:"rawTimeout:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.rawTimeout=e,t}}),s.Timeout),n.addMethod(n.method({selector:"on:",protocol:"instance creation",pragmas:[],messageSends:["rawTimeout:","new","yourself"]},function(e){return function(e){var t;return t=this._new(),o(t)._rawTimeout_(e),o(t)._yourself()}}),s.Timeout.a$cls),n.setTraitComposition([{trait:s.TMethodContext}],s.MethodContext)}),define("amber/core/Kernel-Dag",["amber/boot","require","amber/core/Kernel-Objects"],function(e,t){"use strict";var n=e.api,r=(e.nilAsValue,e.nilAsReceiver,e.asReceiver),o=e.globals;n.addPackage("Kernel-Dag").transport={type:"amd",amdNamespace:"amber/core"},n.addClass("AbstractDagVisitor",o.Object,"Kernel-Dag"),n.addMethod(n.method({selector:"value:",protocol:"evaluating",pragmas:[],messageSends:["visit:"]},function(e){return function(e){return this._visit_(e)}}),o.AbstractDagVisitor),n.addMethod(n.method({selector:"visit:",protocol:"visiting",pragmas:[],messageSends:["acceptDagVisitor:"]},function(e){return function(e){var t=this;return r(e)._acceptDagVisitor_(t)}}),o.AbstractDagVisitor),n.addMethod(n.method({selector:"visitAll:",protocol:"visiting",pragmas:[],messageSends:["collect:","visit:"]},function(e){return function(e){var t=this;return r(e)._collect_(function(e){return t._visit_(e)})}}),o.AbstractDagVisitor),n.addMethod(n.method({selector:"visitAllChildren:",protocol:"visiting",pragmas:[],messageSends:["visitAll:","dagChildren"]},function(e){return function(e){return this._visitAll_(r(e)._dagChildren())}}),o.AbstractDagVisitor),n.addMethod(n.method({selector:"visitDagNode:",protocol:"visiting",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e){var t=this;return this._subclassResponsibility(),t}}),o.AbstractDagVisitor),n.addMethod(n.method({selector:"visitDagNodeVariantRedux:",protocol:"visiting",pragmas:[],messageSends:["dagChildren","visitAllChildren:","ifTrue:ifFalse:","=","dagChildren:","copy","yourself"]},function(e){return function(e){var t,o,s,a=this;return o=r(e)._dagChildren(),t=a._visitAllChildren_(e),n.assert(r(o).__eq(t))?e:(s=r(e)._copy(),r(s)._dagChildren_(t),r(s)._yourself())}}),o.AbstractDagVisitor),n.addMethod(n.method({selector:"visitDagNodeVariantSimple:",protocol:"visiting",pragmas:[],messageSends:["visitAllChildren:"]},function(e){return function(e){return this._visitAllChildren_(e),e}}),o.AbstractDagVisitor),n.addClass("PathDagVisitor",o.AbstractDagVisitor,"Kernel-Dag"),n.setSlots(o.PathDagVisitor,["path"]),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["initialize"]},function(t){return function(){var n=this,r=this;return(t.superclass||e.nilAsClass).fn.prototype._initialize.call(r),r.path=[],n}}),o.PathDagVisitor),n.addMethod(n.method({selector:"path",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.path}}),o.PathDagVisitor),n.addMethod(n.method({selector:"visit:",protocol:"visiting",pragmas:[],messageSends:["ensure:",",","visit:"]},function(t){return function(n){var o,s,a=this;return s=n,o=a.path,r(function(){return a.path=r(a.path).__comma([n]),s=[(t.superclass||e.nilAsClass).fn.prototype._visit_.call(a,n)][0]})._ensure_(function(){return a.path=o,a.path}),s}}),o.PathDagVisitor),n.addMethod(n.method({selector:"visitDagNodeVariantRedux:",protocol:"visiting",pragmas:[],messageSends:["visitDagNodeVariantRedux:","ifFalse:","==","at:put:","size"]},function(t){return function(o){var s,a=this;return s=[(t.superclass||e.nilAsClass).fn.prototype._visitDagNodeVariantRedux_.call(a,o)][0],n.assert(r(o).__eq_eq(s))||r(a.path)._at_put_(r(a.path)._size(),s),s}}),o.PathDagVisitor),n.addClass("DagNode",o.Object,"Kernel-Dag"),n.addMethod(n.method({selector:"acceptDagVisitor:",protocol:"visiting",pragmas:[],messageSends:["visitDagNode:"]},function(e){return function(e){var t=this;return r(e)._visitDagNode_(t)}}),o.DagNode),n.addMethod(n.method({selector:"allDagChildren",protocol:"accessing",pragmas:[],messageSends:["asSet","dagChildren","do:","addAll:","allDagChildren"]},function(e){return function(){var e,t=this;return e=r([t._dagChildren()][0])._asSet(),r(t._dagChildren())._do_(function(t){return r(e)._addAll_(r(t)._allDagChildren())}),e}}),o.DagNode),n.addMethod(n.method({selector:"dagChildren",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),o.DagNode),n.addMethod(n.method({selector:"dagChildren:",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(e){var t=this;return this._subclassResponsibility(),t}}),o.DagNode),n.addMethod(n.method({selector:"isDagNode",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),o.DagNode),n.addClass("DagParentNode",o.DagNode,"Kernel-Dag"),n.setSlots(o.DagParentNode,["nodes"]),n.addMethod(n.method({selector:"addDagChild:",protocol:"accessing",pragmas:[],messageSends:["add:","dagChildren"]},function(e){return function(e){var t=this;return r(this._dagChildren())._add_(e),t}}),o.DagParentNode),n.addMethod(n.method({selector:"dagChildren",protocol:"accessing",pragmas:[],messageSends:["ifNil:","new"]},function(e){return function(){var e,t=this;return e=t.nodes,null==e||e.a$nil?(t.nodes=r(o.Array)._new(),t.nodes):e}}),o.DagParentNode),n.addMethod(n.method({selector:"dagChildren:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.nodes=e,t}}),o.DagParentNode),n.addClass("DagSink",o.DagNode,"Kernel-Dag"),n.addTrait("TDagSink","Kernel-Dag"),n.addMethod(n.method({selector:"dagChildren",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return[]}}),o.TDagSink),n.addMethod(n.method({selector:"dagChildren:",protocol:"accessing",pragmas:[],messageSends:["ifNotEmpty:","error:"]},function(e){return function(e){var t=this,n=this;return r(e)._ifNotEmpty_(function(){return n._error_("A DagSink cannot have children.")}),t}}),o.TDagSink),n.addTrait("TDerivedDagChildren","Kernel-Dag"),n.addMethod(n.method({selector:"addDagChild:",protocol:"accessing",pragmas:[],messageSends:["error:"]},function(e){return function(e){var t=this;return this._error_("Cannot add child for a TDerivedChildren."),t}}),o.TDerivedDagChildren),n.addMethod(n.method({selector:"dagChildren",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),o.TDerivedDagChildren),n.addMethod(n.method({selector:"dagChildren:",protocol:"accessing",pragmas:[],messageSends:["error:"]},function(e){return function(e){var t=this;return this._error_("Cannot set children of a TDerivedChildren."),t}}),o.TDerivedDagChildren),n.addTrait("TSingleDagChild","Kernel-Dag"),n.addMethod(n.method({selector:"dagChild",protocol:"accessing",pragmas:[],messageSends:["subclassResponsibility"]},function(e){return function(){var e=this;return this._subclassResponsibility(),e}}),o.TSingleDagChild),n.addMethod(n.method({selector:"dagChildren",protocol:"accessing",pragmas:[],messageSends:["dagChild"]},function(e){return function(){return[this._dagChild()]}}),o.TSingleDagChild),n.setTraitComposition([{trait:o.TDerivedDagChildren}],o.TDagSink),n.setTraitComposition([{trait:o.TDerivedDagChildren}],o.TSingleDagChild),n.setTraitComposition([{trait:o.TDagSink}],o.DagSink),n.addMethod(n.method({selector:"isDagNode",protocol:"*Kernel-Dag",pragmas:[],messageSends:[]},function(e){return function(){return!1}}),o.Object)}),define("amber/core/Kernel-Promises",["amber/boot","require","amber/core/Kernel-Objects"],function(e,t){"use strict";var n=e.api,r=(e.nilAsValue,e.nilAsReceiver,e.asReceiver),o=e.globals;n.addPackage("Kernel-Promises").transport={type:"amd",amdNamespace:"amber/core"},n.addClass("Promise",o.Object,"Kernel-Promises"),n.addMethod(n.method({selector:"all:",protocol:"composites",pragmas:[["inlineJS:",["return Promise.all($recv(aCollection)._asArray())"]]],messageSends:[]},function(e){return function(e){return Promise.all(r(e)._asArray())}}),o.Promise.a$cls),n.addMethod(n.method({selector:"any:",protocol:"composites",pragmas:[["inlineJS:",["return Promise.race($recv(aCollection)._asArray())"]]],messageSends:[]},function(e){return function(e){return Promise.race(r(e)._asArray())}}),o.Promise.a$cls),n.addMethod(n.method({selector:"forBlock:",protocol:"instance creation",pragmas:[],messageSends:["then:","new"]},function(e){return function(e){return r(this._new())._then_(e)}}),o.Promise.a$cls),n.addMethod(n.method({selector:"new",protocol:"instance creation",pragmas:[["inlineJS:",["return Promise.resolve()"]]],messageSends:[]},function(e){return function(){return Promise.resolve()}}),o.Promise.a$cls),n.addMethod(n.method({selector:"new:",protocol:"instance creation",pragmas:[["inlineJS:",["return new Promise(function (resolve, reject) {\n    var model = {value: resolve, signal: reject};\n    aBlock._value_(model);\n})"]]],messageSends:[]},function(e){return function(e){return new Promise(function(t,n){var r={value:t,signal:n};e._value_(r)})}}),o.Promise.a$cls),n.addMethod(n.method({selector:"signal:",protocol:"instance creation",pragmas:[["inlineJS:",["return $recv(anObject)._in_(function (x) {return Promise.reject(x)})"]]],messageSends:[]},function(e){return function(e){return r(e)._in_(function(e){return Promise.reject(e)})}}),o.Promise.a$cls),n.addMethod(n.method({selector:"value:",protocol:"instance creation",pragmas:[["inlineJS:",["return $recv(anObject)._in_(function (x) {return Promise.resolve(x)})"]]],messageSends:[]},function(e){return function(e){return r(e)._in_(function(e){return Promise.resolve(e)})}}),o.Promise.a$cls),n.addTrait("TThenable","Kernel-Promises"),n.addMethod(n.method({selector:"catch:",protocol:"promises",pragmas:[["inlineJS:",["return self.then(null, function (err) { return aBlock._value_(err); })"]]],messageSends:[]},function(e){return function(e){var t=this;return t.then(null,function(t){return e._value_(t)})}}),o.TThenable),n.addMethod(n.method({selector:"on:do:",protocol:"promises",pragmas:[["inlineJS:",["return self.then(null, function (err) {\n    if (err._isKindOf_(aClass)) return aBlock._value_(err);\n    else throw err;\n})"]]],messageSends:[]},function(e){return function(e,t){var n=this;return n.then(null,function(n){if(n._isKindOf_(e))return t._value_(n);throw n})}}),o.TThenable),n.addMethod(n.method({selector:"on:do:catch:",protocol:"promises",pragmas:[],messageSends:["catch:","on:do:"]},function(e){return function(e,t,n){return r(this._on_do_(e,t))._catch_(n)}}),o.TThenable),n.addMethod(n.method({selector:"then:",protocol:"promises",pragmas:[["inlineJS:",['\nvar array = Array.isArray(aBlockOrArray) ? aBlockOrArray : [aBlockOrArray];\nreturn array.reduce(function (soFar, aBlock) {\n    return soFar.then(typeof aBlock === "function" && aBlock.length > 1 ?\n       function (result) {\n            if (Array.isArray(result)) {\n                return aBlock._valueWithPossibleArguments_([result].concat(result.slice(0, aBlock.length-1)));\n            } else {\n                return aBlock._value_(result);\n            }\n        } :\n        function (result) {\n            return aBlock._value_(result);\n        }\n    );\n}, self)']]],messageSends:[]},function(e){return function(e){var t=this;return(Array.isArray(e)?e:[e]).reduce(function(e,t){return e.then("function"==typeof t&&t.length>1?function(e){return Array.isArray(e)?t._valueWithPossibleArguments_([e].concat(e.slice(0,t.length-1))):t._value_(e)}:function(e){return t._value_(e)})},t)}}),o.TThenable),n.addMethod(n.method({selector:"then:catch:",protocol:"promises",pragmas:[],messageSends:["catch:","then:"]},function(e){return function(e,t){return r(this._then_(e))._catch_(t)}}),o.TThenable),n.addMethod(n.method({selector:"then:on:do:",protocol:"promises",pragmas:[],messageSends:["on:do:","then:"]},function(e){return function(e,t,n){return r(this._then_(e))._on_do_(t,n)}}),o.TThenable),n.addMethod(n.method({selector:"then:on:do:catch:",protocol:"promises",pragmas:[],messageSends:["catch:","on:do:","then:"]},function(e){return function(e,t,n,o){return r(r(this._then_(e))._on_do_(t,n))._catch_(o)}}),o.TThenable),n.setTraitComposition([{trait:o.TThenable}],o.Promise)}),define("amber/core/Kernel-Infrastructure",["amber/boot","require","amber/core/Kernel-Collections","amber/core/Kernel-Helpers","amber/core/Kernel-Objects","amber/core/Kernel-Promises"],function(e,t){"use strict";var n=e.api,r=e.nilAsValue,o=e.nilAsReceiver,s=e.asReceiver,a=e.globals;n.addPackage("Kernel-Infrastructure").transport={type:"amd",amdNamespace:"amber/core"},n.addClass("AmberBootstrapInitialization",a.Object,"Kernel-Infrastructure"),n.addMethod(n.method({selector:"organizeClasses",protocol:"organization",pragmas:[],
messageSends:["do:","classes","enterOrganization"]},function(e){return function(){var e=this;return s(s(a.Smalltalk)._classes())._do_(function(e){return s(e)._enterOrganization()}),e}}),a.AmberBootstrapInitialization.a$cls),n.addMethod(n.method({selector:"organizeMethods",protocol:"organization",pragmas:[],messageSends:["do:","classes","definedMethods","methodOrganizationEnter:andLeave:","methodClass"]},function(e){return function(){var e=this;return s(s(a.Smalltalk)._classes())._do_(function(e){return s(s(e)._definedMethods())._do_(function(e){return s(s(e)._methodClass())._methodOrganizationEnter_andLeave_(e,r)})}),e}}),a.AmberBootstrapInitialization.a$cls),n.addMethod(n.method({selector:"run",protocol:"public api",pragmas:[],messageSends:["initialize","organizeClasses","organizeMethods","postLoad"]},function(e){return function(){var e=this;return s(a.SmalltalkImage)._initialize(),e._organizeClasses(),e._organizeMethods(),s(a.Smalltalk)._postLoad()}}),a.AmberBootstrapInitialization.a$cls),n.addClass("JSObjectProxy",a.ProtoObject,"Kernel-Infrastructure"),n.setSlots(a.JSObjectProxy,["jsObject"]),n.addMethod(n.method({selector:"=",protocol:"comparing",pragmas:[],messageSends:["and:","==","class","compareJSObjectOfProxy:withProxy:"]},function(e){return function(e){var t=this,r=this;return!!n.assert(s([s(e)._class()][0]).__eq_eq(r._class()))&&s(a.JSObjectProxy)._compareJSObjectOfProxy_withProxy_(t,e)}}),a.JSObjectProxy),n.addMethod(n.method({selector:"asJavaScriptObject",protocol:"converting",pragmas:[],messageSends:[]},function(e){return function(){return this.jsObject}}),a.JSObjectProxy),n.addMethod(n.method({selector:"at:",protocol:"accessing",pragmas:[["inlineJS:",["return $self.jsObject[aString]"]]],messageSends:[]},function(e){return function(e){return this.jsObject[e]}}),a.JSObjectProxy),n.addMethod(n.method({selector:"at:ifAbsent:",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\tvar obj = $self.jsObject;\n\t\treturn aString in obj ? obj[aString] : aBlock._value();\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this,r=n.jsObject;return e in r?r[e]:t._value()}}),a.JSObjectProxy),n.addMethod(n.method({selector:"at:ifPresent:",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\tvar obj = $self.jsObject;\n\t\treturn aString in obj ? aBlock._value_(obj[aString]) : nil;\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this,o=n.jsObject;return e in o?t._value_(o[e]):r}}),a.JSObjectProxy),n.addMethod(n.method({selector:"at:ifPresent:ifAbsent:",protocol:"accessing",pragmas:[["inlineJS:",["\n\t\tvar obj = $self.jsObject;\n\t\treturn aString in obj ? aBlock._value_(obj[aString]) : anotherBlock._value();\n\t"]]],messageSends:[]},function(e){return function(e,t,n){var r=this,o=r.jsObject;return e in o?t._value_(o[e]):n._value()}}),a.JSObjectProxy),n.addMethod(n.method({selector:"at:put:",protocol:"accessing",pragmas:[["inlineJS:",["return $self.jsObject[aString] = anObject"]]],messageSends:[]},function(e){return function(e,t){return this.jsObject[e]=t}}),a.JSObjectProxy),n.addMethod(n.method({selector:"catch:",protocol:"promises",pragmas:[],messageSends:["ifTrue:ifFalse:","isNativeFunction:","at:","sendTo:arguments:",">>","catch:"]},function(t){return function(r){var o=this;return n.assert(s(a.NativeFunction)._isNativeFunction_(o._at_("then")))?s(s(a.TThenable).__gt_gt("catch:"))._sendTo_arguments_(o.jsObject,[r]):[(t.superclass||e.nilAsClass).fn.prototype._catch_.call(o,r)][0]}}),a.JSObjectProxy),n.addMethod(n.method({selector:"doesNotUnderstand:",protocol:"proxy",pragmas:[],messageSends:["ifNil:ifNotNil:","lookupProperty:ofProxy:","asJavaScriptPropertyName","selector","doesNotUnderstand:","forwardMessage:withArguments:ofProxy:","arguments"]},function(t){return function(n){var r,o=this,i=this;if(null==(r=s(a.JSObjectProxy)._lookupProperty_ofProxy_(s(s(n)._selector())._asJavaScriptPropertyName(),o))||r.a$nil)return[(t.superclass||e.nilAsClass).fn.prototype._doesNotUnderstand_.call(i,n)][0];var c;return c=r,s(a.JSObjectProxy)._forwardMessage_withArguments_ofProxy_(c,s(n)._arguments(),o)}}),a.JSObjectProxy),n.addMethod(n.method({selector:"in:",protocol:"accessing",pragmas:[],messageSends:["value:"]},function(e){return function(e){var t=this;return s(e)._value_(t.jsObject)}}),a.JSObjectProxy),n.addMethod(n.method({selector:"jsObject",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.jsObject}}),a.JSObjectProxy),n.addMethod(n.method({selector:"keysAndValuesDo:",protocol:"enumerating",pragmas:[["inlineJS:",["\n\t\tvar o = $self.jsObject;\n\t\tfor(var i in o) {\n\t\t\taBlock._value_value_(i, o[i]);\n\t\t}\n\t"]]],messageSends:[]},function(e){return function(e){var t=this,n=this,r=n.jsObject;for(var o in r)e._value_value_(o,r[o]);return t}}),a.JSObjectProxy),n.addMethod(n.method({selector:"on:do:",protocol:"promises",pragmas:[],messageSends:["ifTrue:ifFalse:","isNativeFunction:","at:","sendTo:arguments:",">>","on:do:"]},function(t){return function(r,o){var i=this;return n.assert(s(a.NativeFunction)._isNativeFunction_(i._at_("then")))?s(s(a.TThenable).__gt_gt("on:do:"))._sendTo_arguments_(i.jsObject,[r,o]):[(t.superclass||e.nilAsClass).fn.prototype._on_do_.call(i,r,o)][0]}}),a.JSObjectProxy),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["nextPutAll:","printString"]},function(e){return function(e){var t=this,n=this;return s(e)._nextPutAll_(n._printString()),t}}),a.JSObjectProxy),n.addMethod(n.method({selector:"printString",protocol:"printing",pragmas:[["inlineJS:",['\n\t\tvar js = $self.jsObject;\n\t\treturn !js ? "<<malformed JS object proxy>>" : js.toString\n\t\t\t? js.toString()\n\t\t\t: Object.prototype.toString.call(js)\n\t']]],messageSends:[]},function(e){return function(){var e=this,t=e.jsObject;return t?t.toString?t.toString():Object.prototype.toString.call(t):"<<malformed JS object proxy>>"}}),a.JSObjectProxy),n.addMethod(n.method({selector:"putOn:",protocol:"streaming",pragmas:[],messageSends:["nextPutJSObject:"]},function(e){return function(e){var t=this,n=this;return s(e)._nextPutJSObject_(n.jsObject),t}}),a.JSObjectProxy),n.addMethod(n.method({selector:"removeKey:",protocol:"accessing",pragmas:[["inlineJS:",["delete $self.jsObject[aString]; return aString"]]],messageSends:[]},function(e){return function(e){return delete this.jsObject[e],e}}),a.JSObjectProxy),n.addMethod(n.method({selector:"then:",protocol:"promises",pragmas:[],messageSends:["ifTrue:ifFalse:","isNativeFunction:","at:","sendTo:arguments:",">>","then:"]},function(t){return function(r){var o=this;return n.assert(s(a.NativeFunction)._isNativeFunction_(o._at_("then")))?s(s(a.TThenable).__gt_gt("then:"))._sendTo_arguments_(o.jsObject,[r]):[(t.superclass||e.nilAsClass).fn.prototype._then_.call(o,r)][0]}}),a.JSObjectProxy),n.addMethod(n.method({selector:"addObjectVariablesTo:ofProxy:",protocol:"proxy",pragmas:[["inlineJS:",["\n\t\tvar jsObject = aProxy.jsObject;\n\t\tfor(var i in jsObject) {\n\t\t\taDictionary._at_put_(i, jsObject[i]);\n\t\t}\n\t"]]],messageSends:[]},function(e){return function(e,t){var n=this,r=t.jsObject;for(var o in r)e._at_put_(o,r[o]);return n}}),a.JSObjectProxy.a$cls),n.addMethod(n.method({selector:"associationsOfProxy:",protocol:"proxy",pragmas:[["inlineJS:",["\n\t\tvar jsObject = aProxy.jsObject, result = [];\n\t\tfor(var i in jsObject) {\n\t\t\tresult.push(i.__minus_gt(jsObject[i]));\n\t\t}\n\t\treturn result;\n\t"]]],messageSends:[]},function(e){return function(e){var t=e.jsObject,n=[];for(var r in t)n.push(r.__minus_gt(t[r]));return n}}),a.JSObjectProxy.a$cls),n.addMethod(n.method({selector:"compareJSObjectOfProxy:withProxy:",protocol:"proxy",pragmas:[["inlineJS:",["\n\tvar anotherJSObject = anotherProxy.a$cls ? anotherProxy.jsObject : anotherProxy;\n\treturn aProxy.jsObject === anotherJSObject"]]],messageSends:[]},function(e){return function(e,t){var n=t.a$cls?t.jsObject:t;return e.jsObject===n}}),a.JSObjectProxy.a$cls),n.addMethod(n.method({selector:"forwardMessage:withArguments:ofProxy:",protocol:"proxy",pragmas:[["inlineJS:",["\n\t\treturn $core.accessJavaScript(aProxy._jsObject(), aString, anArray);\n\t"]]],messageSends:[]},function(e){return function(e,t,r){return n.accessJavaScript(r._jsObject(),e,t)}}),a.JSObjectProxy.a$cls),n.addMethod(n.method({selector:"jsObject:ofProxy:",protocol:"proxy",pragmas:[["inlineJS:",["aProxy.jsObject = aJSObject"]]],messageSends:[]},function(e){return function(e,t){var n=this;return t.jsObject=e,n}}),a.JSObjectProxy.a$cls),n.addMethod(n.method({selector:"lookupProperty:ofProxy:",protocol:"proxy",pragmas:[["inlineJS:",["return aString in aProxy._jsObject() ? aString : nil"]]],messageSends:[]},function(e){return function(e,t){return e in t._jsObject()?e:r}}),a.JSObjectProxy.a$cls),n.addMethod(n.method({selector:"null",protocol:"accessing",pragmas:[["inlineJS:",["return null"]]],messageSends:[]},function(e){return function(){return null}}),a.JSObjectProxy.a$cls),n.addMethod(n.method({selector:"on:",protocol:"instance creation",pragmas:[],messageSends:["new","jsObject:ofProxy:"]},function(e){return function(e){var t,n=this;return t=n._new(),n._jsObject_ofProxy_(e,t),t}}),a.JSObjectProxy.a$cls),n.addMethod(n.method({selector:"undefined",protocol:"accessing",pragmas:[["inlineJS:",["return undefined"]]],messageSends:[]},function(e){return function(){}}),a.JSObjectProxy.a$cls),n.addClass("Organizer",a.Object,"Kernel-Infrastructure"),n.setSlots(a.Organizer,["elements"]),n.addMethod(n.method({selector:"addElement:",protocol:"accessing",pragmas:[],messageSends:["add:","elements"]},function(e){return function(e){var t=this;return s(this._elements())._add_(e),t}}),a.Organizer),n.addMethod(n.method({selector:"elements",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.elements}}),a.Organizer),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["initialize","new"]},function(t){return function(){var n=this,r=this;return(t.superclass||e.nilAsClass).fn.prototype._initialize.call(r),r.elements=s(a.Set)._new(),n}}),a.Organizer),n.addMethod(n.method({selector:"removeElement:",protocol:"accessing",pragmas:[],messageSends:["remove:ifAbsent:","elements"]},function(e){return function(e){var t=this;return s(this._elements())._remove_ifAbsent_(e,function(){}),t}}),a.Organizer),n.addClass("ClassOrganizer",a.Organizer,"Kernel-Infrastructure"),n.setSlots(a.ClassOrganizer,["traitOrBehavior"]),n.addMethod(n.method({selector:"addElement:",protocol:"accessing",pragmas:[],messageSends:["addElement:","announce:","current","protocol:","new","theClass:","theClass","yourself"]},function(t){return function(n){var r,o,i=this,c=this;return(t.superclass||e.nilAsClass).fn.prototype._addElement_.call(c,n),r=s(a.SystemAnnouncer)._current(),o=s(a.ProtocolAdded)._new(),s(o)._protocol_(n),s(o)._theClass_(c._theClass()),s(r)._announce_(s(o)._yourself()),i}}),a.ClassOrganizer),n.addMethod(n.method({selector:"removeElement:",protocol:"accessing",pragmas:[],messageSends:["removeElement:","announce:","current","protocol:","new","theClass:","theClass","yourself"]},function(t){return function(n){var r,o,i=this,c=this;return(t.superclass||e.nilAsClass).fn.prototype._removeElement_.call(c,n),r=s(a.SystemAnnouncer)._current(),o=s(a.ProtocolRemoved)._new(),s(o)._protocol_(n),s(o)._theClass_(c._theClass()),s(r)._announce_(s(o)._yourself()),i}}),a.ClassOrganizer),n.addMethod(n.method({selector:"theClass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.traitOrBehavior}}),a.ClassOrganizer),n.addMethod(n.method({selector:"theClass:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.traitOrBehavior=e,t}}),a.ClassOrganizer),n.addMethod(n.method({selector:"on:",protocol:"instance creation",pragmas:[],messageSends:["theClass:","new","yourself"]},function(e){return function(e){var t;return t=this._new(),s(t)._theClass_(e),s(t)._yourself()}}),a.ClassOrganizer.a$cls),n.addClass("PackageOrganizer",a.Organizer,"Kernel-Infrastructure"),n.addClass("Package",a.Object,"Kernel-Infrastructure"),n.setSlots(a.Package,["contextBlock","basicTransport","name","transport","imports","dirty","organization","isReady"]),n.addMethod(n.method({selector:"basicTransport",protocol:"private",pragmas:[],messageSends:[]},function(e){return function(){return this.basicTransport}}),a.Package),n.addMethod(n.method({selector:"beClean",protocol:"accessing",pragmas:[],messageSends:["announce:","current","package:","new","yourself"]},function(e){return function(){var e,t,n=this;return this.dirty=!1,e=s(a.SystemAnnouncer)._current(),t=s(a.PackageClean)._new(),s(t)._package_(n),s(e)._announce_(s(t)._yourself()),n}}),a.Package),n.addMethod(n.method({selector:"beDirty",protocol:"accessing",pragmas:[],messageSends:["announce:","current","package:","new","yourself"]},function(e){return function(){var e,t,n=this;return this.dirty=!0,e=s(a.SystemAnnouncer)._current(),t=s(a.PackageDirty)._new(),s(t)._package_(n),s(e)._announce_(s(t)._yourself()),n}}),a.Package),n.addMethod(n.method({selector:"classTemplate",protocol:"accessing",pragmas:[],messageSends:["streamContents:","write:","lf","tab","print:","name"]},function(e){return function(){var e=this;return s(a.String)._streamContents_(function(t){return s(t)._write_("Object subclass: #NameOfSubclass"),s(t)._lf(),s(t)._tab(),s(t)._write_("instanceVariableNames: ''"),s(t)._lf(),s(t)._tab(),s(t)._write_("package: "),s(t)._print_(e._name())})}}),a.Package),n.addMethod(n.method({selector:"classes",protocol:"classes",pragmas:[],messageSends:["copy","elements","organization"]},function(e){return function(){return s(s(this._organization())._elements())._copy()}}),a.Package),n.addMethod(n.method({selector:"context",protocol:"accessing",pragmas:[],messageSends:["ifNil:ifNotNil:","contextBlock","new","keysAndValuesDo:","value","at:put:"]},function(e){return function(){var e;if(null==(e=this._contextBlock())||e.a$nil)return a.HashedCollection._newFromPairs_([]);var t,n;return n=e,t=s(a.Dictionary)._new(),s(s(n)._value())._keysAndValuesDo_(function(e,n){return s(t)._at_put_(e,n)}),t}}),a.Package),n.addMethod(n.method({selector:"contextBlock",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.contextBlock}}),a.Package),n.addMethod(n.method({selector:"contextBlock:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.contextBlock=e,t}}),a.Package),n.addMethod(n.method({selector:"contextFunctionSource",protocol:"accessing",pragmas:[],messageSends:["ifEmpty:ifNotEmpty:","reject:","imports",",","join:","collect:","key"]},function(e){return function(){return s(s(this._imports())._reject_("isString"))._ifEmpty_ifNotEmpty_(function(){return r},function(e){return[s(["function () { return {".__comma(","._join_(s(e)._collect_(function(e){return[s(s([s(e)._key()][0]).__comma(":")).__comma(s(e)._key())][0]})))][0]).__comma("}; }")][0]})}}),a.Package),n.addMethod(n.method({selector:"definition",protocol:"accessing",pragmas:[],messageSends:["streamContents:","write:","name","class","lf","tab","print:","importsDefinition","definition","transport"]},function(e){return function(){var e=this;return s(a.String)._streamContents_(function(t){return s(t)._write_([s(e._class())._name()][0]),s(t)._lf(),s(t)._tab(),s(t)._write_("named: "),s(t)._print_(e._name()),s(t)._lf(),s(t)._tab(),s(t)._write_(["imports: ",e._importsDefinition()]),s(t)._lf(),s(t)._tab(),s(t)._write_(["transport: (",s(e._transport())._definition(),")"])})}}),a.Package),n.addMethod(n.method({selector:"imports",protocol:"accessing",pragmas:[],messageSends:["ifNil:","imports:"]},function(e){return function(){var e,t=this;return e=t.imports,null==e||e.a$nil?(t._imports_([]),t.imports):e}}),a.Package),n.addMethod(n.method({selector:"imports:",protocol:"accessing",pragmas:[],messageSends:["validateImports:","asSet"]},function(e){return function(e){var t=this,n=this;return n._validateImports_(e),n.imports=s(e)._asSet(),t}}),a.Package),n.addMethod(n.method({selector:"importsAsJson",protocol:"converting",pragmas:[],messageSends:["collect:","sortedImportsAsArray","ifTrue:ifFalse:","isString",",","key","value"]},function(e){return function(){return s(this._sortedImportsAsArray())._collect_(function(e){return n.assert(s(e)._isString())?e:[s(s(s(e)._key()).__comma("=")).__comma(s(e)._value())][0]})}}),a.Package),n.addMethod(n.method({selector:"importsDefinition",protocol:"accessing",pragmas:[],messageSends:["streamContents:","write:","do:separatedBy:","sortedImportsAsArray","print:"]},function(e){return function(){var e=this;return s(a.String)._streamContents_(function(t){return s(t)._write_("{"),s(e._sortedImportsAsArray())._do_separatedBy_(function(e){return s(t)._print_(e)},function(){return[s(t)._write_(". ")][0]}),s(t)._write_("}")})}}),a.Package),n.addMethod(n.method({selector:"importsFromJson:",protocol:"converting",pragmas:[],messageSends:["collect:","tokenize:","ifTrue:ifFalse:","=","size","first","->","second"]},function(e){return function(e){return s(e)._collect_(function(e){var t;return t=s(e)._tokenize_("="),n.assert(s(s(t)._size()).__eq(1))?[s(t)._first()][0]:s(s(t)._first()).__minus_gt(s(t)._second())})}}),a.Package),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["initialize","new"]},function(t){return function(){var n=this,o=this;return(t.superclass||e.nilAsClass).fn.prototype._initialize.call(o),o.organization=[s(a.PackageOrganizer)._new()][0],o.contextBlock=r,o.dirty=r,o.imports=r,o.isReady=s(a.Promise)._new(),o.transport=r,n}}),a.Package),n.addMethod(n.method({selector:"isDirty",protocol:"testing",pragmas:[],messageSends:["ifNil:"]},function(e){return function(){var e;return null!=(e=this.dirty)&&!e.a$nil&&e}}),a.Package),n.addMethod(n.method({selector:"isPackage",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),a.Package),n.addMethod(n.method({selector:"isReady",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.isReady}}),a.Package),n.addMethod(n.method({selector:"isReady:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.isReady=e,t}}),a.Package),n.addMethod(n.method({selector:"javaScriptDescriptor:",protocol:"accessing",pragmas:[],messageSends:["at:ifAbsent:","imports:","importsFromJson:","at:ifPresent:","isReady:","ifNotNil:","contextFunctionSource","at:put:","value:",",","asJavaScriptObject","contextBlock:"]},function(e){return function(e){var t,n,r,a=this,i=this;return n=[s(e)._at_ifAbsent_("imports",function(){return[]})][0],i._imports_(i._importsFromJson_(n)),i.basicTransport=[s(e)._at_ifAbsent_("transport",function(){})][0],s(e)._at_ifPresent_("isReady",function(e){return i._isReady_(e)}),s(e)._at_ifPresent_("innerEval",function(t){if(null==(r=i._contextFunctionSource())||r.a$nil)return r;var n;return n=r,s(e)._at_put_("context",s(t)._value_([s("(".__comma(n)).__comma(")")][0]))}),t=s(e)._at_ifAbsent_("context",function(){return o._asJavaScriptObject()}),i._contextBlock_(t),a}}),a.Package),n.addMethod(n.method({selector:"loadDependencies",protocol:"dependencies",pragmas:[],messageSends:["loadDependencyClasses","remove:ifAbsent:","asSet","collect:","package","yourself"]},function(e){return function(){var e,t,n=this;return e=this._loadDependencyClasses(),t=s(s(e)._collect_(function(e){return s(e)._package()}))._asSet(),s(t)._remove_ifAbsent_(n,function(){}),s(t)._yourself()}}),a.Package),n.addMethod(n.method({selector:"loadDependencyClasses",protocol:"dependencies",pragmas:[],messageSends:[",","name","addAll:","asSet","collect:","classes","superclass","select:","anySatisfy:","copyWithout:","theMetaClass","and:","includes:","protocols","notEmpty","ownMethodsInProtocol:","streamContents:","valuesDo:","traitCompositions","write:","trait","remove:ifAbsent:","yourself"]},function(e){return function(){var e,t,o=this;return e="*".__comma(o._name()),t=s([s([o._classes()][0])._collect_(function(e){return s(e)._superclass()})][0])._asSet(),s(t)._addAll_(s(s(a.Smalltalk)._classes())._select_(function(t){return s(s([t,s(t)._theMetaClass()])._copyWithout_(r))._anySatisfy_(function(t){return!!n.assert(s(s(t)._protocols())._includes_(e))&&s(s(t)._ownMethodsInProtocol_(e))._notEmpty()})})),s(t)._addAll_(s(a.Array)._streamContents_(function(e){return s(o._traitCompositions())._valuesDo_(function(t){return s(e)._write_(s(t)._collect_(function(e){return s(e)._trait()}))})})),s(t)._remove_ifAbsent_(r,function(){}),s(t)._yourself()}}),a.Package),n.addMethod(n.method({selector:"name",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.name}}),a.Package),n.addMethod(n.method({selector:"name:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.name=e,t}}),a.Package),n.addMethod(n.method({selector:"organization",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.organization}}),a.Package),n.addMethod(n.method({selector:"printOn:",protocol:"printing",pragmas:[],messageSends:["printOn:","nextPutAll:","name"]},function(t){return function(n){var r=this,o=this;return(t.superclass||e.nilAsClass).fn.prototype._printOn_.call(o,n),s(n)._nextPutAll_(" ("),s(n)._nextPutAll_(o._name()),s(n)._nextPutAll_(")"),r}}),a.Package),n.addMethod(n.method({selector:"setupClasses",protocol:"classes",pragmas:[],messageSends:["do:","classes","initialize"]},function(e){return function(){var e=this;return s(this._classes())._do_(function(e){return s(e)._initialize()}),e}}),a.Package),n.addMethod(n.method({selector:"sortedClasses",protocol:"classes",pragmas:[],messageSends:["sortedClasses:","class","classes"]},function(e){return function(){var e=this;return s(e._class())._sortedClasses_(e._classes())}}),a.Package),n.addMethod(n.method({selector:"sortedImportsAsArray",protocol:"private",pragmas:[],messageSends:["sorted:","asArray","imports","or:","&","not","isString","and:","=","<=","value"]},function(e){return function(){return s(s(this._imports())._asArray())._sorted_(function(e,t){return!!n.assert(s(s([s(e)._isString()][0])._not()).__and([s(t)._isString()][0]))||!!n.assert(s([s(e)._isString()][0]).__eq(s(t)._isString()))&&s([s(e)._value()][0]).__lt_eq(s(t)._value())})}}),a.Package),n.addMethod(n.method({selector:"traitCompositions",protocol:"dependencies",pragmas:[],messageSends:["new","do:","classes","includingPossibleMetaDo:","at:put:","traitComposition","reject:","isEmpty"]},function(e){return function(){var e,t=this;return e=s(a.Dictionary)._new(),s(t._classes())._do_(function(t){return s(t)._includingPossibleMetaDo_(function(t){return s(e)._at_put_(t,s(t)._traitComposition())})}),s(e)._reject_(function(e){return s(e)._isEmpty()})}}),a.Package),n.addMethod(n.method({selector:"transport",protocol:"accessing",pragmas:[],messageSends:["ifNil:","transport:","fromJson:","basicTransport"]},function(e){return function(){var e,t=this;return e=t.transport,null==e||e.a$nil?(t._transport_(s(a.PackageTransport)._fromJson_(t._basicTransport())),t.transport):e}}),a.Package),n.addMethod(n.method({selector:"transport:",protocol:"accessing",pragmas:[],messageSends:["package:"]},function(e){return function(e){var t=this;return this.transport=e,s(e)._package_(t),t}}),a.Package),n.addMethod(n.method({selector:"validateImports:",protocol:"validation",pragmas:[],messageSends:["do:","ifFalse:","isString","respondsTo:","error:","&","key","value","match:"]},function(e){return function(e){var t=this,r=this;return s(e)._do_(function(e){if(!n.assert([s(e)._isString()][0])&&(n.assert(s(e)._respondsTo_("key"))||r._error_("Imports must be Strings or Associations"),n.assert(s([s([s(e)._key()][0])._isString()][0]).__and(s(s(e)._value())._isString()))||r._error_("Key and value must be Strings"),!n.assert(s(s(e)._key())._match_("^[a-zA-Z][a-zA-Z0-9]*$"))))return r._error_("Keys must be identifiers")}),t}}),a.Package),n.setSlots(a.Package.a$cls,["defaultCommitPathJs","defaultCommitPathSt"]),n.addMethod(n.method({selector:"named:",protocol:"accessing",pragmas:[],messageSends:["packageAt:ifAbsent:","createPackage:"]},function(e){return function(e){return s(a.Smalltalk)._packageAt_ifAbsent_(e,function(){return s(a.Smalltalk)._createPackage_(e)})}}),a.Package.a$cls),n.addMethod(n.method({selector:"named:ifAbsent:",protocol:"accessing",pragmas:[],messageSends:["packageAt:ifAbsent:"]},function(e){return function(e,t){return s(a.Smalltalk)._packageAt_ifAbsent_(e,t)}}),a.Package.a$cls),n.addMethod(n.method({selector:"named:imports:transport:",protocol:"accessing",pragmas:[],messageSends:["named:","imports:","transport:","beDirty"]},function(e){return function(e,t,n){var r,o;return r=this._named_(e),o=r,s(o)._imports_(t),s(o)._transport_(n),s(o)._beDirty(),r}}),a.Package.a$cls),n.addMethod(n.method({selector:"named:javaScriptDescriptor:",protocol:"instance creation",pragmas:[],messageSends:["createPackage:","javaScriptDescriptor:"]},function(e){return function(e,t){var n;return n=s(a.Smalltalk)._createPackage_(e),s(n)._javaScriptDescriptor_(t),n}}),a.Package.a$cls),n.addMethod(n.method({selector:"named:transport:",protocol:"accessing",pragmas:[],messageSends:["named:","transport:","beDirty"]},function(e){return function(e,t){var n,r;return n=this._named_(e),r=n,s(r)._transport_(t),s(r)._beDirty(),n}}),a.Package.a$cls),n.addMethod(n.method({selector:"new:",protocol:"instance creation",pragmas:[],messageSends:["name:","new","yourself"]},function(e){return function(e){var t;return t=s(a.Package)._new(),s(t)._name_(e),s(t)._yourself()}}),a.Package.a$cls),n.addMethod(n.method({selector:"sortedClasses:",protocol:"sorting",pragmas:[],messageSends:["streamContents:","<<","sortClasses:"]},function(e){return function(e){return s(a.Array)._streamContents_(function(t){return s(t).__lt_lt(s(a.ClassBuilder)._sortClasses_(e))})}}),a.Package.a$cls),n.addClass("PackageStateObserver",a.Object,"Kernel-Infrastructure"),n.addMethod(n.method({selector:"announcer",protocol:"accessing",pragmas:[],messageSends:["current"]},function(e){return function(){return s(a.SystemAnnouncer)._current()}}),a.PackageStateObserver),n.addMethod(n.method({selector:"observeSystem",protocol:"actions",pragmas:[],messageSends:["on:send:to:","announcer"]},function(e){return function(){var e,t=this;return e=this._announcer(),s(e)._on_send_to_(a.PackageAdded,"onPackageAdded:",t),s(e)._on_send_to_(a.ClassAnnouncement,"onClassModification:",t),s(e)._on_send_to_(a.MethodAnnouncement,"onMethodModification:",t),t}}),a.PackageStateObserver),n.addMethod(n.method({selector:"onClassModification:",protocol:"reactions",pragmas:[],messageSends:["ifNotNil:","theClass","beDirty","package"]},function(e){return function(e){var t,n=this;if(null==(t=s(e)._theClass())||t.a$nil);else{var r;r=t,s(s(r)._package())._beDirty()}return n}}),a.PackageStateObserver),n.addMethod(n.method({selector:"onMethodModification:",protocol:"reactions",pragmas:[],messageSends:["ifNotNil:","package","method","beDirty"]},function(e){return function(e){var t,n=this;if(null==(t=s(s(e)._method())._package())||t.a$nil);else{var r;r=t,s(r)._beDirty()}return n}}),a.PackageStateObserver),n.addMethod(n.method({selector:"onPackageAdded:",protocol:"reactions",pragmas:[],messageSends:["beDirty","package"]},function(e){return function(e){var t=this;return s(s(e)._package())._beDirty(),t}}),a.PackageStateObserver),n.setSlots(a.PackageStateObserver.a$cls,["current"]),n.addMethod(n.method({selector:"current",protocol:"accessing",pragmas:[],messageSends:["ifNil:","new"]},function(e){return function(){var e,t=this;return e=t.current,null==e||e.a$nil?(t.current=t._new(),t.current):e}}),a.PackageStateObserver.a$cls),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["observeSystem","current"]},function(e){return function(){var e=this;return s(this._current())._observeSystem(),e}}),a.PackageStateObserver.a$cls),n.addClass("Setting",a.Object,"Kernel-Infrastructure"),n.setSlots(a.Setting,["key","defaultValue"]),n.addMethod(n.method({selector:"defaultValue",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.defaultValue}}),a.Setting),n.addMethod(n.method({selector:"defaultValue:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.defaultValue=e,t}}),a.Setting),n.addMethod(n.method({selector:"key",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.key}}),a.Setting),n.addMethod(n.method({selector:"key:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.key=e,t}}),a.Setting),n.addMethod(n.method({selector:"value",protocol:"accessing",pragmas:[],messageSends:["at:ifAbsent:","settings","key","defaultValue"]},function(e){return function(){var e=this;return s(s(a.Smalltalk)._settings())._at_ifAbsent_(e._key(),function(){return e._defaultValue()})}}),a.Setting),n.addMethod(n.method({selector:"value:",protocol:"accessing",pragmas:[],messageSends:["at:put:","settings","key"]},function(e){return function(e){var t=this;return s(s(a.Smalltalk)._settings())._at_put_(t._key(),e)}}),a.Setting),n.addMethod(n.method({selector:"at:ifAbsent:",protocol:"instance creation",pragmas:[],messageSends:["key:","new","defaultValue:","yourself"]},function(t){return function(n,r){var o,a=this;return o=[(t.superclass||e.nilAsClass).fn.prototype._new.call(a)][0],s(o)._key_(n),s(o)._defaultValue_(r),s(o)._yourself()}}),a.Setting.a$cls),n.addMethod(n.method({selector:"new",protocol:"instance creation",pragmas:[],messageSends:["shouldNotImplement"]},function(e){return function(){var e=this;return this._shouldNotImplement(),e}}),a.Setting.a$cls),n.addClass("SmalltalkImage",a.Object,"Kernel-Infrastructure"),n.setSlots(a.SmalltalkImage,["globalJsVariables","packageDictionary"]),n.addMethod(n.method({selector:"addGlobalJsVariable:",protocol:"globals",pragmas:[],messageSends:["add:","globalJsVariables"]},function(e){return function(e){var t=this;return s(this._globalJsVariables())._add_(e),t}}),a.SmalltalkImage),n.addMethod(n.method({selector:"adoptPackageDescriptors",protocol:"private",pragmas:[],messageSends:["tryAdoptPackageDescriptorsBeyond:","new"]},function(e){return function(){return this._tryAdoptPackageDescriptorsBeyond_(s(a.Set)._new())}}),a.SmalltalkImage),n.addMethod(n.method({selector:"amdRequire",protocol:"accessing amd",pragmas:[],messageSends:["at:","core"]},function(e){return function(){return s(this._core())._at_("amdRequire")}}),a.SmalltalkImage),n.addMethod(n.method({selector:"asSmalltalkException:",protocol:"error handling",pragmas:[],messageSends:["ifNil:ifNotNil:","on:do:","error:","ifTrue:ifFalse:","isError:","on:"]},function(e){return function(e){var t=this;return null==e||e.a$nil?s(function(){return t._error_("Error: nil")})._on_do_(a.Error,function(e){return e}):n.assert(t._isError_(e))?e:s(a.JavaScriptException)._on_(e)}}),a.SmalltalkImage),n.addMethod(n.method({selector:"basicCreatePackage:",protocol:"private",pragmas:[],messageSends:["at:ifAbsentPut:","packageDictionary","new:"]},function(e){return function(e){return s(this._packageDictionary())._at_ifAbsentPut_(e,function(){return s(a.Package)._new_(e)})}}),a.SmalltalkImage),n.addMethod(n.method({selector:"beClean",protocol:"packages",pragmas:[],messageSends:["do:","packages"]},function(e){return function(){var e=this;return s(this._packages())._do_("beClean"),e}}),a.SmalltalkImage),n.addMethod(n.method({selector:"cancelOptOut:",protocol:"accessing",pragmas:[["inlineJS:",["delete anObject.a$cls;"]]],messageSends:[]},function(e){return function(e){var t=this;return delete e.a$cls,t}}),a.SmalltalkImage),n.addMethod(n.method({selector:"classes",protocol:"classes",pragmas:[],messageSends:["copy","traitsOrClasses","core"]
},function(e){return function(){return s(s(this._core())._traitsOrClasses())._copy()}}),a.SmalltalkImage),n.addMethod(n.method({selector:"core",protocol:"accessing",pragmas:[["inlineJS:",["return $core"]]],messageSends:[]},function(e){return function(){return n}}),a.SmalltalkImage),n.addMethod(n.method({selector:"createPackage:",protocol:"packages",pragmas:[],messageSends:["basicCreatePackage:","package:","new","yourself","announce:","current"]},function(e){return function(e){var t,n,r;return t=this._basicCreatePackage_(e),r=s(a.PackageAdded)._new(),s(r)._package_(t),n=s(r)._yourself(),s(s(a.SystemAnnouncer)._current())._announce_(n),t}}),a.SmalltalkImage),n.addMethod(n.method({selector:"defaultAmdNamespace",protocol:"accessing amd",pragmas:[],messageSends:["settingValue"]},function(e){return function(){return"transport.defaultAmdNamespace"._settingValue()}}),a.SmalltalkImage),n.addMethod(n.method({selector:"defaultAmdNamespace:",protocol:"accessing amd",pragmas:[],messageSends:["settingValue:"]},function(e){return function(e){var t=this;return"transport.defaultAmdNamespace"._settingValue_(e),t}}),a.SmalltalkImage),n.addMethod(n.method({selector:"deleteClass:",protocol:"private",pragmas:[["inlineJS:",["$core.removeClass(aClass)"]]],messageSends:[]},function(e){return function(e){var t=this;return n.removeClass(e),t}}),a.SmalltalkImage),n.addMethod(n.method({selector:"deleteGlobalJsVariable:",protocol:"globals",pragmas:[],messageSends:["remove:ifAbsent:","globalJsVariables"]},function(e){return function(e){var t=this;return s(this._globalJsVariables())._remove_ifAbsent_(e,function(){}),t}}),a.SmalltalkImage),n.addMethod(n.method({selector:"existsJsGlobal:",protocol:"testing",pragmas:[],messageSends:["deprecatedAPI:","includesGlobal:"]},function(e){return function(e){return this._deprecatedAPI_("Use Platform >> includesGlobal: instead"),s(a.Platform)._includesGlobal_(e)}}),a.SmalltalkImage),n.addMethod(n.method({selector:"globalJsVariables",protocol:"globals",pragmas:[],messageSends:["ifNil:"]},function(e){return function(){var e,t=this;return e=t.globalJsVariables,null==e||e.a$nil?(t.globalJsVariables=["window","document","process","global"],t.globalJsVariables):e}}),a.SmalltalkImage),n.addMethod(n.method({selector:"globals",protocol:"accessing",pragmas:[["inlineJS:",["return $globals"]]],messageSends:[]},function(e){return function(){return a}}),a.SmalltalkImage),n.addMethod(n.method({selector:"isError:",protocol:"testing",pragmas:[],messageSends:["and:","isSmalltalkObject:","isError"]},function(e){return function(e){var t=this;return!!n.assert(t._isSmalltalkObject_(e))&&s(e)._isError()}}),a.SmalltalkImage),n.addMethod(n.method({selector:"isSmalltalkObject:",protocol:"testing",pragmas:[["inlineJS:",["return anObject.a$cls != null"]]],messageSends:[]},function(e){return function(e){return null!=e.a$cls}}),a.SmalltalkImage),n.addMethod(n.method({selector:"optOut:",protocol:"accessing",pragmas:[["inlineJS:",["anObject.a$cls = null"]]],messageSends:[]},function(e){return function(e){var t=this;return e.a$cls=null,t}}),a.SmalltalkImage),n.addMethod(n.method({selector:"packageAt:ifAbsent:",protocol:"packages",pragmas:[],messageSends:["at:ifAbsent:","packageDictionary"]},function(e){return function(e,t){return s(this._packageDictionary())._at_ifAbsent_(e,t)}}),a.SmalltalkImage),n.addMethod(n.method({selector:"packageAt:ifPresent:",protocol:"packages",pragmas:[],messageSends:["at:ifPresent:","packageDictionary"]},function(e){return function(e,t){return s(this._packageDictionary())._at_ifPresent_(e,t)}}),a.SmalltalkImage),n.addMethod(n.method({selector:"packageDictionary",protocol:"packages",pragmas:[],messageSends:["ifNil:","new"]},function(e){return function(){var e,t=this;return e=t.packageDictionary,null==e||e.a$nil?(t.packageDictionary=s(a.Dictionary)._new(),t.packageDictionary):e}}),a.SmalltalkImage),n.addMethod(n.method({selector:"packages",protocol:"packages",pragmas:[],messageSends:["copy","values","packageDictionary"]},function(e){return function(){return s(s(this._packageDictionary())._values())._copy()}}),a.SmalltalkImage),n.addMethod(n.method({selector:"parse:",protocol:"accessing",pragmas:[],messageSends:["parse:","new"]},function(e){return function(e){return s(s(a.Compiler)._new())._parse_(e)}}),a.SmalltalkImage),n.addMethod(n.method({selector:"postFailedLoad:",protocol:"image",pragmas:[],messageSends:["removePackage:","name","new","packageDescriptors","core","keysAndValuesDo:","add:","do:","removeKey:"]},function(e){return function(e){var t,n,r=this,o=this;return s(a.Smalltalk)._removePackage_(s(e)._name()),t=s(a.Set)._new(),n=s(o._core())._packageDescriptors(),s(n)._keysAndValuesDo_(function(e,n){return s(t)._add_(e)}),s(t)._do_(function(e){return s(a.Smalltalk)._removePackage_(e),s(n)._removeKey_(e)}),r}}),a.SmalltalkImage),n.addMethod(n.method({selector:"postLoad",protocol:"image",pragmas:[],messageSends:["then:","adoptPackageDescriptors","do:","select:","classes","includes:","package","ifFalse:","=","class","initialize","sweepPackageDescriptors:"]},function(e){return function(){var e=this;return s(e._adoptPackageDescriptors())._then_(function(t){var r;return s(t)._do_("beClean"),r=s(s(a.Smalltalk)._classes())._select_(function(e){return s(t)._includes_(s(e)._package())}),s(r)._do_(function(t){if(!n.assert(s(t).__eq(e._class())))return s(t)._initialize()}),e._sweepPackageDescriptors_(t)})}}),a.SmalltalkImage),n.addMethod(n.method({selector:"pseudoVariableNames",protocol:"accessing",pragmas:[],messageSends:["pseudoVariableNames"]},function(e){return function(){return s(a.Compiler)._pseudoVariableNames()}}),a.SmalltalkImage),n.addMethod(n.method({selector:"readJSObject:",protocol:"accessing",pragmas:[["inlineJS:",["return $core.readJSObject(anObject)"]]],messageSends:[]},function(e){return function(e){return n.readJSObject(e)}}),a.SmalltalkImage),n.addMethod(n.method({selector:"removeClass:",protocol:"classes",pragmas:[],messageSends:["ifTrue:","isMetaclass","error:",",","asString","allSubclassesDo:","name","ifNotEmpty:","traitUsers","deleteClass:","includingPossibleMetaDo:","setTraitComposition:","announce:","current","theClass:","new","yourself"]},function(e){return function(e){var t,r,o=this,i=this;return n.assert(s(e)._isMetaclass())&&i._error_([s(s(e)._asString()).__comma(" is a Metaclass and cannot be removed!")][0]),s(e)._allSubclassesDo_(function(t){return[i._error_([s([s([s(e)._name()][0]).__comma(" has a subclass: ")][0]).__comma([s(t)._name()][0])][0])][0]}),s(s(e)._traitUsers())._ifNotEmpty_(function(){return i._error_(s(s(e)._name()).__comma(" has trait users."))}),i._deleteClass_(e),s(e)._includingPossibleMetaDo_(function(e){return s(e)._setTraitComposition_([])}),t=s(a.SystemAnnouncer)._current(),r=s(a.ClassRemoved)._new(),s(r)._theClass_(e),s(t)._announce_(s(r)._yourself()),o}}),a.SmalltalkImage),n.addMethod(n.method({selector:"removePackage:",protocol:"packages",pragmas:[],messageSends:["packageAt:ifAbsent:","error:",",","do:","classes","removeClass:","removeKey:","packageDictionary","announce:","current","package:","new","yourself"]},function(e){return function(e){var t,n,r,o=this,i=this;return t=i._packageAt_ifAbsent_(e,function(){return i._error_("Missing package: ".__comma(e))}),s(s(t)._classes())._do_(function(e){return i._removeClass_(e)}),s(i._packageDictionary())._removeKey_(e),n=s(a.SystemAnnouncer)._current(),r=s(a.PackageRemoved)._new(),s(r)._package_(t),s(n)._announce_(s(r)._yourself()),o}}),a.SmalltalkImage),n.addMethod(n.method({selector:"renamePackage:to:",protocol:"packages",pragmas:[],messageSends:["packageAt:ifAbsent:","error:",",","packageAt:ifPresent:","name:","beDirty","at:put:","packageDictionary","removeKey:"]},function(e){return function(e,t){var n,r,o,a=this,i=this;return n=i._packageAt_ifAbsent_(e,function(){return[i._error_(["Missing package: ".__comma(e)][0])][0]}),i._packageAt_ifPresent_(t,function(){return i._error_("Already exists a package called: ".__comma(t))}),r=n,s(r)._name_(t),s(r)._beDirty(),o=i._packageDictionary(),s(o)._at_put_(t,n),s(o)._removeKey_(e),a}}),a.SmalltalkImage),n.addMethod(n.method({selector:"reservedWords",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield","let","static","arguments","await","enum","implements","interface","package","private","protected","public"]}}),a.SmalltalkImage),n.addMethod(n.method({selector:"settings",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return a.SmalltalkSettings}}),a.SmalltalkImage),n.addMethod(n.method({selector:"sweepPackageDescriptors:",protocol:"private",pragmas:[],messageSends:["packageDescriptors","core","do:","removeKey:","name"]},function(e){return function(e){var t,n=this;return t=s(this._core())._packageDescriptors(),s(e)._do_(function(e){return s(t)._removeKey_(s(e)._name())}),n}}),a.SmalltalkImage),n.addMethod(n.method({selector:"try:ifTrue:catch:",protocol:"error handling",pragmas:[],messageSends:["tryIfTrue:catch:","asSmalltalkException:","value:"]},function(e){return function(e,t,n){var r,o=this;return s(e)._tryIfTrue_catch_(function(e){return r=o._asSmalltalkException_(e),[s(t)._value_(r)][0]},function(){return s(n)._value_(r)})}}),a.SmalltalkImage),n.addMethod(n.method({selector:"tryAdoptPackageDescriptorsBeyond:",protocol:"private",pragmas:[],messageSends:["copy","keysAndValuesDo:","packageDescriptors","core","add:","named:javaScriptDescriptor:","ifFalse:ifTrue:","allSatisfy:","includes:","then:","all:","collect:","tryAdoptPackageDescriptorsBeyond:","value:"]},function(e){return function(e){var t,r=this;return t=s(e)._copy(),s(s(r._core())._packageDescriptors())._keysAndValuesDo_(function(t,n){return s(e)._add_(s(a.Package)._named_javaScriptDescriptor_(t,n))}),n.assert(s(e)._allSatisfy_(function(e){return s(t)._includes_(e)}))?s(a.Promise)._value_(e):s(s(a.Promise)._all_(s(e)._collect_("isReady")))._then_(function(){return r._tryAdoptPackageDescriptorsBeyond_(e)})}}),a.SmalltalkImage),n.addMethod(n.method({selector:"version",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return"0.29.2"}}),a.SmalltalkImage),n.setSlots(a.SmalltalkImage.a$cls,["current"]),n.addMethod(n.method({selector:"current",protocol:"instance creation",pragmas:[],messageSends:["ifNil:ifNotNil:","new","deprecatedAPI"]},function(t){return function(){var n,r=this;return n=r.current,null==n||n.a$nil?(r.current=[(t.superclass||e.nilAsClass).fn.prototype._new.call(r)][0],r.current):(r._deprecatedAPI(),r.current)}}),a.SmalltalkImage.a$cls),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["current","at:put:","globals"]},function(e){return function(){var e,t=this;return e=this._current(),s(s(e)._globals())._at_put_("Smalltalk",e),t}}),a.SmalltalkImage.a$cls),n.addMethod(n.method({selector:"new",protocol:"instance creation",pragmas:[],messageSends:["shouldNotImplement"]},function(e){return function(){var e=this;return this._shouldNotImplement(),e}}),a.SmalltalkImage.a$cls),n.setTraitComposition([{trait:a.TIsInGroup},{trait:a.TThenable}],a.JSObjectProxy),n.addMethod(n.method({selector:"nextPutJSObject:",protocol:"*Kernel-Infrastructure",pragmas:[],messageSends:["nextPut:"]},function(e){return function(e){var t=this;return this._nextPut_(e),t}}),a.ProtoStream),n.addMethod(n.method({selector:"asJavaScriptPropertyName",protocol:"*Kernel-Infrastructure",pragmas:[["inlineJS:",["return $core.st2prop(self)"]]],messageSends:[]},function(e){return function(){var e=this;return n.st2prop(e)}}),a.String),n.addMethod(n.method({selector:"asSetting",protocol:"*Kernel-Infrastructure",pragmas:[],messageSends:["at:ifAbsent:"]},function(e){return function(){var e=this;return s(a.Setting)._at_ifAbsent_(e,r)}}),a.String),n.addMethod(n.method({selector:"asSettingIfAbsent:",protocol:"*Kernel-Infrastructure",pragmas:[],messageSends:["at:ifAbsent:"]},function(e){return function(e){var t=this;return s(a.Setting)._at_ifAbsent_(t,e)}}),a.String),n.addMethod(n.method({selector:"settingValue",protocol:"*Kernel-Infrastructure",pragmas:[],messageSends:["value","asSetting"]},function(e){return function(){return s(this._asSetting())._value()}}),a.String),n.addMethod(n.method({selector:"settingValue:",protocol:"*Kernel-Infrastructure",pragmas:[],messageSends:["value:","asSetting"]},function(e){return function(e){return s(this._asSetting())._value_(e)}}),a.String),n.addMethod(n.method({selector:"settingValueIfAbsent:",protocol:"*Kernel-Infrastructure",pragmas:[],messageSends:["value","asSettingIfAbsent:"]},function(e){return function(e){return s(this._asSettingIfAbsent_(e))._value()}}),a.String)}),define("amber/core/Kernel-Exceptions",["amber/boot","require","amber/core/Kernel-Objects"],function(e,t){"use strict";var n=e.api,r=(e.nilAsValue,e.nilAsReceiver,e.asReceiver),o=e.globals;n.addPackage("Kernel-Exceptions").transport={type:"amd",amdNamespace:"amber/core"},n.addClass("Error",o.Object,"Kernel-Exceptions"),n.setSlots(o.Error,["message","stack","amberHandled","context","smalltalkError"]),n.addMethod(n.method({selector:"basicSignal",protocol:"private",pragmas:[["inlineJS:",["throw self;"]]],messageSends:[]},function(e){return function(){var e=this;throw e}}),o.Error),n.addMethod(n.method({selector:"beHandled",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){var e=this;return this.amberHandled=!0,e}}),o.Error),n.addMethod(n.method({selector:"beUnhandled",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){var e=this;return this.amberHandled=!1,e}}),o.Error),n.addMethod(n.method({selector:"context",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.context}}),o.Error),n.addMethod(n.method({selector:"context:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.context=e,t}}),o.Error),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["messageText:",",","name","class"]},function(e){return function(){var e=this,t=this;return t._messageText_("Errorclass: ".__comma(r(t._class())._name())),e}}),o.Error),n.addMethod(n.method({selector:"isError",protocol:"testing",pragmas:[],messageSends:[]},function(e){return function(){return!0}}),o.Error),n.addMethod(n.method({selector:"jsStack",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.stack}}),o.Error),n.addMethod(n.method({selector:"messageText",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.message}}),o.Error),n.addMethod(n.method({selector:"messageText:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.message=e,t}}),o.Error),n.addMethod(n.method({selector:"outer",protocol:"signaling",pragmas:[],messageSends:["pass"]},function(e){return function(){return this._pass()}}),o.Error),n.addMethod(n.method({selector:"pass",protocol:"signaling",pragmas:[],messageSends:["beUnhandled","basicSignal"]},function(e){return function(){var e=this,t=this;return t._beUnhandled(),t._basicSignal(),e}}),o.Error),n.addMethod(n.method({selector:"resignal",protocol:"signaling",pragmas:[],messageSends:["deprecatedAPI:","pass"]},function(e){return function(){var e=this;return e._deprecatedAPI_("Use #pass."),e._pass()}}),o.Error),n.addMethod(n.method({selector:"signal",protocol:"signaling",pragmas:[],messageSends:["beUnhandled","context:","basicSignal"]},function(e){return function(){var e=this,t=this;return t._beUnhandled(),t._context_(n.getThisContext()),t._basicSignal(),e}}),o.Error),n.addMethod(n.method({selector:"signal:",protocol:"signaling",pragmas:[],messageSends:["messageText:","signal"]},function(e){return function(e){var t=this,n=this;return n._messageText_(e),n._signal(),t}}),o.Error),n.addMethod(n.method({selector:"signalerContext",protocol:"accessing",pragmas:[],messageSends:["signalerContextFrom:","context"]},function(e){return function(){var e=this;return e._signalerContextFrom_(e._context())}}),o.Error),n.addMethod(n.method({selector:"signalerContextFrom:",protocol:"accessing",pragmas:[],messageSends:["findContextSuchThat:","not","or:","==","receiver","class"]},function(e){return function(e){var t,o=this,s=this;return r(e)._findContextSuchThat_(function(e){return t=!!n.assert([r([r(e)._receiver()][0]).__eq_eq(o)][0])||r(r(e)._receiver()).__eq_eq(s._class()),r(t)._not()})}}),o.Error),n.addMethod(n.method({selector:"wasHandled",protocol:"testing",pragmas:[],messageSends:["=="]},function(e){return function(){return r(this.amberHandled).__eq_eq(!0)}}),o.Error),n.addMethod(n.method({selector:"classTag",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return"exception"}}),o.Error.a$cls),n.addMethod(n.method({selector:"signal",protocol:"instance creation",pragmas:[],messageSends:["signal","new"]},function(e){return function(){return r(this._new())._signal()}}),o.Error.a$cls),n.addMethod(n.method({selector:"signal:",protocol:"instance creation",pragmas:[],messageSends:["signal:","new"]},function(e){return function(e){return r(this._new())._signal_(e)}}),o.Error.a$cls),n.addClass("Halt",o.Error,"Kernel-Exceptions"),n.addMethod(n.method({selector:"messageText",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return"Halt encountered"}}),o.Halt),n.addMethod(n.method({selector:"signalerContextFrom:",protocol:"accessing",pragmas:[],messageSends:["findContextSuchThat:","not","or:","==","receiver","class","=","selector","method"]},function(e){return function(e){var t,o=this,s=this;return r(e)._findContextSuchThat_(function(e){return t=!!n.assert([r([r(e)._receiver()][0]).__eq_eq(o)][0])||!!n.assert(r(r(e)._receiver()).__eq_eq(s._class()))||r(r(r(e)._method())._selector()).__eq("halt"),r(t)._not()})}}),o.Halt),n.addClass("JavaScriptException",o.Error,"Kernel-Exceptions"),n.setSlots(o.JavaScriptException,["exception"]),n.addMethod(n.method({selector:"exception",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.exception}}),o.JavaScriptException),n.addMethod(n.method({selector:"exception:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.exception=e,t}}),o.JavaScriptException),n.addMethod(n.method({selector:"messageText",protocol:"accessing",pragmas:[["inlineJS:",['return "JavaScript exception: " + $self.exception.toString()']]],messageSends:[]},function(e){return function(){return"JavaScript exception: "+this.exception.toString()}}),o.JavaScriptException),n.addMethod(n.method({selector:"on:",protocol:"instance creation",pragmas:[],messageSends:["exception:","new","yourself"]},function(e){return function(e){var t;return t=this._new(),r(t)._exception_(e),r(t)._yourself()}}),o.JavaScriptException.a$cls),n.addMethod(n.method({selector:"on:context:",protocol:"instance creation",pragmas:[],messageSends:["exception:","new","context:","yourself"]},function(e){return function(e,t){var n;return n=this._new(),r(n)._exception_(e),r(n)._context_(t),r(n)._yourself()}}),o.JavaScriptException.a$cls),n.addClass("MessageNotUnderstood",o.Error,"Kernel-Exceptions"),n.setSlots(o.MessageNotUnderstood,["smalltalkMessage","receiver"]),n.addMethod(n.method({selector:"message",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.smalltalkMessage}}),o.MessageNotUnderstood),n.addMethod(n.method({selector:"message:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.smalltalkMessage=e,t}}),o.MessageNotUnderstood),n.addMethod(n.method({selector:"messageText",protocol:"accessing",pragmas:[],messageSends:[",","asString","receiver","selector","message"]},function(e){return function(){var e=this;return[r(r(r(e._receiver())._asString()).__comma(" does not understand #")).__comma(r(e._message())._selector())][0]}}),o.MessageNotUnderstood),n.addMethod(n.method({selector:"receiver",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.receiver}}),o.MessageNotUnderstood),n.addMethod(n.method({selector:"receiver:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.receiver=e,t}}),o.MessageNotUnderstood),n.addClass("NonBooleanReceiver",o.Error,"Kernel-Exceptions"),n.setSlots(o.NonBooleanReceiver,["object"]),n.addMethod(n.method({selector:"object",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.object}}),o.NonBooleanReceiver),n.addMethod(n.method({selector:"object:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.object=e,t}}),o.NonBooleanReceiver),n.addMethod(n.method({selector:"signalOn:",protocol:"instance creation",pragmas:[],messageSends:["object:","new","signal"]},function(e){return function(e){var t;return t=this._new(),r(t)._object_(e),r(t)._signal()}}),o.NonBooleanReceiver.a$cls)}),define("amber/core/Kernel-Announcements",["amber/boot","require","amber/core/Kernel-Objects"],function(e,t){"use strict";var n=e.api,r=e.nilAsValue,o=(e.nilAsReceiver,e.asReceiver),s=e.globals;n.addPackage("Kernel-Announcements").transport={type:"amd",amdNamespace:"amber/core"},n.addClass("AnnouncementSubscription",s.Object,"Kernel-Announcements"),n.setSlots(s.AnnouncementSubscription,["valuable","announcementClass"]),n.addMethod(n.method({selector:"announcementClass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.announcementClass}}),s.AnnouncementSubscription),n.addMethod(n.method({selector:"announcementClass:",protocol:"accessing",pragmas:[],messageSends:["at:","globals","name"]},function(e){return function(e){var t=this;return this.announcementClass=o(o(s.Smalltalk)._globals())._at_(o(e)._name()),t}}),s.AnnouncementSubscription),n.addMethod(n.method({selector:"deliver:",protocol:"announcing",pragmas:[],messageSends:["ifTrue:","handlesAnnouncement:","value:","valuable"]},function(e){return function(e){var t=this,r=this;return n.assert(r._handlesAnnouncement_(e))&&o(r._valuable())._value_(e),t}}),s.AnnouncementSubscription),n.addMethod(n.method({selector:"handlesAnnouncement:",protocol:"announcing",pragmas:[],messageSends:["includesBehavior:","at:","globals","name","class","announcementClass"]},function(e){return function(e){var t=this;return o(o(o(s.Smalltalk)._globals())._at_(o(o(e)._class())._name()))._includesBehavior_(t._announcementClass())}}),s.AnnouncementSubscription),n.addMethod(n.method({selector:"receiver",protocol:"accessing",pragmas:[],messageSends:["receiver","valuable"]},function(e){return function(){return o(this._valuable())._receiver()}}),s.AnnouncementSubscription),n.addMethod(n.method({selector:"valuable",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.valuable}}),s.AnnouncementSubscription),n.addMethod(n.method({selector:"valuable:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.valuable=e,t}}),s.AnnouncementSubscription),n.addClass("AnnouncementValuable",s.Object,"Kernel-Announcements"),n.setSlots(s.AnnouncementValuable,["valuable","receiver"]),n.addMethod(n.method({selector:"receiver",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.receiver}}),s.AnnouncementValuable),n.addMethod(n.method({selector:"receiver:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.receiver=e,t}}),s.AnnouncementValuable),n.addMethod(n.method({selector:"valuable",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.valuable}}),s.AnnouncementValuable),n.addMethod(n.method({selector:"valuable:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.valuable=e,t}}),s.AnnouncementValuable),n.addMethod(n.method({selector:"value",protocol:"evaluating",pragmas:[],messageSends:["value","valuable"]},function(e){return function(){return o(this._valuable())._value()}}),s.AnnouncementValuable),n.addMethod(n.method({selector:"value:",protocol:"evaluating",pragmas:[],messageSends:["value:","valuable"]},function(e){return function(e){return o(this._valuable())._value_(e)}}),s.AnnouncementValuable),n.addClass("Announcer",s.Object,"Kernel-Announcements"),n.setSlots(s.Announcer,["registry","subscriptions"]),n.addMethod(n.method({selector:"announce:",protocol:"announcing",pragmas:[],messageSends:["do:","deliver:"]},function(e){return function(e){var t=this;return o(this.subscriptions)._do_(function(t){return o(t)._deliver_(e)}),t}}),s.Announcer),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["initialize","new"]},function(t){return function(){var n=this,r=this;return(t.superclass||e.nilAsClass).fn.prototype._initialize.call(r),r.subscriptions=o(s.OrderedCollection)._new(),n}}),s.Announcer),n.addMethod(n.method({selector:"on:do:",protocol:"subscribing",pragmas:[],messageSends:["on:do:for:"]},function(e){return function(e,t){var n=this;return this._on_do_for_(e,t,r),n}}),s.Announcer),n.addMethod(n.method({selector:"on:do:for:",protocol:"subscribing",pragmas:[],messageSends:["add:","valuable:","new","receiver:","yourself","announcementClass:"]},function(e){return function(e,t,n){var r,a,i,c=this;return r=this.subscriptions,a=[o(s.AnnouncementSubscription)._new()][0],i=o(s.AnnouncementValuable)._new(),o(i)._valuable_(t),o(i)._receiver_(n),o(a)._valuable_([o(i)._yourself()][0]),o(a)._announcementClass_(e),o(r)._add_(o(a)._yourself()),c}}),s.Announcer),n.addMethod(n.method({selector:"on:doOnce:",protocol:"subscribing",pragmas:[],messageSends:["announcementClass:","new","yourself","valuable:","remove:","value:","add:"]},function(e){return function(e,t){var n,r,a=this,i=this;return r=o(s.AnnouncementSubscription)._new(),o(r)._announcementClass_(e),n=o(r)._yourself(),o(n)._valuable_(function(e){return o(i.subscriptions)._remove_(n),o(t)._value_(e)}),o(i.subscriptions)._add_(n),a}}),s.Announcer),n.addMethod(n.method({selector:"on:send:to:",protocol:"subscribing",pragmas:[],messageSends:["add:","valuable:","new","receiver:","selector:","yourself","announcementClass:"]},function(e){return function(e,t,n){var r,a,i,c=this;return r=this.subscriptions,a=[o(s.AnnouncementSubscription)._new()][0],i=o(s.MessageSend)._new(),o(i)._receiver_(n),o(i)._selector_(t),o(a)._valuable_([o(i)._yourself()][0]),o(a)._announcementClass_(e),o(r)._add_(o(a)._yourself()),c}}),s.Announcer),n.addMethod(n.method({selector:"unsubscribe:",protocol:"subscribing",pragmas:[],messageSends:["reject:","=","receiver"]},function(e){return function(e){var t=this,n=this;return n.subscriptions=o(n.subscriptions)._reject_(function(t){return o(o(t)._receiver()).__eq(e)}),t}}),s.Announcer),n.addClass("SystemAnnouncer",s.Announcer,"Kernel-Announcements"),n.setSlots(s.SystemAnnouncer.a$cls,["current"]),n.addMethod(n.method({selector:"current",protocol:"accessing",pragmas:[],messageSends:["ifNil:","new"]},function(t){return function(){var n,r=this;return n=r.current,null==n||n.a$nil?(r.current=[(t.superclass||e.nilAsClass).fn.prototype._new.call(r)][0],r.current):n}}),s.SystemAnnouncer.a$cls),n.addMethod(n.method({selector:"new",protocol:"instance creation",pragmas:[],messageSends:["shouldNotImplement"]},function(e){return function(){var e=this;return this._shouldNotImplement(),e}}),s.SystemAnnouncer.a$cls),n.addClass("SystemAnnouncement",s.Object,"Kernel-Announcements"),n.addMethod(n.method({selector:"classTag",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return"announcement"}}),s.SystemAnnouncement.a$cls),n.addClass("ClassAnnouncement",s.SystemAnnouncement,"Kernel-Announcements"),n.setSlots(s.ClassAnnouncement,["theClass"]),n.addMethod(n.method({selector:"theClass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.theClass}}),s.ClassAnnouncement),n.addMethod(n.method({selector:"theClass:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.theClass=e,t}}),s.ClassAnnouncement),n.addClass("ClassAdded",s.ClassAnnouncement,"Kernel-Announcements"),n.addClass("ClassCommentChanged",s.ClassAnnouncement,"Kernel-Announcements"),n.addClass("ClassDefinitionChanged",s.ClassAnnouncement,"Kernel-Announcements"),n.addClass("ClassMigrated",s.ClassAnnouncement,"Kernel-Announcements"),n.setSlots(s.ClassMigrated,["oldClass"]),n.addMethod(n.method({selector:"oldClass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.oldClass}}),s.ClassMigrated),n.addMethod(n.method({selector:"oldClass:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.oldClass=e,t}}),s.ClassMigrated),n.addClass("ClassMoved",s.ClassAnnouncement,"Kernel-Announcements"),n.setSlots(s.ClassMoved,["oldPackage"]),n.addMethod(n.method({selector:"oldPackage",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.oldPackage}}),s.ClassMoved),n.addMethod(n.method({selector:"oldPackage:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.oldPackage=e,t}}),s.ClassMoved),n.addClass("ClassRemoved",s.ClassAnnouncement,"Kernel-Announcements"),n.addClass("ClassRenamed",s.ClassAnnouncement,"Kernel-Announcements"),n.addClass("MethodAnnouncement",s.SystemAnnouncement,"Kernel-Announcements"),n.setSlots(s.MethodAnnouncement,["method"]),n.addMethod(n.method({selector:"method",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.method}}),s.MethodAnnouncement),n.addMethod(n.method({selector:"method:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.method=e,t}}),s.MethodAnnouncement),n.addClass("MethodAdded",s.MethodAnnouncement,"Kernel-Announcements"),n.addClass("MethodModified",s.MethodAnnouncement,"Kernel-Announcements"),n.setSlots(s.MethodModified,["oldMethod"]),n.addMethod(n.method({selector:"oldMethod",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.oldMethod}}),s.MethodModified),n.addMethod(n.method({selector:"oldMethod:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.oldMethod=e,t}}),s.MethodModified),n.addClass("MethodMoved",s.MethodAnnouncement,"Kernel-Announcements"),n.setSlots(s.MethodMoved,["oldProtocol"]),n.addMethod(n.method({selector:"oldProtocol",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.oldProtocol}}),s.MethodMoved),n.addMethod(n.method({selector:"oldProtocol:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.oldProtocol=e,t}}),s.MethodMoved),n.addClass("MethodRemoved",s.MethodAnnouncement,"Kernel-Announcements"),n.addClass("PackageAnnouncement",s.SystemAnnouncement,"Kernel-Announcements"),n.setSlots(s.PackageAnnouncement,["package"]),n.addMethod(n.method({selector:"package",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.package}}),s.PackageAnnouncement),n.addMethod(n.method({selector:"package:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.package=e,t}}),s.PackageAnnouncement),n.addClass("PackageAdded",s.PackageAnnouncement,"Kernel-Announcements"),n.addClass("PackageClean",s.PackageAnnouncement,"Kernel-Announcements"),
n.addClass("PackageDirty",s.PackageAnnouncement,"Kernel-Announcements"),n.addClass("PackageRemoved",s.PackageAnnouncement,"Kernel-Announcements"),n.addClass("ProtocolAnnouncement",s.SystemAnnouncement,"Kernel-Announcements"),n.setSlots(s.ProtocolAnnouncement,["theClass","protocol"]),n.addMethod(n.method({selector:"package",protocol:"accessing",pragmas:[],messageSends:["ifNotNil:","theClass","packageOfProtocol:","protocol"]},function(e){return function(){var e,t=this;if(null==(e=t._theClass())||e.a$nil)return e;var n;return n=e,o(n)._packageOfProtocol_(t._protocol())}}),s.ProtocolAnnouncement),n.addMethod(n.method({selector:"protocol",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.protocol}}),s.ProtocolAnnouncement),n.addMethod(n.method({selector:"protocol:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.protocol=e,t}}),s.ProtocolAnnouncement),n.addMethod(n.method({selector:"theClass",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.theClass}}),s.ProtocolAnnouncement),n.addMethod(n.method({selector:"theClass:",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.theClass=e,t}}),s.ProtocolAnnouncement),n.addClass("ProtocolAdded",s.ProtocolAnnouncement,"Kernel-Announcements"),n.addClass("ProtocolRemoved",s.ProtocolAnnouncement,"Kernel-Announcements")}),define("amber/core/Platform-Services",["amber/boot","require","amber/core/Kernel-Collections","amber/core/Kernel-Infrastructure","amber/core/Kernel-Methods","amber/core/Kernel-Objects"],function(e,t){"use strict";var n=e.api,r=(e.nilAsValue,e.nilAsReceiver,e.asReceiver),o=e.globals;n.addPackage("Platform-Services").transport={type:"amd",amdNamespace:"amber/core"},n.addClass("ConsoleErrorHandler",o.Object,"Platform-Services"),n.addMethod(n.method({selector:"handleError:",protocol:"error handling",pragmas:[],messageSends:["ifNotNil:","context","logErrorContext:","logError:"]},function(e){return function(e){var t,n=this,o=this;return t=[r(e)._context()][0],null==t||t.a$nil||o._logErrorContext_(r(e)._context()),o._logError_(e),n}}),o.ConsoleErrorHandler),n.addMethod(n.method({selector:"log:",protocol:"private",pragmas:[],messageSends:["log:"]},function(e){return function(e){var t=this;return r(console)._log_(e),t}}),o.ConsoleErrorHandler),n.addMethod(n.method({selector:"logContext:",protocol:"private",pragmas:[],messageSends:["ifNotNil:","home","logContext:","log:","asString"]},function(e){return function(e){var t,n=this,o=this;return t=[r(e)._home()][0],null==t||t.a$nil||o._logContext_(r(e)._home()),o._log_(r(e)._asString()),n}}),o.ConsoleErrorHandler),n.addMethod(n.method({selector:"logError:",protocol:"private",pragmas:[],messageSends:["log:","messageText"]},function(e){return function(e){var t=this;return this._log_(r(e)._messageText()),t}}),o.ConsoleErrorHandler),n.addMethod(n.method({selector:"logErrorContext:",protocol:"private",pragmas:[],messageSends:["ifNotNil:","home","logContext:"]},function(e){return function(e){var t,n=this,o=this;return null==e||e.a$nil||null==(t=[r(e)._home()][0])||t.a$nil||o._logContext_(r(e)._home()),n}}),o.ConsoleErrorHandler),n.setSlots(o.ConsoleErrorHandler.a$cls,["current"]),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["registerIfNone:","new"]},function(e){return function(){var e=this,t=this;return r(o.ErrorHandler)._registerIfNone_(t._new()),e}}),o.ConsoleErrorHandler.a$cls),n.addClass("ConsoleTranscript",o.Object,"Platform-Services"),n.setSlots(o.ConsoleTranscript,["textarea"]),n.addMethod(n.method({selector:"clear",protocol:"printing",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.ConsoleTranscript),n.addMethod(n.method({selector:"cr",protocol:"printing",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.ConsoleTranscript),n.addMethod(n.method({selector:"open",protocol:"actions",pragmas:[],messageSends:[]},function(e){return function(){return this}}),o.ConsoleTranscript),n.addMethod(n.method({selector:"show:",protocol:"printing",pragmas:[["inlineJS:",["console.log(String($recv(anObject)._asString()))"]]],messageSends:[]},function(e){return function(e){var t=this;return console.log(String(r(e)._asString())),t}}),o.ConsoleTranscript),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["registerIfNone:","new"]},function(e){return function(){var e=this,t=this;return r(o.Transcript)._registerIfNone_(t._new()),e}}),o.ConsoleTranscript.a$cls),n.addClass("Environment",o.Object,"Platform-Services"),n.addMethod(n.method({selector:"addInstVarNamed:to:",protocol:"compiling",pragmas:[],messageSends:["copyWith:","slots","ifTrue:ifFalse:","isMetaclass","class:slots:","classBuilder","addSubclassOf:named:slots:package:","superclass","name","package"]},function(e){return function(e,t){var o,s=this,a=this;return o=r(r(t)._slots())._copyWith_(e),n.assert(r(t)._isMetaclass())?r([a._classBuilder()][0])._class_slots_(t,o):r(a._classBuilder())._addSubclassOf_named_slots_package_(r(t)._superclass(),[r(t)._name()][0],o,r(r(t)._package())._name()),s}}),o.Environment),n.addMethod(n.method({selector:"allSelectors",protocol:"accessing",pragmas:[],messageSends:["allSelectors","core"]},function(e){return function(){return r(r(o.Smalltalk)._core())._allSelectors()}}),o.Environment),n.addMethod(n.method({selector:"availableClassNames",protocol:"accessing",pragmas:[],messageSends:["collect:","classes","name"]},function(e){return function(){return r(r(o.Smalltalk)._classes())._collect_(function(e){return r(e)._name()})}}),o.Environment),n.addMethod(n.method({selector:"availablePackageNames",protocol:"accessing",pragmas:[],messageSends:["collect:","packages","name"]},function(e){return function(){return r(r(o.Smalltalk)._packages())._collect_(function(e){return r(e)._name()})}}),o.Environment),n.addMethod(n.method({selector:"availableProtocolsFor:",protocol:"accessing",pragmas:[],messageSends:["protocols","ifNotNil:","superclass","addAll:","availableProtocolsFor:","sort","asArray","asSet"]},function(e){return function(e){var t,n,o=this;return t=r(e)._protocols(),n=[r(e)._superclass()][0],null==n||n.a$nil||r(t)._addAll_(o._availableProtocolsFor_(r(e)._superclass())),r(r(r(t)._asSet())._asArray())._sort()}}),o.Environment),n.addMethod(n.method({selector:"classBuilder",protocol:"accessing",pragmas:[],messageSends:["new"]},function(e){return function(){return r(o.ClassBuilder)._new()}}),o.Environment),n.addMethod(n.method({selector:"classNamed:",protocol:"accessing",pragmas:[],messageSends:["ifNil:","at:","globals","asSymbol","error:"]},function(e){return function(e){var t,n=this;return t=r(r(o.Smalltalk)._globals())._at_(r(e)._asSymbol()),null==t||t.a$nil?n._error_("Invalid class name"):t}}),o.Environment),n.addMethod(n.method({selector:"classes",protocol:"accessing",pragmas:[],messageSends:["classes"]},function(e){return function(){return r(o.Smalltalk)._classes()}}),o.Environment),n.addMethod(n.method({selector:"commitPackage:onSuccess:onError:",protocol:"actions",pragmas:[],messageSends:["commitOnSuccess:onError:","transport"]},function(e){return function(e,t,n){var o=this;return r(r(e)._transport())._commitOnSuccess_onError_(t,n),o}}),o.Environment),n.addMethod(n.method({selector:"compileClassComment:for:",protocol:"compiling",pragmas:[],messageSends:["comment:"]},function(e){return function(e,t){var n=this;return r(t)._comment_(e),n}}),o.Environment),n.addMethod(n.method({selector:"compileClassDefinition:",protocol:"compiling",pragmas:[],messageSends:["on:do:","evaluate:for:","new","alert:","messageText"]},function(e){return function(e){var t=this,n=this;return r(function(){return n._evaluate_for_(e,r(o.DoIt)._new())})._on_do_(o.Error,function(e){return r(o.Terminal)._alert_(r(e)._messageText())}),t}}),o.Environment),n.addMethod(n.method({selector:"compileMethod:for:protocol:",protocol:"compiling",pragmas:[],messageSends:["compile:protocol:"]},function(e){return function(e,t,n){return r(t)._compile_protocol_(e,n)}}),o.Environment),n.addMethod(n.method({selector:"copyClass:to:",protocol:"actions",pragmas:[],messageSends:["ifNotNil:","at:","globals","error:",",","copyClass:named:","new"]},function(e){return function(e,t){var n,s=this,a=this;return n=r(r(o.Smalltalk)._globals())._at_(t),null==n||n.a$nil||a._error_([r("A class named ".__comma(t)).__comma(" already exists")][0]),r(r(o.ClassBuilder)._new())._copyClass_named_(e,t),s}}),o.Environment),n.addMethod(n.method({selector:"doItReceiver",protocol:"accessing",pragmas:[],messageSends:["new"]},function(e){return function(){return r(o.DoIt)._new()}}),o.Environment),n.addMethod(n.method({selector:"evaluate:for:",protocol:"evaluating",pragmas:[],messageSends:["evaluate:for:"]},function(e){return function(e,t){return r(o.Evaluator)._evaluate_for_(e,t)}}),o.Environment),n.addMethod(n.method({selector:"evaluate:on:do:",protocol:"error handling",pragmas:[],messageSends:["on:do:","classNamed:","name"]},function(e){return function(e,t,n){var o=this;return r(e)._on_do_(o._classNamed_(r(t)._name()),n)}}),o.Environment),n.addMethod(n.method({selector:"inspect:",protocol:"actions",pragmas:[],messageSends:["inspect:"]},function(e){return function(e){var t=this;return r(o.Inspector)._inspect_(e),t}}),o.Environment),n.addMethod(n.method({selector:"moveClass:toPackage:",protocol:"actions",pragmas:[],messageSends:["named:","ifNil:","error:","ifTrue:","==","package","package:","recompile"]},function(e){return function(e,t){var s,a,i=this,c=this;return s=r(o.Package)._named_(t),a=s,(null==a||a.a$nil)&&c._error_("Invalid package name"),n.assert(r(s).__eq_eq(r(e)._package()))?i:(r(e)._package_(s),r(e)._recompile(),i)}}),o.Environment),n.addMethod(n.method({selector:"moveMethod:toClass:",protocol:"actions",pragmas:[],messageSends:["classNamed:","ifTrue:","==","origin","isMetaclass","theMetaClass","compile:protocol:","source","protocol","removeCompiledMethod:"]},function(e){return function(e,t){var o,s=this;return o=this._classNamed_(t),n.assert(r(o).__eq_eq([r(e)._origin()][0]))?s:(n.assert(r([r(e)._origin()][0])._isMetaclass())&&(o=r(o)._theMetaClass()),r(o)._compile_protocol_(r(e)._source(),r(e)._protocol()),r(r(e)._origin())._removeCompiledMethod_(e),s)}}),o.Environment),n.addMethod(n.method({selector:"moveMethod:toProtocol:",protocol:"actions",pragmas:[],messageSends:["protocol:","compile:protocol:","origin","source","protocol"]},function(e){return function(e,t){var n=this;return r(e)._protocol_(t),r(r(e)._origin())._compile_protocol_(r(e)._source(),r(e)._protocol()),n}}),o.Environment),n.addMethod(n.method({selector:"packages",protocol:"accessing",pragmas:[],messageSends:["packages"]},function(e){return function(){return r(o.Smalltalk)._packages()}}),o.Environment),n.addMethod(n.method({selector:"registerErrorHandler:",protocol:"services",pragmas:[],messageSends:["register:"]},function(e){return function(e){var t=this;return r(o.ErrorHandler)._register_(e),t}}),o.Environment),n.addMethod(n.method({selector:"registerFinder:",protocol:"services",pragmas:[],messageSends:["register:"]},function(e){return function(e){var t=this;return r(o.Finder)._register_(e),t}}),o.Environment),n.addMethod(n.method({selector:"registerInspector:",protocol:"services",pragmas:[],messageSends:["register:"]},function(e){return function(e){var t=this;return r(o.Inspector)._register_(e),t}}),o.Environment),n.addMethod(n.method({selector:"registerProgressHandler:",protocol:"services",pragmas:[],messageSends:["register:"]},function(e){return function(e){var t=this;return r(o.ProgressHandler)._register_(e),t}}),o.Environment),n.addMethod(n.method({selector:"registerTranscript:",protocol:"services",pragmas:[],messageSends:["register:"]},function(e){return function(e){var t=this;return r(o.Transcript)._register_(e),t}}),o.Environment),n.addMethod(n.method({selector:"removeClass:",protocol:"actions",pragmas:[],messageSends:["removeClass:"]},function(e){return function(e){var t=this;return r(o.Smalltalk)._removeClass_(e),t}}),o.Environment),n.addMethod(n.method({selector:"removeMethod:",protocol:"actions",pragmas:[],messageSends:["removeCompiledMethod:","origin"]},function(e){return function(e){var t=this;return r(r(e)._origin())._removeCompiledMethod_(e),t}}),o.Environment),n.addMethod(n.method({selector:"removeProtocol:from:",protocol:"actions",pragmas:[],messageSends:["do:","methodsInProtocol:","removeCompiledMethod:"]},function(e){return function(e,t){var n=this;return r(r(t)._methodsInProtocol_(e))._do_(function(e){return r(t)._removeCompiledMethod_(e)}),n}}),o.Environment),n.addMethod(n.method({selector:"renameClass:to:",protocol:"actions",pragmas:[],messageSends:["ifNotNil:","at:","globals","error:",",","renameClass:to:","new"]},function(e){return function(e,t){var n,s=this,a=this;return n=r(r(o.Smalltalk)._globals())._at_(t),null==n||n.a$nil||a._error_([r("A class named ".__comma(t)).__comma(" already exists")][0]),r(r(o.ClassBuilder)._new())._renameClass_to_(e,t),s}}),o.Environment),n.addMethod(n.method({selector:"renamePackage:to:",protocol:"actions",pragmas:[],messageSends:["renamePackage:to:"]},function(e){return function(e,t){var n=this;return r(o.Smalltalk)._renamePackage_to_(e,t),n}}),o.Environment),n.addMethod(n.method({selector:"renameProtocol:to:in:",protocol:"actions",pragmas:[],messageSends:["do:","methodsInProtocol:","protocol:"]},function(e){return function(e,t,n){var o=this;return r(r(n)._methodsInProtocol_(e))._do_(function(e){return r(e)._protocol_(t)}),o}}),o.Environment),n.addMethod(n.method({selector:"setClassCommentOf:to:",protocol:"actions",pragmas:[],messageSends:["comment:"]},function(e){return function(e,t){var n=this;return r(e)._comment_(t),n}}),o.Environment),n.addMethod(n.method({selector:"systemAnnouncer",protocol:"accessing",pragmas:[],messageSends:["current","at:","globals"]},function(e){return function(){return r(r(r(o.Smalltalk)._globals())._at_("SystemAnnouncer"))._current()}}),o.Environment),n.addClass("NullProgressHandler",o.Object,"Platform-Services"),n.addMethod(n.method({selector:"do:on:displaying:",protocol:"progress handling",pragmas:[],messageSends:["do:"]},function(e){return function(e,t,n){var o=this;return r(t)._do_(e),o}}),o.NullProgressHandler),n.setSlots(o.NullProgressHandler.a$cls,["current"]),n.addMethod(n.method({selector:"initialize",protocol:"initialization",pragmas:[],messageSends:["registerIfNone:","new"]},function(e){return function(){var e=this,t=this;return r(o.ProgressHandler)._registerIfNone_(t._new()),e}}),o.NullProgressHandler.a$cls),n.addClass("Service",o.Object,"Platform-Services"),n.setSlots(o.Service.a$cls,["current"]),n.addMethod(n.method({selector:"current",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return this.current}}),o.Service.a$cls),n.addMethod(n.method({selector:"new",protocol:"instance creation",pragmas:[],messageSends:["shouldNotImplement"]},function(e){return function(){var e=this;return this._shouldNotImplement(),e}}),o.Service.a$cls),n.addMethod(n.method({selector:"register:",protocol:"registration",pragmas:[],messageSends:[]},function(e){return function(e){var t=this;return this.current=e,t}}),o.Service.a$cls),n.addMethod(n.method({selector:"registerIfNone:",protocol:"registration",pragmas:[],messageSends:["ifNil:","current","register:"]},function(e){return function(e){var t,n=this,r=this;return t=r._current(),(null==t||t.a$nil)&&r._register_(e),n}}),o.Service.a$cls),n.addClass("ErrorHandler",o.Service,"Platform-Services"),n.addMethod(n.method({selector:"handleError:",protocol:"error handling",pragmas:[],messageSends:["asSmalltalkException:","ifNil:","context","context:","handleUnhandledError:"]},function(e){return function(e){var t,s,a=this,i=this;return t=r(o.Smalltalk)._asSmalltalkException_(e),s=r(t)._context(),(null==s||s.a$nil)&&r(t)._context_(n.getThisContext()),i._handleUnhandledError_(t),a}}),o.ErrorHandler.a$cls),n.addMethod(n.method({selector:"handleUnhandledError:",protocol:"error handling",pragmas:[],messageSends:["ifFalse:","wasHandled","handleError:","current","beHandled"]},function(e){return function(e){var t=this,o=this;return n.assert(r(e)._wasHandled())||(r(o._current())._handleError_(e),r(e)._beHandled()),t}}),o.ErrorHandler.a$cls),n.addClass("Finder",o.Service,"Platform-Services"),n.addMethod(n.method({selector:"findClass:",protocol:"finding",pragmas:[],messageSends:["findClass:","current"]},function(e){return function(e){return r(this._current())._findClass_(e)}}),o.Finder.a$cls),n.addMethod(n.method({selector:"findMethod:",protocol:"finding",pragmas:[],messageSends:["findMethod:","current"]},function(e){return function(e){return r(this._current())._findMethod_(e)}}),o.Finder.a$cls),n.addMethod(n.method({selector:"findString:",protocol:"finding",pragmas:[],messageSends:["findString:","current"]},function(e){return function(e){return r(this._current())._findString_(e)}}),o.Finder.a$cls),n.addClass("Inspector",o.Service,"Platform-Services"),n.addMethod(n.method({selector:"inspect:",protocol:"inspecting",pragmas:[],messageSends:["inspect:","current"]},function(e){return function(e){return r(this._current())._inspect_(e)}}),o.Inspector.a$cls),n.addClass("Platform",o.Service,"Platform-Services"),n.addMethod(n.method({selector:"fetch:",protocol:"accessing",pragmas:[],messageSends:["fetch:","current"]},function(e){return function(e){return r(this._current())._fetch_(e)}}),o.Platform.a$cls),n.addMethod(n.method({selector:"fetchUrl:options:",protocol:"accessing",pragmas:[],messageSends:["fetchUrl:options:","current"]},function(e){return function(e,t){return r(this._current())._fetchUrl_options_(e,t)}}),o.Platform.a$cls),n.addMethod(n.method({selector:"globals",protocol:"accessing",pragmas:[],messageSends:["globals","current"]},function(e){return function(){return r(this._current())._globals()}}),o.Platform.a$cls),n.addMethod(n.method({selector:"includesGlobal:",protocol:"testing",pragmas:[],messageSends:["at:ifPresent:ifAbsent:","globals"]},function(e){return function(e){return r(this._globals())._at_ifPresent_ifAbsent_(e,function(){return!0},function(){return!1})}}),o.Platform.a$cls),n.addMethod(n.method({selector:"newXhr",protocol:"accessing",pragmas:[],messageSends:["newXhr","current"]},function(e){return function(){return r(this._current())._newXhr()}}),o.Platform.a$cls),n.addClass("ProgressHandler",o.Service,"Platform-Services"),n.addMethod(n.method({selector:"do:on:displaying:",protocol:"progress handling",pragmas:[],messageSends:["do:on:displaying:","current"]},function(e){return function(e,t,n){var o=this;return r(this._current())._do_on_displaying_(e,t,n),o}}),o.ProgressHandler.a$cls),n.addClass("Terminal",o.Service,"Platform-Services"),n.addMethod(n.method({selector:"alert:",protocol:"dialogs",pragmas:[],messageSends:["alert:","current"]},function(e){return function(e){return r(this._current())._alert_(e)}}),o.Terminal.a$cls),n.addMethod(n.method({selector:"confirm:",protocol:"dialogs",pragmas:[],messageSends:["confirm:","current"]},function(e){return function(e){return r(this._current())._confirm_(e)}}),o.Terminal.a$cls),n.addMethod(n.method({selector:"prompt:",protocol:"dialogs",pragmas:[],messageSends:["prompt:","current"]},function(e){return function(e){return r(this._current())._prompt_(e)}}),o.Terminal.a$cls),n.addMethod(n.method({selector:"prompt:default:",protocol:"dialogs",pragmas:[],messageSends:["prompt:default:","current"]},function(e){return function(e,t){return r(this._current())._prompt_default_(e,t)}}),o.Terminal.a$cls),n.addClass("Transcript",o.Service,"Platform-Services"),n.addMethod(n.method({selector:"clear",protocol:"printing",pragmas:[],messageSends:["clear","current"]},function(e){return function(){var e=this;return r(this._current())._clear(),e}}),o.Transcript.a$cls),n.addMethod(n.method({selector:"cr",protocol:"printing",pragmas:[],messageSends:["show:","current","cr"]},function(e){return function(){var e=this;return r(this._current())._show_(r(o.String)._cr()),e}}),o.Transcript.a$cls),n.addMethod(n.method({selector:"inspect:",protocol:"printing",pragmas:[],messageSends:["show:"]},function(e){return function(e){var t=this;return this._show_(e),t}}),o.Transcript.a$cls),n.addMethod(n.method({selector:"open",protocol:"instance creation",pragmas:[],messageSends:["open","current"]},function(e){return function(){var e=this;return r(this._current())._open(),e}}),o.Transcript.a$cls),n.addMethod(n.method({selector:"show:",protocol:"printing",pragmas:[],messageSends:["show:","current"]},function(e){return function(e){var t=this;return r(this._current())._show_(e),t}}),o.Transcript.a$cls),n.addMethod(n.method({selector:"inspectOn:",protocol:"*Platform-Services",pragmas:[],messageSends:["streamContents:","nextPut:","->","keys","nextPutAll:","associations","setLabel:","shortenedPrintString","setVariables:"]},function(e){return function(e){var t,n=this,s=this;return t=r(o.Array)._streamContents_(function(e){return r(e)._nextPut_(["#self".__minus_gt(n)][0]),r(e)._nextPut_("#keys".__minus_gt(s._keys())),r(e)._nextPutAll_(s._associations())}),r(e)._setLabel_(s._shortenedPrintString()),r(e)._setVariables_(t),n}}),o.AssociativeCollection),n.addMethod(n.method({selector:"inspectOn:",protocol:"*Platform-Services",pragmas:[],messageSends:["streamContents:","nextPut:","->","do:","+","setLabel:","shortenedPrintString","setVariables:"]},function(e){return function(e){var t,n=this,s=this;return t=r(o.Array)._streamContents_(function(e){var t;return r(e)._nextPut_(["#self".__minus_gt(n)][0]),t=1,s._do_(function(n){return r(e)._nextPut_(r(t).__minus_gt(n)),t=r(t).__plus(1)})}),r(e)._setLabel_(s._shortenedPrintString()),r(e)._setVariables_(t),n}}),o.Collection),n.addMethod(n.method({selector:"inspectOn:",protocol:"*Platform-Services",pragmas:[],messageSends:["streamContents:","nextPut:","->","year","month","day","hours","minutes","seconds","milliseconds","setLabel:","printString","setVariables:"]},function(e){return function(e){var t,n=this,s=this;return t=r(o.Array)._streamContents_(function(e){return r(e)._nextPut_(["#self".__minus_gt(n)][0]),r(e)._nextPut_(["#year".__minus_gt(s._year())][0]),r(e)._nextPut_(["#month".__minus_gt(s._month())][0]),r(e)._nextPut_(["#day".__minus_gt(s._day())][0]),r(e)._nextPut_(["#hours".__minus_gt(s._hours())][0]),r(e)._nextPut_(["#minutes".__minus_gt(s._minutes())][0]),r(e)._nextPut_(["#seconds".__minus_gt(s._seconds())][0]),r(e)._nextPut_("#milliseconds".__minus_gt(s._milliseconds()))}),r(e)._setLabel_(s._printString()),r(e)._setVariables_(t),n}}),o.Date),n.addMethod(n.method({selector:"inspectOn:",protocol:"*Platform-Services",pragmas:[],messageSends:["streamContents:","nextPut:","->","jsObject","nextPutAll:","associationsOfProxy:","setLabel:","printString","setVariables:"]},function(e){return function(e){var t,n=this,s=this;return t=r(o.Array)._streamContents_(function(e){return r(e)._nextPut_("#self".__minus_gt(s._jsObject())),r(e)._nextPutAll_(r(o.JSObjectProxy)._associationsOfProxy_(n))}),r(e)._setLabel_(s._printString()),r(e)._setVariables_(t),n}}),o.JSObjectProxy),n.addMethod(n.method({selector:"inspectOn:",protocol:"*Platform-Services",pragmas:[],messageSends:["streamContents:","nextPut:","->","do:","allInstanceVariableNames","class","instVarNamed:","setLabel:","printString","setVariables:"]},function(e){return function(e){var t,n=this,s=this;return t=r(o.Array)._streamContents_(function(e){return r(e)._nextPut_(["#self".__minus_gt(n)][0]),r(r(s._class())._allInstanceVariableNames())._do_(function(t){return r(e)._nextPut_(r(t).__minus_gt(s._instVarNamed_(t)))})}),r(e)._setLabel_(s._printString()),r(e)._setVariables_(t),n}}),o.Object),n.addMethod(n.method({selector:"do:displayingProgress:",protocol:"*Platform-Services",pragmas:[],messageSends:["do:on:displaying:"]},function(e){return function(e,t){var n=this;return r(o.ProgressHandler)._do_on_displaying_(e,n,t),n}}),o.SequenceableCollection),n.addMethod(n.method({selector:"inspectOn:",protocol:"*Platform-Services",pragmas:[],messageSends:["streamContents:","nextPut:","->","withIndexDo:","setLabel:","shortenedPrintString","setVariables:"]},function(e){return function(e){var t,n=this,s=this;return t=r(o.Array)._streamContents_(function(e){return r(e)._nextPut_(["#self".__minus_gt(n)][0]),s._withIndexDo_(function(t,n){return r(e)._nextPut_(r(n).__minus_gt(t))})}),r(e)._setLabel_(s._shortenedPrintString()),r(e)._setVariables_(t),n}}),o.SequenceableCollection),n.addMethod(n.method({selector:"inspectOn:",protocol:"*Platform-Services",pragmas:[],messageSends:["streamContents:","nextPut:","->","home","receiver","selector","locals","do:","instanceVariableNames","class","instVarNamed:","setLabel:","printString","setVariables:"]},function(e){return function(e){var t,n=this,s=this;return t=r(o.Array)._streamContents_(function(e){return r(e)._nextPut_(["#self".__minus_gt(n)][0]),r(e)._nextPut_(["#home".__minus_gt(s._home())][0]),r(e)._nextPut_(["#receiver".__minus_gt(s._receiver())][0]),r(e)._nextPut_(["#selector".__minus_gt(s._selector())][0]),r(e)._nextPut_(["#locals".__minus_gt(s._locals())][0]),r(r(s._class())._instanceVariableNames())._do_(function(t){return r(e)._nextPut_(r(t).__minus_gt(s._instVarNamed_(t)))})}),r(e)._setLabel_(s._printString()),r(e)._setVariables_(t),n}}),o.TMethodContext)}),define("amber/deploy",["./helpers","./boot","amber/core/Kernel-Helpers","amber/core/Kernel-Objects","amber/core/Kernel-Classes","amber/core/Kernel-Methods","amber/core/Kernel-Collections","amber/core/Kernel-Dag","amber/core/Kernel-Infrastructure","amber/core/Kernel-Promises","amber/core/Kernel-Exceptions","amber/core/Kernel-Announcements","amber/core/Platform-Services"],function(e){return e}),define("amber/core/Platform-DOM",["amber/boot","require","amber/core/Kernel-Collections","amber/core/Kernel-Infrastructure","amber/core/Kernel-Objects"],function(e,t){"use strict";var n=e.api,r=(e.nilAsValue,e.nilAsReceiver,e.asReceiver),o=e.globals;n.addPackage("Platform-DOM").transport={type:"amd",amdNamespace:"amber/core"},n.addClass("PlatformDom",o.Object,"Platform-DOM"),n.addMethod(n.method({selector:"isDomNode:",protocol:"testing",pragmas:[["inlineJS:",['\n\treturn anObject.nodeType > 0 &&\n\t\tObject.prototype.toString.call(anObject) !== "[object Object]"']]],messageSends:[]},function(e){return function(e){return e.nodeType>0&&"[object Object]"!==Object.prototype.toString.call(e)}}),o.PlatformDom.a$cls),n.addMethod(n.method({selector:"isFeasible",protocol:"testing",pragmas:[["inlineJS:",['\n  if (typeof document === "undefined") return false;\n  try {\n    var d = document.createElement("div"),\n\t  f = document.createDocumentFragment(),\n\t  t = document.createTextNode("Hello, Amber!");\n\tf.appendChild(t);\n\td.insertBefore(f, null);\n\treturn d.innerHTML === "Hello, Amber!";\n  } catch (e) {\n    return false;\n  }']]],messageSends:[]},function(e){return function(){var e=this;if("undefined"==typeof document)return!1;try{var t=document.createElement("div"),n=document.createDocumentFragment(),r=document.createTextNode("Hello, Amber!");return n.appendChild(r),t.insertBefore(n,null),"Hello, Amber!"===t.innerHTML}catch(e){return!1}return e}}),o.PlatformDom.a$cls),n.addMethod(n.method({selector:"newCustomEvent:detail:",protocol:"creation",pragmas:[["inlineJS:",["return new CustomEvent(aString, {detail: anObject})"]]],messageSends:[]},function(e){return function(e,t){return new CustomEvent(e,{detail:t})}}),o.PlatformDom.a$cls),n.addMethod(n.method({selector:"toArray:",protocol:"converting",pragmas:[["inlineJS:",["return Array.prototype.slice.call(aDomList)"]]],messageSends:[]},function(e){return function(e){return Array.prototype.slice.call(e)}}),o.PlatformDom.a$cls),n.addMethod(n.method({selector:"asDomNode",protocol:"*Platform-DOM",pragmas:[],messageSends:["createDocumentFragment","do:","appendChild:","asDomNode"]},function(e){return function(){var e,t=this;return e=r(document)._createDocumentFragment(),t._do_(function(t){return r(e)._appendChild_(r(t)._asDomNode())}),e}}),o.Collection),n.addMethod(n.method({selector:"asDomNode",protocol:"*Platform-DOM",pragmas:[],messageSends:["ifTrue:ifFalse:","isDomNode:","asDomNode"]},function(t){return function(){var s=this;return n.assert(r(o.PlatformDom)._isDomNode_(s.jsObject))?s.jsObject:[(t.superclass||e.nilAsClass).fn.prototype._asDomNode.call(s)][0]}}),o.JSObjectProxy),n.addMethod(n.method({selector:"asDomNode",protocol:"*Platform-DOM",pragmas:[],messageSends:["createTextNode:","asString"]},function(e){return function(){var e=this;return r(document)._createTextNode_(e._asString())}}),o.String),n.addMethod(n.method({selector:"htmlTextContent",protocol:"*Platform-DOM",pragmas:[["inlineJS:",['var d=document.createElement("div");d.innerHTML=self;return d.textContent||d.innerText;']]],messageSends:[]},function(e){return function(){var e=this,t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText}}),o.String)}),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){n=n||ye;var r,o,s=n.createElement("script");if(s.text=e,t)for(r in Me)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&s.setAttribute(r,o);n.head.appendChild(s).parentNode.removeChild(s)}function r(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?he[fe.call(e)]||"object":typeof e}function o(e){var t=!!e&&"length"in e&&e.length,n=r(e);return!Se(e)&&!be(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function a(e,t,n){return Se(t)?Ce.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Ce.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Ce.grep(e,function(e){return me.call(t,e)>-1!==n}):Ce.filter(t,e,n)}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){var t={};return Ce.each(e.match(je)||[],function(e,n){t[n]=!0}),t}function l(e){return e}function u(e){throw e}function d(e,t,n,r){var o;try{e&&Se(o=e.promise)?o.call(e).done(t).fail(n):e&&Se(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function m(){ye.removeEventListener("DOMContentLoaded",m),e.removeEventListener("load",m),Ce.ready()}function h(e,t){return t.toUpperCase()}function f(e){return e.replace(Je,"ms-").replace(qe,h)}function p(){this.expando=Ce.expando+p.uid++}function g(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Fe.test(e)?JSON.parse(e):e)}function _(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Le,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=g(n)}catch(e){}Re.set(e,t,n)}else n=void 0;return n}function v(e,t,n,r){var o,s,a=20,i=r?function(){return r.cur()}:function(){return Ce.css(e,t,"")},c=i(),l=n&&n[3]||(Ce.cssNumber[t]?"":"px"),u=e.nodeType&&(Ce.cssNumber[t]||"px"!==l&&+c)&&Ke.exec(Ce.css(e,t));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;a--;)Ce.style(e,t,u+l),(1-s)*(1-(s=i()/c||.5))<=0&&(a=0),u/=s;u*=2,Ce.style(e,t,u+l),n=n||[]}return n&&(u=+u||+c||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=u,r.end=o)),o}function S(e){var t,n=e.ownerDocument,r=e.nodeName,o=Xe[r];return o||(t=n.body.appendChild(n.createElement(r)),o=Ce.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Xe[r]=o,o)}function b(e,t){for(var n,r,o=[],s=0,a=e.length;s<a;s++)r=e[s],r.style&&(n=r.style.display,t?("none"===n&&(o[s]=ze.get(r,"display")||null,o[s]||(r.style.display="")),""===r.style.display&&Ge(r)&&(o[s]=S(r))):"none"!==n&&(o[s]="none",ze.set(r,"display",n)));for(s=0;s<a;s++)null!=o[s]&&(e[s].style.display=o[s]);return e}function y(e,t){var n
;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&s(e,t)?Ce.merge([e],n):n}function M(e,t){for(var n=0,r=e.length;n<r;n++)ze.set(e[n],"globalEval",!t||ze.get(t[n],"globalEval"))}function C(e,t,n,o,s){for(var a,i,c,l,u,d,m=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if((a=e[f])||0===a)if("object"===r(a))Ce.merge(h,a.nodeType?[a]:a);else if(nt.test(a)){for(i=i||m.appendChild(t.createElement("div")),c=(Ye.exec(a)||["",""])[1].toLowerCase(),l=tt[c]||tt._default,i.innerHTML=l[1]+Ce.htmlPrefilter(a)+l[2],d=l[0];d--;)i=i.lastChild;Ce.merge(h,i.childNodes),i=m.firstChild,i.textContent=""}else h.push(t.createTextNode(a));for(m.textContent="",f=0;a=h[f++];)if(o&&Ce.inArray(a,o)>-1)s&&s.push(a);else if(u=Ue(a),i=y(m.appendChild(a),"script"),u&&M(i),n)for(d=0;a=i[d++];)et.test(a.type||"")&&n.push(a);return m}function $(){return!0}function x(){return!1}function w(e,t){return e===k()==("focus"===t)}function k(){try{return ye.activeElement}catch(e){}}function T(e,t,n,r,o,s){var a,i;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(i in t)T(e,i,n,r,t[i],s);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=x;else if(!o)return e;return 1===s&&(a=o,o=function(e){return Ce().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=Ce.guid++)),e.each(function(){Ce.event.add(this,t,o,r,n)})}function A(e,t,n){if(!n)return void(void 0===ze.get(e,t)&&Ce.event.add(e,t,$));ze.set(e,t,!1),Ce.event.add(e,t,{namespace:!1,handler:function(e){var r,o,s=ze.get(this,t);if(1&e.isTrigger&&this[t]){if(s.length)(Ce.event.special[t]||{}).delegateType&&e.stopPropagation();else if(s=le.call(arguments),ze.set(this,t,s),r=n(this,t),this[t](),o=ze.get(this,t),s!==o||r?ze.set(this,t,!1):o={},s!==o)return e.stopImmediatePropagation(),e.preventDefault(),o.value}else s.length&&(ze.set(this,t,{value:Ce.event.trigger(Ce.extend(s[0],Ce.Event.prototype),s.slice(1),this)}),e.stopImmediatePropagation())}})}function P(e,t){return s(e,"table")&&s(11!==t.nodeType?t:t.firstChild,"tr")?Ce(e).children("tbody")[0]||e:e}function O(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function N(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function j(e,t){var n,r,o,s,a,i,c;if(1===t.nodeType){if(ze.hasData(e)&&(s=ze.get(e),c=s.events)){ze.remove(t,"handle events");for(o in c)for(n=0,r=c[o].length;n<r;n++)Ce.event.add(t,o,c[o][n])}Re.hasData(e)&&(a=Re.access(e),i=Ce.extend({},a),Re.set(t,i))}}function E(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ze.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function D(e,t,r,o){t=ue(t);var s,a,i,c,l,u,d=0,m=e.length,h=m-1,f=t[0],p=Se(f);if(p||m>1&&"string"==typeof f&&!ve.checkClone&&it.test(f))return e.each(function(n){var s=e.eq(n);p&&(t[0]=f.call(this,n,s.html())),D(s,t,r,o)});if(m&&(s=C(t,e[0].ownerDocument,!1,e,o),a=s.firstChild,1===s.childNodes.length&&(s=a),a||o)){for(i=Ce.map(y(s,"script"),O),c=i.length;d<m;d++)l=s,d!==h&&(l=Ce.clone(l,!0,!0),c&&Ce.merge(i,y(l,"script"))),r.call(e[d],l,d);if(c)for(u=i[i.length-1].ownerDocument,Ce.map(i,N),d=0;d<c;d++)l=i[d],et.test(l.type||"")&&!ze.access(l,"globalEval")&&Ce.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?Ce._evalUrl&&!l.noModule&&Ce._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):n(l.textContent.replace(ct,""),l,u))}return e}function B(e,t,n){for(var r,o=t?Ce.filter(t,e):e,s=0;null!=(r=o[s]);s++)n||1!==r.nodeType||Ce.cleanData(y(r)),r.parentNode&&(n&&Ue(r)&&M(y(r,"script")),r.parentNode.removeChild(r));return e}function J(e,t,n){var r,o,s,a,i=e.style;return n=n||ut(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||Ue(e)||(a=Ce.style(e,t)),!ve.pixelBoxStyles()&&lt.test(a)&&mt.test(t)&&(r=i.width,o=i.minWidth,s=i.maxWidth,i.minWidth=i.maxWidth=i.width=a,a=n.width,i.width=r,i.minWidth=o,i.maxWidth=s)),void 0!==a?a+"":a}function q(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function I(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ht.length;n--;)if((e=ht[n]+t)in ft)return e}function z(e){var t=Ce.cssProps[e]||pt[e];return t||(e in ft?e:pt[e]=I(e)||e)}function R(e,t,n){var r=Ke.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function F(e,t,n,r,o,s){var a="width"===t?1:0,i=0,c=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=Ce.css(e,n+Ve[a],!0,o)),r?("content"===n&&(c-=Ce.css(e,"padding"+Ve[a],!0,o)),"margin"!==n&&(c-=Ce.css(e,"border"+Ve[a]+"Width",!0,o))):(c+=Ce.css(e,"padding"+Ve[a],!0,o),"padding"!==n?c+=Ce.css(e,"border"+Ve[a]+"Width",!0,o):i+=Ce.css(e,"border"+Ve[a]+"Width",!0,o));return!r&&s>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-c-i-.5))||0),c}function L(e,t,n){var r=ut(e),o=!ve.boxSizingReliable()||n,a=o&&"border-box"===Ce.css(e,"boxSizing",!1,r),i=a,c=J(e,t,r),l="offset"+t[0].toUpperCase()+t.slice(1);if(lt.test(c)){if(!n)return c;c="auto"}return(!ve.boxSizingReliable()&&a||!ve.reliableTrDimensions()&&s(e,"tr")||"auto"===c||!parseFloat(c)&&"inline"===Ce.css(e,"display",!1,r))&&e.getClientRects().length&&(a="border-box"===Ce.css(e,"boxSizing",!1,r),(i=l in e)&&(c=e[l])),(c=parseFloat(c)||0)+F(e,t,n||(a?"border":"content"),i,r,c)+"px"}function H(e,t,n,r,o){return new H.prototype.init(e,t,n,r,o)}function K(){yt&&(!1===ye.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(K):e.setTimeout(K,Ce.fx.interval),Ce.fx.tick())}function V(){return e.setTimeout(function(){bt=void 0}),bt=Date.now()}function W(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ve[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function U(e,t,n){for(var r,o=(X.tweeners[t]||[]).concat(X.tweeners["*"]),s=0,a=o.length;s<a;s++)if(r=o[s].call(n,t,e))return r}function Q(e,t,n){var r,o,s,a,i,c,l,u,d="width"in t||"height"in t,m=this,h={},f=e.style,p=e.nodeType&&Ge(e),g=ze.get(e,"fxshow");n.queue||(a=Ce._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,i=a.empty.fire,a.empty.fire=function(){a.unqueued||i()}),a.unqueued++,m.always(function(){m.always(function(){a.unqueued--,Ce.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(o=t[r],Mt.test(o)){if(delete t[r],s=s||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;p=!0}h[r]=g&&g[r]||Ce.style(e,r)}if((c=!Ce.isEmptyObject(t))||!Ce.isEmptyObject(h)){d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=g&&g.display,null==l&&(l=ze.get(e,"display")),u=Ce.css(e,"display"),"none"===u&&(l?u=l:(b([e],!0),l=e.style.display||l,u=Ce.css(e,"display"),b([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===Ce.css(e,"float")&&(c||(m.done(function(){f.display=l}),null==l&&(u=f.display,l="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",m.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),c=!1;for(r in h)c||(g?"hidden"in g&&(p=g.hidden):g=ze.access(e,"fxshow",{display:l}),s&&(g.hidden=!p),p&&b([e],!0),m.done(function(){p||b([e]),ze.remove(e,"fxshow");for(r in h)Ce.style(e,r,h[r])})),c=U(p?g[r]:0,r,m),r in g||(g[r]=c.start,p&&(c.end=c.start,c.start=0))}}function G(e,t){var n,r,o,s,a;for(n in e)if(r=f(n),o=t[r],s=e[n],Array.isArray(s)&&(o=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),(a=Ce.cssHooks[r])&&"expand"in a){s=a.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=o)}else t[r]=o}function X(e,t,n){var r,o,s=0,a=X.prefilters.length,i=Ce.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var t=bt||V(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,s=1-r,a=0,c=l.tweens.length;a<c;a++)l.tweens[a].run(s);return i.notifyWith(e,[l,s,n]),s<1&&c?n:(c||i.notifyWith(e,[l,1,0]),i.resolveWith(e,[l]),!1)},l=i.promise({elem:e,props:Ce.extend({},t),opts:Ce.extend(!0,{specialEasing:{},easing:Ce.easing._default},n),originalProperties:t,originalOptions:n,startTime:bt||V(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Ce.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)l.tweens[n].run(1);return t?(i.notifyWith(e,[l,1,0]),i.resolveWith(e,[l,t])):i.rejectWith(e,[l,t]),this}}),u=l.props;for(G(u,l.opts.specialEasing);s<a;s++)if(r=X.prefilters[s].call(l,e,u,l.opts))return Se(r.stop)&&(Ce._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return Ce.map(u,U,l),Se(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),Ce.fx.timer(Ce.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}function Z(e){return(e.match(je)||[]).join(" ")}function Y(e){return e.getAttribute&&e.getAttribute("class")||""}function ee(e){return Array.isArray(e)?e:"string"==typeof e?e.match(je)||[]:[]}function te(e,t,n,o){var s;if(Array.isArray(t))Ce.each(t,function(t,r){n||Et.test(e)?o(e,r):te(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,o)});else if(n||"object"!==r(t))o(e,t);else for(s in t)te(e+"["+s+"]",t[s],n,o)}function ne(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,s=t.toLowerCase().match(je)||[];if(Se(n))for(;r=s[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function re(e,t,n,r){function o(i){var c;return s[i]=!0,Ce.each(e[i]||[],function(e,i){var l=i(t,n,r);return"string"!=typeof l||a||s[l]?a?!(c=l):void 0:(t.dataTypes.unshift(l),o(l),!1)}),c}var s={},a=e===Vt;return o(t.dataTypes[0])||!s["*"]&&o("*")}function oe(e,t){var n,r,o=Ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&Ce.extend(!0,e,r),e}function se(e,t,n){for(var r,o,s,a,i=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in i)if(i[o]&&i[o].test(r)){c.unshift(o);break}if(c[0]in n)s=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}if(s)return s!==c[0]&&c.unshift(s),n[s]}function ae(e,t,n,r){var o,s,a,i,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=s,s=u.shift())if("*"===s)s=c;else if("*"!==c&&c!==s){if(!(a=l[c+" "+s]||l["* "+s]))for(o in l)if(i=o.split(" "),i[1]===s&&(a=l[c+" "+i[0]]||l["* "+i[0]])){!0===a?a=l[o]:!0!==l[o]&&(s=i[0],u.unshift(i[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+s}}}return{state:"success",data:t}}var ie=[],ce=Object.getPrototypeOf,le=ie.slice,ue=ie.flat?function(e){return ie.flat.call(e)}:function(e){return ie.concat.apply([],e)},de=ie.push,me=ie.indexOf,he={},fe=he.toString,pe=he.hasOwnProperty,ge=pe.toString,_e=ge.call(Object),ve={},Se=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},be=function(e){return null!=e&&e===e.window},ye=e.document,Me={type:!0,src:!0,nonce:!0,noModule:!0},Ce=function(e,t){return new Ce.fn.init(e,t)};Ce.fn=Ce.prototype={jquery:"3.5.1",constructor:Ce,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Ce.each(this,e)},map:function(e){return this.pushStack(Ce.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Ce.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(Ce.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:de,sort:ie.sort,splice:ie.splice},Ce.extend=Ce.fn.extend=function(){var e,t,n,r,o,s,a=arguments[0]||{},i=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[i]||{},i++),"object"==typeof a||Se(a)||(a={}),i===c&&(a=this,i--);i<c;i++)if(null!=(e=arguments[i]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(Ce.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],s=o&&!Array.isArray(n)?[]:o||Ce.isPlainObject(n)?n:{},o=!1,a[t]=Ce.extend(l,s,r)):void 0!==r&&(a[t]=r));return a},Ce.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==fe.call(e))&&(!(t=ce(e))||"function"==typeof(n=pe.call(t,"constructor")&&t.constructor)&&ge.call(n)===_e)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){n(e,{nonce:t&&t.nonce},r)},each:function(e,t){var n,r=0;if(o(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(o(Object(e))?Ce.merge(n,"string"==typeof e?[e]:e):de.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:me.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,s=e.length,a=!n;o<s;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,s,a=0,i=[];if(o(e))for(r=e.length;a<r;a++)null!=(s=t(e[a],a,n))&&i.push(s);else for(a in e)null!=(s=t(e[a],a,n))&&i.push(s);return ue(i)},guid:1,support:ve}),"function"==typeof Symbol&&(Ce.fn[Symbol.iterator]=ie[Symbol.iterator]),Ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){he["[object "+t+"]"]=t.toLowerCase()});var $e=function(e){function t(e,t,n,r){var o,s,a,i,c,u,m,h=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!r&&(P(t),t=t||O,j)){if(11!==f&&(c=_e.exec(e)))if(o=c[1]){if(9===f){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(h&&(a=h.getElementById(o))&&J(t,a)&&a.id===o)return n.push(a),n}else{if(c[2])return X.apply(n,t.getElementsByTagName(e)),n;if((o=c[3])&&b.getElementsByClassName&&t.getElementsByClassName)return X.apply(n,t.getElementsByClassName(o)),n}if(b.qsa&&!K[e+" "]&&(!E||!E.test(e))&&(1!==f||"object"!==t.nodeName.toLowerCase())){if(m=e,h=t,1===f&&(le.test(e)||ce.test(e))){for(h=ve.test(e)&&l(t.parentNode)||t,h===t&&b.scope||((i=t.getAttribute("id"))?i=i.replace(ye,Me):t.setAttribute("id",i=q)),u=$(e),s=u.length;s--;)u[s]=(i?"#"+i:":scope")+" "+d(u[s]);m=u.join(",")}try{return X.apply(n,h.querySelectorAll(m)),n}catch(t){K(e,!0)}finally{i===q&&t.removeAttribute("id")}}}return w(e.replace(ae,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>y.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[q]=!0,e}function o(e){var t=O.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),r=n.length;r--;)y.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function i(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&$e(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var o,s=e([],n.length,t),a=s.length;a--;)n[o=s[a]]&&(n[o]=!(r[o]=n[o]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function m(e,t,n){var r=t.dir,o=t.next,s=o||r,a=n&&"parentNode"===s,i=R++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,c){var l,u,d,m=[z,i];if(c){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(d=t[q]||(t[q]={}),u=d[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=u[s])&&l[0]===z&&l[1]===i)return m[2]=l[2];if(u[s]=m,m[2]=e(t,n,c))return!0}return!1}}function h(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function f(e,n,r){for(var o=0,s=n.length;o<s;o++)t(e,n[o],r);return r}function p(e,t,n,r,o){for(var s,a=[],i=0,c=e.length,l=null!=t;i<c;i++)(s=e[i])&&(n&&!n(s,r,o)||(a.push(s),l&&t.push(i)));return a}function g(e,t,n,o,s,a){return o&&!o[q]&&(o=g(o)),s&&!s[q]&&(s=g(s,a)),r(function(r,a,i,c){var l,u,d,m=[],h=[],g=a.length,_=r||f(t||"*",i.nodeType?[i]:i,[]),v=!e||!r&&t?_:p(_,m,e,i,c),S=n?s||(r?e:g||o)?[]:a:v;if(n&&n(v,S,i,c),o)for(l=p(S,h),o(l,[],i,c),u=l.length;u--;)(d=l[u])&&(S[h[u]]=!(v[h[u]]=d));if(r){if(s||e){if(s){for(l=[],u=S.length;u--;)(d=S[u])&&l.push(v[u]=d);s(null,S=[],l,c)}for(u=S.length;u--;)(d=S[u])&&(l=s?Y(r,d):m[u])>-1&&(r[l]=!(a[l]=d))}}else S=p(S===a?S.splice(g,S.length):S),s?s(null,a,S,c):X.apply(a,S)})}function _(e){for(var t,n,r,o=e.length,s=y.relative[e[0].type],a=s||y.relative[" "],i=s?1:0,c=m(function(e){return e===t},a,!0),l=m(function(e){return Y(t,e)>-1},a,!0),u=[function(e,n,r){var o=!s&&(r||n!==k)||((t=n).nodeType?c(e,n,r):l(e,n,r));return t=null,o}];i<o;i++)if(n=y.relative[e[i].type])u=[m(h(u),n)];else{if(n=y.filter[e[i].type].apply(null,e[i].matches),n[q]){for(r=++i;r<o&&!y.relative[e[r].type];r++);return g(i>1&&h(u),i>1&&d(e.slice(0,i-1).concat({value:" "===e[i-2].type?"*":""})).replace(ae,"$1"),n,i<r&&_(e.slice(i,r)),r<o&&_(e=e.slice(r)),r<o&&d(e))}u.push(n)}return h(u)}function v(e,n){var o=n.length>0,s=e.length>0,a=function(r,a,i,c,l){var u,d,m,h=0,f="0",g=r&&[],_=[],v=k,S=r||s&&y.find.TAG("*",l),b=z+=null==v?1:Math.random()||.1,M=S.length;for(l&&(k=a==O||a||l);f!==M&&null!=(u=S[f]);f++){if(s&&u){for(d=0,a||u.ownerDocument==O||(P(u),i=!j);m=e[d++];)if(m(u,a||O,i)){c.push(u);break}l&&(z=b)}o&&((u=!m&&u)&&h--,r&&g.push(u))}if(h+=f,o&&f!==h){for(d=0;m=n[d++];)m(g,_,a,i);if(r){if(h>0)for(;f--;)g[f]||_[f]||(_[f]=Q.call(c));_=p(_)}X.apply(c,_),l&&!r&&_.length>0&&h+n.length>1&&t.uniqueSort(c)}return l&&(z=b,k=v),g};return o?r(a):a}var S,b,y,M,C,$,x,w,k,T,A,P,O,N,j,E,D,B,J,q="sizzle"+1*new Date,I=e.document,z=0,R=0,F=n(),L=n(),H=n(),K=n(),V=function(e,t){return e===t&&(A=!0),0},W={}.hasOwnProperty,U=[],Q=U.pop,G=U.push,X=U.push,Z=U.slice,Y=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",re="\\["+te+"*("+ne+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+te+"*\\]",oe=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(te+"+","g"),ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),ie=new RegExp("^"+te+"*,"+te+"*"),ce=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),le=new RegExp(te+"|>"),ue=new RegExp(oe),de=new RegExp("^"+ne+"$"),me={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},he=/HTML$/i,fe=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,Se=new RegExp("\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\([^\\r\\n\\f])","g"),be=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ye=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Me=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ce=function(){P()},$e=m(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{X.apply(U=Z.call(I.childNodes),I.childNodes),U[I.childNodes.length].nodeType}catch(e){X={apply:U.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}b=t.support={},C=t.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!he.test(t||n&&n.nodeName||"HTML")},P=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:I;return r!=O&&9===r.nodeType&&r.documentElement?(O=r,N=O.documentElement,j=!C(O),I!=O&&(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),b.scope=o(function(e){return N.appendChild(e).appendChild(O.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),b.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=o(function(e){return e.appendChild(O.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=ge.test(O.getElementsByClassName),b.getById=o(function(e){return N.appendChild(e).id=q,!O.getElementsByName||!O.getElementsByName(q).length}),b.getById?(y.filter.ID=function(e){var t=e.replace(Se,be);return function(e){return e.getAttribute("id")===t}},y.find.ID=function(e,t){if(void 0!==t.getElementById&&j){var n=t.getElementById(e);return n?[n]:[]}}):(y.filter.ID=function(e){var t=e.replace(Se,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},y.find.ID=function(e,t){if(void 0!==t.getElementById&&j){var n,r,o,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(o=t.getElementsByName(e),r=0;s=o[r++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),y.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[o++];)1===n.nodeType&&r.push(n);return r}return s},y.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&j)return t.getElementsByClassName(e)},D=[],E=[],(b.qsa=ge.test(O.querySelectorAll))&&(o(function(e){var t;N.appendChild(e).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&E.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||E.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll("[id~="+q+"-]").length||E.push("~="),t=O.createElement("input"),t.setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||E.push("\\["+te+"*name"+te+"*="+te+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||E.push(":checked"),e.querySelectorAll("a#"+q+"+*").length||E.push(".#.+[+~]"),e.querySelectorAll("\\\f"),E.push("[\\r\\n\\f]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=O.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&E.push("name"+te+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&E.push(":enabled",":disabled"),N.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&E.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),E.push(",.*:")})),(b.matchesSelector=ge.test(B=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(e){b.disconnectedMatch=B.call(e,"*"),B.call(e,"[s!='']:x"),D.push("!=",oe)}),E=E.length&&new RegExp(E.join("|")),D=D.length&&new RegExp(D.join("|")),t=ge.test(N.compareDocumentPosition),J=t||ge.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e==O||e.ownerDocument==I&&J(I,e)?-1:t==O||t.ownerDocument==I&&J(I,t)?1:T?Y(T,e)-Y(T,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,o=e.parentNode,s=t.parentNode,i=[e],c=[t];if(!o||!s)return e==O?-1:t==O?1:o?-1:s?1:T?Y(T,e)-Y(T,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)i.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;i[r]===c[r];)r++;return r?a(i[r],c[r]):i[r]==I?-1:c[r]==I?1:0},O):O},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if(P(e),b.matchesSelector&&j&&!K[n+" "]&&(!D||!D.test(n))&&(!E||!E.test(n)))try{var r=B.call(e,n);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){K(n,!0)}return t(n,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!=O&&P(e),J(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!=O&&P(e);var n=y.attrHandle[t.toLowerCase()],r=n&&W.call(y.attrHandle,t.toLowerCase())?n(e,t,!j):void 0;return void 0!==r?r:b.attributes||!j?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(ye,Me)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(A=!b.detectDuplicates,T=!b.sortStable&&e.slice(0),e.sort(V),A){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return T=null,e},M=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=M(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=M(t);return n},y=t.selectors={cacheLength:50,createPseudo:r,match:me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Se,be),e[3]=(e[3]||e[4]||e[5]||"").replace(Se,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return me.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=$(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Se,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var s=t.attr(o,e);return null==s?"!="===n:!n||(s+="","="===n?s===r:"!="===n?s!==r:"^="===n?r&&0===s.indexOf(r):"*="===n?r&&s.indexOf(r)>-1:"$="===n?r&&s.slice(-r.length)===r:"~="===n?(" "+s.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(s===r||s.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),i="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,m,h,f,p=s!==a?"nextSibling":"previousSibling",g=t.parentNode,_=i&&t.nodeName.toLowerCase(),v=!c&&!i,S=!1;if(g){if(s){for(;p;){for(m=t;m=m[p];)if(i?m.nodeName.toLowerCase()===_:1===m.nodeType)return!1;f=p="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&v){for(m=g,d=m[q]||(m[q]={}),u=d[m.uniqueID]||(d[m.uniqueID]={}),l=u[e]||[],h=l[0]===z&&l[1],S=h&&l[2],m=h&&g.childNodes[h];m=++h&&m&&m[p]||(S=h=0)||f.pop();)if(1===m.nodeType&&++S&&m===t){u[e]=[z,h,S];break}}else if(v&&(m=t,d=m[q]||(m[q]={}),u=d[m.uniqueID]||(d[m.uniqueID]={}),l=u[e]||[],h=l[0]===z&&l[1],S=h),!1===S)for(;(m=++h&&m&&m[p]||(S=h=0)||f.pop())&&((i?m.nodeName.toLowerCase()!==_:1!==m.nodeType)||!++S||(v&&(d=m[q]||(m[q]={}),u=d[m.uniqueID]||(d[m.uniqueID]={}),u[e]=[z,S]),m!==t)););return(S-=o)===r||S%r==0&&S/r>=0}}},PSEUDO:function(e,n){var o,s=y.pseudos[e]||y.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[q]?s(n):s.length>1?(o=[e,e,"",n],y.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=s(e,n),a=o.length;a--;)r=Y(e,o[a]),e[r]=!(t[r]=o[a])}):function(e){return s(e,0,o)}):s}},pseudos:{not:r(function(e){var t=[],n=[],o=x(e.replace(ae,"$1"));return o[q]?r(function(e,t,n,r){for(var s,a=o(e,null,r,[]),i=e.length;i--;)(s=a[i])&&(e[i]=!(t[i]=s))}):function(e,r,s){return t[0]=e,o(t,null,s,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(Se,be),function(t){return(t.textContent||M(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Se,be).toLowerCase(),function(t){var n;do{if(n=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:i(!1),disabled:i(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!y.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},y.pseudos.nth=y.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[S]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(S);for(S in{submit:!0,reset:!0})y.pseudos[S]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(S);return u.prototype=y.filters=y.pseudos,y.setFilters=new u,$=t.tokenize=function(e,n){var r,o,s,a,i,c,l,u=L[e+" "];if(u)return n?0:u.slice(0);for(i=e,c=[],l=y.preFilter;i;){r&&!(o=ie.exec(i))||(o&&(i=i.slice(o[0].length)||i),c.push(s=[])),r=!1,(o=ce.exec(i))&&(r=o.shift(),s.push({value:r,type:o[0].replace(ae," ")}),
i=i.slice(r.length));for(a in y.filter)!(o=me[a].exec(i))||l[a]&&!(o=l[a](o))||(r=o.shift(),s.push({value:r,type:a,matches:o}),i=i.slice(r.length));if(!r)break}return n?i.length:i?t.error(e):L(e,c).slice(0)},x=t.compile=function(e,t){var n,r=[],o=[],s=H[e+" "];if(!s){for(t||(t=$(e)),n=t.length;n--;)s=_(t[n]),s[q]?r.push(s):o.push(s);s=H(e,v(o,r)),s.selector=e}return s},w=t.select=function(e,t,n,r){var o,s,a,i,c,u="function"==typeof e&&e,m=!r&&$(e=u.selector||e);if(n=n||[],1===m.length){if(s=m[0]=m[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&9===t.nodeType&&j&&y.relative[s[1].type]){if(!(t=(y.find.ID(a.matches[0].replace(Se,be),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(o=me.needsContext.test(e)?0:s.length;o--&&(a=s[o],!y.relative[i=a.type]);)if((c=y.find[i])&&(r=c(a.matches[0].replace(Se,be),ve.test(s[0].type)&&l(t.parentNode)||t))){if(s.splice(o,1),!(e=r.length&&d(s)))return X.apply(n,r),n;break}}return(u||x(e,m))(r,t,!j,n,!t||ve.test(e)&&l(t.parentNode)||t),n},b.sortStable=q.split("").sort(V).join("")===q,b.detectDuplicates=!!A,P(),b.sortDetached=o(function(e){return 1&e.compareDocumentPosition(O.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||s(ee,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Ce.find=$e,Ce.expr=$e.selectors,Ce.expr[":"]=Ce.expr.pseudos,Ce.uniqueSort=Ce.unique=$e.uniqueSort,Ce.text=$e.getText,Ce.isXMLDoc=$e.isXML,Ce.contains=$e.contains,Ce.escapeSelector=$e.escape;var xe=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&Ce(e).is(n))break;r.push(e)}return r},we=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ke=Ce.expr.match.needsContext,Te=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ce.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Ce.find.matchesSelector(r,e)?[r]:[]:Ce.find.matches(e,Ce.grep(t,function(e){return 1===e.nodeType}))},Ce.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(Ce(e).filter(function(){for(t=0;t<r;t++)if(Ce.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Ce.find(e,o[t],n);return r>1?Ce.uniqueSort(n):n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&ke.test(e)?Ce(e):e||[],!1).length}});var Ae,Pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Ce.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||Ae,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Pe.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Ce?t[0]:t,Ce.merge(this,Ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:ye,!0)),Te.test(r[1])&&Ce.isPlainObject(t))for(r in t)Se(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=ye.getElementById(r[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):Se(e)?void 0!==n.ready?n.ready(e):e(Ce):Ce.makeArray(e,this)}).prototype=Ce.fn,Ae=Ce(ye);var Oe=/^(?:parents|prev(?:Until|All))/,Ne={children:!0,contents:!0,next:!0,prev:!0};Ce.fn.extend({has:function(e){var t=Ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,s=[],a="string"!=typeof e&&Ce(e);if(!ke.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Ce.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?Ce.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?me.call(Ce(e),this[0]):me.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Ce.uniqueSort(Ce.merge(this.get(),Ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return xe(e,"parentNode")},parentsUntil:function(e,t,n){return xe(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return xe(e,"nextSibling")},prevAll:function(e){return xe(e,"previousSibling")},nextUntil:function(e,t,n){return xe(e,"nextSibling",n)},prevUntil:function(e,t,n){return xe(e,"previousSibling",n)},siblings:function(e){return we((e.parentNode||{}).firstChild,e)},children:function(e){return we(e.firstChild)},contents:function(e){return null!=e.contentDocument&&ce(e.contentDocument)?e.contentDocument:(s(e,"template")&&(e=e.content||e),Ce.merge([],e.childNodes))}},function(e,t){Ce.fn[e]=function(n,r){var o=Ce.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=Ce.filter(r,o)),this.length>1&&(Ne[e]||Ce.uniqueSort(o),Oe.test(e)&&o.reverse()),this.pushStack(o)}});var je=/[^\x20\t\r\n\f]+/g;Ce.Callbacks=function(e){e="string"==typeof e?c(e):Ce.extend({},e);var t,n,o,s,a=[],i=[],l=-1,u=function(){for(s=s||e.once,o=t=!0;i.length;l=-1)for(n=i.shift();++l<a.length;)!1===a[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,s&&(a=n?[]:"")},d={add:function(){return a&&(n&&!t&&(l=a.length-1,i.push(n)),function t(n){Ce.each(n,function(n,o){Se(o)?e.unique&&d.has(o)||a.push(o):o&&o.length&&"string"!==r(o)&&t(o)})}(arguments),n&&!t&&u()),this},remove:function(){return Ce.each(arguments,function(e,t){for(var n;(n=Ce.inArray(t,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(e){return e?Ce.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return s=i=[],a=n="",this},disabled:function(){return!a},lock:function(){return s=i=[],n||t||(a=n=""),this},locked:function(){return!!s},fireWith:function(e,n){return s||(n=n||[],n=[e,n.slice?n.slice():n],i.push(n),t||u()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},Ce.extend({Deferred:function(t){var n=[["notify","progress",Ce.Callbacks("memory"),Ce.Callbacks("memory"),2],["resolve","done",Ce.Callbacks("once memory"),Ce.Callbacks("once memory"),0,"resolved"],["reject","fail",Ce.Callbacks("once memory"),Ce.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return Ce.Deferred(function(t){Ce.each(n,function(n,r){var o=Se(e[r[4]])&&e[r[4]];s[r[1]](function(){var e=o&&o.apply(this,arguments);e&&Se(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,r,o){function s(t,n,r,o){return function(){var i=this,c=arguments,d=function(){var e,d;if(!(t<a)){if((e=r.apply(i,c))===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,Se(d)?o?d.call(e,s(a,n,l,o),s(a,n,u,o)):(a++,d.call(e,s(a,n,l,o),s(a,n,u,o),s(a,n,l,n.notifyWith))):(r!==l&&(i=void 0,c=[e]),(o||n.resolveWith)(i,c))}},m=o?d:function(){try{d()}catch(e){Ce.Deferred.exceptionHook&&Ce.Deferred.exceptionHook(e,m.stackTrace),t+1>=a&&(r!==u&&(i=void 0,c=[e]),n.rejectWith(i,c))}};t?m():(Ce.Deferred.getStackHook&&(m.stackTrace=Ce.Deferred.getStackHook()),e.setTimeout(m))}}var a=0;return Ce.Deferred(function(e){n[0][3].add(s(0,e,Se(o)?o:l,e.notifyWith)),n[1][3].add(s(0,e,Se(t)?t:l)),n[2][3].add(s(0,e,Se(r)?r:u))}).promise()},promise:function(e){return null!=e?Ce.extend(e,o):o}},s={};return Ce.each(n,function(e,t){var a=t[2],i=t[5];o[t[1]]=a.add,i&&a.add(function(){r=i},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=a.fireWith}),o.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,n=t,r=Array(n),o=le.call(arguments),s=Ce.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?le.call(arguments):n,--t||s.resolveWith(r,o)}};if(t<=1&&(d(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||Se(o[n]&&o[n].then)))return s.then();for(;n--;)d(o[n],a(n),s.reject);return s.promise()}});var Ee=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ce.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Ee.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},Ce.readyException=function(t){e.setTimeout(function(){throw t})};var De=Ce.Deferred();Ce.fn.ready=function(e){return De.then(e).catch(function(e){Ce.readyException(e)}),this},Ce.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Ce.readyWait:Ce.isReady)||(Ce.isReady=!0,!0!==e&&--Ce.readyWait>0||De.resolveWith(ye,[Ce]))}}),Ce.ready.then=De.then,"complete"===ye.readyState||"loading"!==ye.readyState&&!ye.documentElement.doScroll?e.setTimeout(Ce.ready):(ye.addEventListener("DOMContentLoaded",m),e.addEventListener("load",m));var Be=function(e,t,n,o,s,a,i){var c=0,l=e.length,u=null==n;if("object"===r(n)){s=!0;for(c in n)Be(e,t,c,n[c],!0,a,i)}else if(void 0!==o&&(s=!0,Se(o)||(i=!0),u&&(i?(t.call(e,o),t=null):(u=t,t=function(e,t,n){return u.call(Ce(e),n)})),t))for(;c<l;c++)t(e[c],n,i?o:o.call(e[c],c,t(e[c],n)));return s?e:u?t.call(e):l?t(e[0],n):a},Je=/^-ms-/,qe=/-([a-z])/g,Ie=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};p.uid=1,p.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ie(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[f(t)]=n;else for(r in t)o[f(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][f(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(f):(t=f(t),t=t in r?[t]:t.match(je)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||Ce.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Ce.isEmptyObject(t)}};var ze=new p,Re=new p,Fe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Le=/[A-Z]/g;Ce.extend({hasData:function(e){return Re.hasData(e)||ze.hasData(e)},data:function(e,t,n){return Re.access(e,t,n)},removeData:function(e,t){Re.remove(e,t)},_data:function(e,t,n){return ze.access(e,t,n)},_removeData:function(e,t){ze.remove(e,t)}}),Ce.fn.extend({data:function(e,t){var n,r,o,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(o=Re.get(s),1===s.nodeType&&!ze.get(s,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=f(r.slice(5)),_(s,r,o[r])));ze.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Re.set(this,e)}):Be(this,function(t){var n;if(s&&void 0===t){if(void 0!==(n=Re.get(s,e)))return n;if(void 0!==(n=_(s,e)))return n}else this.each(function(){Re.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Re.remove(this,e)})}}),Ce.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ze.get(e,t),n&&(!r||Array.isArray(n)?r=ze.access(e,t,Ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Ce.queue(e,t),r=n.length,o=n.shift(),s=Ce._queueHooks(e,t),a=function(){Ce.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete s.stop,o.call(e,a,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ze.get(e,n)||ze.access(e,n,{empty:Ce.Callbacks("once memory").add(function(){ze.remove(e,[t+"queue",n])})})}}),Ce.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Ce.queue(this[0],e):void 0===t?this:this.each(function(){var n=Ce.queue(this,e,t);Ce._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Ce.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=Ce.Deferred(),s=this,a=this.length,i=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=ze.get(s[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(i));return i(),o.promise(t)}});var He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ke=new RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),Ve=["Top","Right","Bottom","Left"],We=ye.documentElement,Ue=function(e){return Ce.contains(e.ownerDocument,e)},Qe={composed:!0};We.getRootNode&&(Ue=function(e){return Ce.contains(e.ownerDocument,e)||e.getRootNode(Qe)===e.ownerDocument});var Ge=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Ue(e)&&"none"===Ce.css(e,"display")},Xe={};Ce.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ge(this)?Ce(this).show():Ce(this).hide()})}});var Ze=/^(?:checkbox|radio)$/i,Ye=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,et=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=ye.createDocumentFragment(),t=e.appendChild(ye.createElement("div")),n=ye.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ve.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ve.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",ve.option=!!t.lastChild}();var tt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};tt.tbody=tt.tfoot=tt.colgroup=tt.caption=tt.thead,tt.th=tt.td,ve.option||(tt.optgroup=tt.option=[1,"<select multiple='multiple'>","</select>"]);var nt=/<|&#?\w+;/,rt=/^key/,ot=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,st=/^([^.]*)(?:\.(.+)|)/;Ce.event={global:{},add:function(e,t,n,r,o){var s,a,i,c,l,u,d,m,h,f,p,g=ze.get(e);if(Ie(e))for(n.handler&&(s=n,n=s.handler,o=s.selector),o&&Ce.find.matchesSelector(We,o),n.guid||(n.guid=Ce.guid++),(c=g.events)||(c=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==Ce&&Ce.event.triggered!==t.type?Ce.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(je)||[""],l=t.length;l--;)i=st.exec(t[l])||[],h=p=i[1],f=(i[2]||"").split(".").sort(),h&&(d=Ce.event.special[h]||{},h=(o?d.delegateType:d.bindType)||h,d=Ce.event.special[h]||{},u=Ce.extend({type:h,origType:p,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&Ce.expr.match.needsContext.test(o),namespace:f.join(".")},s),(m=c[h])||(m=c[h]=[],m.delegateCount=0,d.setup&&!1!==d.setup.call(e,r,f,a)||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?m.splice(m.delegateCount++,0,u):m.push(u),Ce.event.global[h]=!0)},remove:function(e,t,n,r,o){var s,a,i,c,l,u,d,m,h,f,p,g=ze.hasData(e)&&ze.get(e);if(g&&(c=g.events)){for(t=(t||"").match(je)||[""],l=t.length;l--;)if(i=st.exec(t[l])||[],h=p=i[1],f=(i[2]||"").split(".").sort(),h){for(d=Ce.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,m=c[h]||[],i=i[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=m.length;s--;)u=m[s],!o&&p!==u.origType||n&&n.guid!==u.guid||i&&!i.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(m.splice(s,1),u.selector&&m.delegateCount--,d.remove&&d.remove.call(e,u));a&&!m.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||Ce.removeEvent(e,h,g.handle),delete c[h])}else for(h in c)Ce.event.remove(e,h+t[l],n,r,!0);Ce.isEmptyObject(c)&&ze.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,s,a,i=new Array(arguments.length),c=Ce.event.fix(e),l=(ze.get(this,"events")||Object.create(null))[c.type]||[],u=Ce.event.special[c.type]||{};for(i[0]=c,t=1;t<arguments.length;t++)i[t]=arguments[t];if(c.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,c)){for(a=Ce.event.handlers.call(this,c,l),t=0;(o=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(r=((Ce.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,i))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,o,s,a,i=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(s=[],a={},n=0;n<c;n++)r=t[n],o=r.selector+" ",void 0===a[o]&&(a[o]=r.needsContext?Ce(o,this).index(l)>-1:Ce.find(o,this,null,[l]).length),a[o]&&s.push(r);s.length&&i.push({elem:l,handlers:s})}return l=this,c<t.length&&i.push({elem:l,handlers:t.slice(c)}),i},addProp:function(e,t){Object.defineProperty(Ce.Event.prototype,e,{enumerable:!0,configurable:!0,get:Se(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Ce.expando]?e:new Ce.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ze.test(t.type)&&t.click&&s(t,"input")&&A(t,"click",$),!1},trigger:function(e){var t=this||e;return Ze.test(t.type)&&t.click&&s(t,"input")&&A(t,"click"),!0},_default:function(e){var t=e.target;return Ze.test(t.type)&&t.click&&s(t,"input")&&ze.get(t,"click")||s(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Ce.Event=function(e,t){if(!(this instanceof Ce.Event))return new Ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?$:x,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Ce.expando]=!0},Ce.Event.prototype={constructor:Ce.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=$,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=$,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=$,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&rt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ot.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Ce.event.addProp),Ce.each({focus:"focusin",blur:"focusout"},function(e,t){Ce.event.special[e]={setup:function(){return A(this,e,w),!1},trigger:function(){return A(this,e),!0},delegateType:t}}),Ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Ce.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,s=e.handleObj;return o&&(o===r||Ce.contains(r,o))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),Ce.fn.extend({on:function(e,t,n,r){return T(this,e,t,n,r)},one:function(e,t,n,r){return T(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Ce(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=x),this.each(function(){Ce.event.remove(this,e,n,t)})}});var at=/<script|<style|<link/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,ct=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Ce.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,s,a,i=e.cloneNode(!0),c=Ue(e);if(!(ve.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Ce.isXMLDoc(e)))for(a=y(i),s=y(e),r=0,o=s.length;r<o;r++)E(s[r],a[r]);if(t)if(n)for(s=s||y(e),a=a||y(i),r=0,o=s.length;r<o;r++)j(s[r],a[r]);else j(e,i);return a=y(i,"script"),a.length>0&&M(a,!c&&y(e,"script")),i},cleanData:function(e){for(var t,n,r,o=Ce.event.special,s=0;void 0!==(n=e[s]);s++)if(Ie(n)){if(t=n[ze.expando]){if(t.events)for(r in t.events)o[r]?Ce.event.remove(n,r):Ce.removeEvent(n,r,t.handle);n[ze.expando]=void 0}n[Re.expando]&&(n[Re.expando]=void 0)}}}),Ce.fn.extend({detach:function(e){return B(this,e,!0)},remove:function(e){return B(this,e)},text:function(e){return Be(this,function(e){return void 0===e?Ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){P(this,e).appendChild(e)}})},prepend:function(){return D(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=P(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return D(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Ce.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Ce.clone(this,e,t)})},html:function(e){return Be(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!at.test(e)&&!tt[(Ye.exec(e)||["",""])[1].toLowerCase()]){e=Ce.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Ce.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return D(this,arguments,function(t){var n=this.parentNode;Ce.inArray(this,e)<0&&(Ce.cleanData(y(this)),n&&n.replaceChild(t,this))},e)}}),Ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Ce.fn[e]=function(e){for(var n,r=[],o=Ce(e),s=o.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),Ce(o[a])[t](n),de.apply(r,n.get());return this.pushStack(r)}});var lt=new RegExp("^("+He+")(?!px)[a-z%]+$","i"),ut=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},dt=function(e,t,n){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.call(e);for(o in t)e.style[o]=s[o];return r},mt=new RegExp(Ve.join("|"),"i");!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",We.appendChild(l).appendChild(u);var t=e.getComputedStyle(u);r="1%"!==t.top,c=12===n(t.marginLeft),u.style.right="60%",a=36===n(t.right),o=36===n(t.width),u.style.position="absolute",s=12===n(u.offsetWidth/3),We.removeChild(l),u=null}}function n(e){return Math.round(parseFloat(e))}var r,o,s,a,i,c,l=ye.createElement("div"),u=ye.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",ve.clearCloneStyle="content-box"===u.style.backgroundClip,Ce.extend(ve,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),s},reliableTrDimensions:function(){var t,n,r,o;return null==i&&(t=ye.createElement("table"),n=ye.createElement("tr"),r=ye.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",r.style.height="9px",We.appendChild(t).appendChild(n).appendChild(r),o=e.getComputedStyle(n),i=parseInt(o.height)>3,We.removeChild(t)),i}}))}();var ht=["Webkit","Moz","ms"],ft=ye.createElement("div").style,pt={},gt=/^(none|table(?!-c[ea]).+)/,_t=/^--/,vt={position:"absolute",visibility:"hidden",display:"block"},St={letterSpacing:"0",fontWeight:"400"};Ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=J(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,i=f(t),c=_t.test(t),l=e.style;if(c||(t=z(i)),a=Ce.cssHooks[t]||Ce.cssHooks[i],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:l[t];s=typeof n,"string"===s&&(o=Ke.exec(n))&&o[1]&&(n=v(e,t,o),s="number"),null!=n&&n===n&&("number"!==s||c||(n+=o&&o[3]||(Ce.cssNumber[i]?"":"px")),ve.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var o,s,a,i=f(t);return _t.test(t)||(t=z(i)),a=Ce.cssHooks[t]||Ce.cssHooks[i],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=J(e,t,r)),"normal"===o&&t in St&&(o=St[t]),""===n||n?(s=parseFloat(o),!0===n||isFinite(s)?s||0:o):o}}),Ce.each(["height","width"],function(e,t){Ce.cssHooks[t]={get:function(e,n,r){if(n)return!gt.test(Ce.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?L(e,t,r):dt(e,vt,function(){return L(e,t,r)})},set:function(e,n,r){var o,s=ut(e),a=!ve.scrollboxSize()&&"absolute"===s.position,i=a||r,c=i&&"border-box"===Ce.css(e,"boxSizing",!1,s),l=r?F(e,t,r,c,s):0;return c&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-F(e,t,"border",!1,s)-.5)),l&&(o=Ke.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=Ce.css(e,t)),R(e,n,l)}}}),Ce.cssHooks.marginLeft=q(ve.reliableMarginLeft,function(e,t){if(t)return(parseFloat(J(e,"marginLeft"))||e.getBoundingClientRect().left-dt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Ce.each({margin:"",padding:"",border:"Width"},function(e,t){Ce.cssHooks[e+t]={expand:function(n){for(var r=0,o={},s="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Ve[r]+t]=s[r]||s[r-2]||s[0];return o}},"margin"!==e&&(Ce.cssHooks[e+t].set=R)}),Ce.fn.extend({css:function(e,t){return Be(this,function(e,t,n){var r,o,s={},a=0;if(Array.isArray(t)){for(r=ut(e),o=t.length;a<o;a++)s[t[a]]=Ce.css(e,t[a],!1,r);return s}return void 0!==n?Ce.style(e,t,n):Ce.css(e,t)},e,t,arguments.length>1)}}),Ce.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,o,s){this.elem=e,this.prop=n,this.easing=o||Ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(Ce.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=Ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Ce.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Ce.fx.step[e.prop]?Ce.fx.step[e.prop](e):1!==e.elem.nodeType||!Ce.cssHooks[e.prop]&&null==e.elem.style[z(e.prop)]?e.elem[e.prop]=e.now:Ce.style(e.elem,e.prop,e.now+e.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Ce.fx=H.prototype.init,Ce.fx.step={};var bt,yt,Mt=/^(?:toggle|show|hide)$/,Ct=/queueHooks$/;Ce.Animation=Ce.extend(X,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return v(n.elem,e,Ke.exec(t),n),n}]},tweener:function(e,t){Se(e)?(t=e,e=["*"]):e=e.match(je);for(var n,r=0,o=e.length;r<o;r++)n=e[r],X.tweeners[n]=X.tweeners[n]||[],X.tweeners[n].unshift(t)},prefilters:[Q],prefilter:function(e,t){t?X.prefilters.unshift(e):X.prefilters.push(e)}}),Ce.speed=function(e,t,n){var r=e&&"object"==typeof e?Ce.extend({},e):{complete:n||!n&&t||Se(e)&&e,duration:e,easing:n&&t||t&&!Se(t)&&t};return Ce.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Ce.fx.speeds?r.duration=Ce.fx.speeds[r.duration]:r.duration=Ce.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){Se(r.old)&&r.old.call(this),r.queue&&Ce.dequeue(this,r.queue)},r},Ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ge).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=Ce.isEmptyObject(e),s=Ce.speed(t,n,r),a=function(){var t=X(this,Ce.extend({},e),s);(o||ze.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",s=Ce.timers,a=ze.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&Ct.test(o)&&r(a[o]);for(o=s.length;o--;)s[o].elem!==this||null!=e&&s[o].queue!==e||(s[o].anim.stop(n),t=!1,s.splice(o,1));!t&&n||Ce.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ze.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],s=Ce.timers,a=r?r.length:0;for(n.finish=!0,Ce.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Ce.each(["toggle","show","hide"],function(e,t){var n=Ce.fn[t];Ce.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,r,o)}}),Ce.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Ce.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Ce.timers=[],
Ce.fx.tick=function(){var e,t=0,n=Ce.timers;for(bt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Ce.fx.stop(),bt=void 0},Ce.fx.timer=function(e){Ce.timers.push(e),Ce.fx.start()},Ce.fx.interval=13,Ce.fx.start=function(){yt||(yt=!0,K())},Ce.fx.stop=function(){yt=null},Ce.fx.speeds={slow:600,fast:200,_default:400},Ce.fn.delay=function(t,n){return t=Ce.fx?Ce.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}})},function(){var e=ye.createElement("input"),t=ye.createElement("select"),n=t.appendChild(ye.createElement("option"));e.type="checkbox",ve.checkOn=""!==e.value,ve.optSelected=n.selected,e=ye.createElement("input"),e.value="t",e.type="radio",ve.radioValue="t"===e.value}();var $t,xt=Ce.expr.attrHandle;Ce.fn.extend({attr:function(e,t){return Be(this,Ce.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Ce.removeAttr(this,e)})}}),Ce.extend({attr:function(e,t,n){var r,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?Ce.prop(e,t,n):(1===s&&Ce.isXMLDoc(e)||(o=Ce.attrHooks[t.toLowerCase()]||(Ce.expr.match.bool.test(t)?$t:void 0)),void 0!==n?null===n?void Ce.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=Ce.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ve.radioValue&&"radio"===t&&s(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(je);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),$t={set:function(e,t,n){return!1===t?Ce.removeAttr(e,n):e.setAttribute(n,n),n}},Ce.each(Ce.expr.match.bool.source.match(/\w+/g),function(e,t){var n=xt[t]||Ce.find.attr;xt[t]=function(e,t,r){var o,s,a=t.toLowerCase();return r||(s=xt[a],xt[a]=o,o=null!=n(e,t,r)?a:null,xt[a]=s),o}});var wt=/^(?:input|select|textarea|button)$/i,kt=/^(?:a|area)$/i;Ce.fn.extend({prop:function(e,t){return Be(this,Ce.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Ce.propFix[e]||e]})}}),Ce.extend({prop:function(e,t,n){var r,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&Ce.isXMLDoc(e)||(t=Ce.propFix[t]||t,o=Ce.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Ce.find.attr(e,"tabindex");return t?parseInt(t,10):wt.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ve.optSelected||(Ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ce.propFix[this.toLowerCase()]=this}),Ce.fn.extend({addClass:function(e){var t,n,r,o,s,a,i,c=0;if(Se(e))return this.each(function(t){Ce(this).addClass(e.call(this,t,Y(this)))});if(t=ee(e),t.length)for(;n=this[c++];)if(o=Y(n),r=1===n.nodeType&&" "+Z(o)+" "){for(a=0;s=t[a++];)r.indexOf(" "+s+" ")<0&&(r+=s+" ");i=Z(r),o!==i&&n.setAttribute("class",i)}return this},removeClass:function(e){var t,n,r,o,s,a,i,c=0;if(Se(e))return this.each(function(t){Ce(this).removeClass(e.call(this,t,Y(this)))});if(!arguments.length)return this.attr("class","");if(t=ee(e),t.length)for(;n=this[c++];)if(o=Y(n),r=1===n.nodeType&&" "+Z(o)+" "){for(a=0;s=t[a++];)for(;r.indexOf(" "+s+" ")>-1;)r=r.replace(" "+s+" "," ");i=Z(r),o!==i&&n.setAttribute("class",i)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):Se(e)?this.each(function(n){Ce(this).toggleClass(e.call(this,n,Y(this),t),t)}):this.each(function(){var t,o,s,a;if(r)for(o=0,s=Ce(this),a=ee(e);t=a[o++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==n||(t=Y(this),t&&ze.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":ze.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Z(Y(n))+" ").indexOf(t)>-1)return!0;return!1}});var Tt=/\r/g;Ce.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=Se(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,Ce(this).val()):e,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=Ce.map(o,function(e){return null==e?"":e+""})),(t=Ce.valHooks[this.type]||Ce.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return(t=Ce.valHooks[o.type]||Ce.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Tt,""):null==n?"":n)}}}),Ce.extend({valHooks:{option:{get:function(e){var t=Ce.find.attr(e,"value");return null!=t?t:Z(Ce.text(e))}},select:{get:function(e){var t,n,r,o=e.options,a=e.selectedIndex,i="select-one"===e.type,c=i?null:[],l=i?a+1:o.length;for(r=a<0?l:i?a:0;r<l;r++)if(n=o[r],(n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!s(n.parentNode,"optgroup"))){if(t=Ce(n).val(),i)return t;c.push(t)}return c},set:function(e,t){for(var n,r,o=e.options,s=Ce.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=Ce.inArray(Ce.valHooks.option.get(r),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),Ce.each(["radio","checkbox"],function(){Ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Ce.inArray(Ce(e).val(),t)>-1}},ve.checkOn||(Ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ve.focusin="onfocusin"in e;var At=/^(?:focusinfocus|focusoutblur)$/,Pt=function(e){e.stopPropagation()};Ce.extend(Ce.event,{trigger:function(t,n,r,o){var s,a,i,c,l,u,d,m,h=[r||ye],f=pe.call(t,"type")?t.type:t,p=pe.call(t,"namespace")?t.namespace.split("."):[];if(a=m=i=r=r||ye,3!==r.nodeType&&8!==r.nodeType&&!At.test(f+Ce.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,t=t[Ce.expando]?t:new Ce.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Ce.makeArray(n,[t]),d=Ce.event.special[f]||{},o||!d.trigger||!1!==d.trigger.apply(r,n))){if(!o&&!d.noBubble&&!be(r)){for(c=d.delegateType||f,At.test(c+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),i=a;i===(r.ownerDocument||ye)&&h.push(i.defaultView||i.parentWindow||e)}for(s=0;(a=h[s++])&&!t.isPropagationStopped();)m=a,t.type=s>1?c:d.bindType||f,u=(ze.get(a,"events")||Object.create(null))[t.type]&&ze.get(a,"handle"),u&&u.apply(a,n),(u=l&&a[l])&&u.apply&&Ie(a)&&(t.result=u.apply(a,n),!1===t.result&&t.preventDefault());return t.type=f,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),n)||!Ie(r)||l&&Se(r[f])&&!be(r)&&(i=r[l],i&&(r[l]=null),Ce.event.triggered=f,t.isPropagationStopped()&&m.addEventListener(f,Pt),r[f](),t.isPropagationStopped()&&m.removeEventListener(f,Pt),Ce.event.triggered=void 0,i&&(r[l]=i)),t.result}},simulate:function(e,t,n){var r=Ce.extend(new Ce.Event,n,{type:e,isSimulated:!0});Ce.event.trigger(r,null,t)}}),Ce.fn.extend({trigger:function(e,t){return this.each(function(){Ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Ce.event.trigger(e,t,n,!0)}}),ve.focusin||Ce.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Ce.event.simulate(t,e.target,Ce.event.fix(e))};Ce.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=ze.access(r,t);o||r.addEventListener(e,n,!0),ze.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=ze.access(r,t)-1;o?ze.access(r,t,o):(r.removeEventListener(e,n,!0),ze.remove(r,t))}}});var Ot=e.location,Nt={guid:Date.now()},jt=/\?/;Ce.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||Ce.error("Invalid XML: "+t),n};var Et=/\[\]$/,Dt=/\r?\n/g,Bt=/^(?:submit|button|image|reset|file)$/i,Jt=/^(?:input|select|textarea|keygen)/i;Ce.param=function(e,t){var n,r=[],o=function(e,t){var n=Se(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!Ce.isPlainObject(e))Ce.each(e,function(){o(this.name,this.value)});else for(n in e)te(n,e[n],t,o);return r.join("&")},Ce.fn.extend({serialize:function(){return Ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Ce.prop(this,"elements");return e?Ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Ce(this).is(":disabled")&&Jt.test(this.nodeName)&&!Bt.test(e)&&(this.checked||!Ze.test(e))}).map(function(e,t){var n=Ce(this).val();return null==n?null:Array.isArray(n)?Ce.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var qt=/%20/g,It=/#.*$/,zt=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Kt={},Vt={},Wt="*/".concat("*"),Ut=ye.createElement("a");Ut.href=Ot.href,Ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot.href,type:"GET",isLocal:Ft.test(Ot.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?oe(oe(e,Ce.ajaxSettings),t):oe(Ce.ajaxSettings,e)},ajaxPrefilter:ne(Kt),ajaxTransport:ne(Vt),ajax:function(t,n){function r(t,n,r,i){var l,m,h,b,y,M=n;u||(u=!0,c&&e.clearTimeout(c),o=void 0,a=i||"",C.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=se(f,C,r)),!l&&Ce.inArray("script",f.dataTypes)>-1&&(f.converters["text script"]=function(){}),b=ae(f,b,C,l),l?(f.ifModified&&(y=C.getResponseHeader("Last-Modified"),y&&(Ce.lastModified[s]=y),(y=C.getResponseHeader("etag"))&&(Ce.etag[s]=y)),204===t||"HEAD"===f.type?M="nocontent":304===t?M="notmodified":(M=b.state,m=b.data,h=b.error,l=!h)):(h=M,!t&&M||(M="error",t<0&&(t=0))),C.status=t,C.statusText=(n||M)+"",l?_.resolveWith(p,[m,M,C]):_.rejectWith(p,[C,M,h]),C.statusCode(S),S=void 0,d&&g.trigger(l?"ajaxSuccess":"ajaxError",[C,f,l?m:h]),v.fireWith(p,[C,M]),d&&(g.trigger("ajaxComplete",[C,f]),--Ce.active||Ce.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,s,a,i,c,l,u,d,m,h,f=Ce.ajaxSetup({},n),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?Ce(p):Ce.event,_=Ce.Deferred(),v=Ce.Callbacks("once memory"),S=f.statusCode||{},b={},y={},M="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(u){if(!i)for(i={};t=Rt.exec(a);)i[t[1].toLowerCase()+" "]=(i[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=i[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=y[e.toLowerCase()]=y[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)C.always(e[C.status]);else for(t in e)S[t]=[S[t],e[t]];return this},abort:function(e){var t=e||M;return o&&o.abort(t),r(0,t),this}};if(_.promise(C),f.url=((t||f.url||Ot.href)+"").replace(Ht,Ot.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(je)||[""],null==f.crossDomain){l=ye.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ut.protocol+"//"+Ut.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Ce.param(f.data,f.traditional)),re(Kt,f,n,C),u)return C;d=Ce.event&&f.global,d&&0==Ce.active++&&Ce.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Lt.test(f.type),s=f.url.replace(It,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(qt,"+")):(h=f.url.slice(s.length),f.data&&(f.processData||"string"==typeof f.data)&&(s+=(jt.test(s)?"&":"?")+f.data,delete f.data),!1===f.cache&&(s=s.replace(zt,"$1"),h=(jt.test(s)?"&":"?")+"_="+Nt.guid+++h),f.url=s+h),f.ifModified&&(Ce.lastModified[s]&&C.setRequestHeader("If-Modified-Since",Ce.lastModified[s]),Ce.etag[s]&&C.setRequestHeader("If-None-Match",Ce.etag[s])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Wt+"; q=0.01":""):f.accepts["*"]);for(m in f.headers)C.setRequestHeader(m,f.headers[m]);if(f.beforeSend&&(!1===f.beforeSend.call(p,C,f)||u))return C.abort();if(M="abort",v.add(f.complete),C.done(f.success),C.fail(f.error),o=re(Vt,f,n,C)){if(C.readyState=1,d&&g.trigger("ajaxSend",[C,f]),u)return C;f.async&&f.timeout>0&&(c=e.setTimeout(function(){C.abort("timeout")},f.timeout));try{u=!1,o.send(b,r)}catch(e){if(u)throw e;r(-1,e)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return Ce.get(e,t,n,"json")},getScript:function(e,t){return Ce.get(e,void 0,t,"script")}}),Ce.each(["get","post"],function(e,t){Ce[t]=function(e,n,r,o){return Se(n)&&(o=o||r,r=n,n=void 0),Ce.ajax(Ce.extend({url:e,type:t,dataType:o,data:n,success:r},Ce.isPlainObject(e)&&e))}}),Ce.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),Ce._evalUrl=function(e,t,n){return Ce.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){Ce.globalEval(e,t,n)}})},Ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(Se(e)&&(e=e.call(this[0])),t=Ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return Se(e)?this.each(function(t){Ce(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Ce(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Se(e);return this.each(function(n){Ce(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Ce(this).replaceWith(this.childNodes)}),this}}),Ce.expr.pseudos.hidden=function(e){return!Ce.expr.pseudos.visible(e)},Ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Ce.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Qt={0:200,1223:204},Gt=Ce.ajaxSettings.xhr();ve.cors=!!Gt&&"withCredentials"in Gt,ve.ajax=Gt=!!Gt,Ce.ajaxTransport(function(t){var n,r;if(ve.cors||Gt&&!t.crossDomain)return{send:function(o,s){var a,i=t.xhr();if(i.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)i[a]=t.xhrFields[a];t.mimeType&&i.overrideMimeType&&i.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)i.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=r=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?s(0,"error"):s(i.status,i.statusText):s(Qt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=n(),r=i.onerror=i.ontimeout=n("error"),void 0!==i.onabort?i.onabort=r:i.onreadystatechange=function(){4===i.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{i.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),Ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Ce.globalEval(e),e}}}),Ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Ce.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(r,o){t=Ce("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),ye.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Xt=[],Zt=/(=)\?(?=&|$)|\?\?/;Ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||Ce.expando+"_"+Nt.guid++;return this[e]=!0,e}}),Ce.ajaxPrefilter("json jsonp",function(t,n,r){var o,s,a,i=!1!==t.jsonp&&(Zt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(t.data)&&"data");if(i||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=Se(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,i?t[i]=t[i].replace(Zt,"$1"+o):!1!==t.jsonp&&(t.url+=(jt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||Ce.error(o+" was not called"),a[0]},t.dataTypes[0]="json",s=e[o],e[o]=function(){a=arguments},r.always(function(){void 0===s?Ce(e).removeProp(o):e[o]=s,t[o]&&(t.jsonpCallback=n.jsonpCallback,Xt.push(o)),a&&Se(s)&&s(a[0]),a=s=void 0}),"script"}),ve.createHTMLDocument=function(){var e=ye.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Ce.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,o,s;return t||(ve.createHTMLDocument?(t=ye.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=ye.location.href,t.head.appendChild(r)):t=ye),o=Te.exec(e),s=!n&&[],o?[t.createElement(o[1])]:(o=C([e],t,s),s&&s.length&&Ce(s).remove(),Ce.merge([],o.childNodes))},Ce.fn.load=function(e,t,n){var r,o,s,a=this,i=e.indexOf(" ");return i>-1&&(r=Z(e.slice(i)),e=e.slice(0,i)),Se(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&Ce.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){s=arguments,a.html(r?Ce("<div>").append(Ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},Ce.expr.pseudos.animated=function(e){return Ce.grep(Ce.timers,function(t){return e===t.elem}).length},Ce.offset={setOffset:function(e,t,n){var r,o,s,a,i,c,l,u=Ce.css(e,"position"),d=Ce(e),m={};"static"===u&&(e.style.position="relative"),i=d.offset(),s=Ce.css(e,"top"),c=Ce.css(e,"left"),l=("absolute"===u||"fixed"===u)&&(s+c).indexOf("auto")>-1,l?(r=d.position(),a=r.top,o=r.left):(a=parseFloat(s)||0,o=parseFloat(c)||0),Se(t)&&(t=t.call(e,n,Ce.extend({},i))),null!=t.top&&(m.top=t.top-i.top+a),null!=t.left&&(m.left=t.left-i.left+o),"using"in t?t.using.call(e,m):("number"==typeof m.top&&(m.top+="px"),"number"==typeof m.left&&(m.left+="px"),d.css(m))}},Ce.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Ce.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===Ce.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Ce.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(o=Ce(e).offset(),o.top+=Ce.css(e,"borderTopWidth",!0),o.left+=Ce.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-Ce.css(r,"marginTop",!0),left:t.left-o.left-Ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Ce.css(e,"position");)e=e.offsetParent;return e||We})}}),Ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Ce.fn[e]=function(r){return Be(this,function(e,r,o){var s;if(be(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===o)return s?s[t]:e[r];s?s.scrollTo(n?s.pageXOffset:o,n?o:s.pageYOffset):e[r]=o},e,r,arguments.length)}}),Ce.each(["top","left"],function(e,t){Ce.cssHooks[t]=q(ve.pixelPosition,function(e,n){if(n)return n=J(e,t),lt.test(n)?Ce(e).position()[t]+"px":n})}),Ce.each({Height:"height",Width:"width"},function(e,t){Ce.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Ce.fn[r]=function(o,s){var a=arguments.length&&(n||"boolean"!=typeof o),i=n||(!0===o||!0===s?"margin":"border");return Be(this,function(t,n,o){var s;return be(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===o?Ce.css(t,n,i):Ce.style(t,n,o,i)},t,a?o:void 0,a)}})}),Ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Ce.fn[t]=function(e){return this.on(t,e)}}),Ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Ce.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var Yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Ce.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),Se(e))return r=le.call(arguments,2),o=function(){return e.apply(t||this,r.concat(le.call(arguments)))},o.guid=e.guid=e.guid||Ce.guid++,o},Ce.holdReady=function(e){e?Ce.readyWait++:Ce.ready(!0)},Ce.isArray=Array.isArray,Ce.parseJSON=JSON.parse,Ce.nodeName=s,Ce.isFunction=Se,Ce.isWindow=be,Ce.camelCase=f,Ce.type=r,Ce.now=Date.now,Ce.isNumeric=function(e){var t=Ce.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},Ce.trim=function(e){return null==e?"":(e+"").replace(Yt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return Ce});var en=e.jQuery,tn=e.$;return Ce.noConflict=function(t){return e.$===Ce&&(e.$=tn),t&&e.jQuery===Ce&&(e.jQuery=en),Ce},void 0===t&&(e.jQuery=e.$=Ce),Ce}),define("amber/jquery/Wrappers-JQuery",["amber/boot","require","amber/core/Kernel-Collections","amber/core/Kernel-Infrastructure","amber/core/Kernel-Methods","amber/core/Kernel-Objects"],function($boot,requirejs){"use strict";var $core=$boot.api,nil=$boot.nilAsValue,$nil=$boot.nilAsReceiver,$recv=$boot.asReceiver,$globals=$boot.globals,$pkg=$core.addPackage("Wrappers-JQuery");$pkg.innerEval=function(expr){return eval(expr)},$pkg.imports=["jQuery=jquery"];var jQuery;$pkg.isReady=new Promise(function(e,t){requirejs(["jquery"],function(t){jQuery=t,e()},t)}),$pkg.transport={type:"amd",amdNamespace:"amber/jquery"},$core.addClass("JQuery",$globals.Object,[],"Wrappers-JQuery"),$core.addMethod($core.method({selector:"current",protocol:"initialization",fn:function(){return jQuery},pragmas:[],messageSends:[]}),$globals.JQuery.a$cls),$core.addMethod($core.method({selector:"initialize",protocol:"initialization",fn:function(){var e=this;return $recv($globals.Smalltalk)._optOut_(jQuery),e},pragmas:[],messageSends:["optOut:"]}),$globals.JQuery.a$cls),$core.addMethod($core.method({selector:"asJQuery",protocol:"*Wrappers-JQuery",fn:function(){var e=this;return $recv([e])._asJQuery()},pragmas:[],messageSends:["asJQuery"]}),$globals.BlockClosure),$core.addMethod($core.method({selector:"asJQueryInContext:",protocol:"*Wrappers-JQuery",fn:function(e){var t=this;return $recv([t])._asJQueryInContext_(e)},pragmas:[],messageSends:["asJQueryInContext:"]}),$globals.BlockClosure),$core.addMethod($core.method({selector:"asJQuery",protocol:"*Wrappers-JQuery",fn:function(){return jQuery(this.jsObject)},pragmas:[["inlineJS:",["return jQuery($self.jsObject)"]]],messageSends:[]}),$globals.JSObjectProxy),$core.addMethod($core.method({selector:"asJQueryInContext:",protocol:"*Wrappers-JQuery",fn:function(e){return jQuery(this.jsObject,e)},pragmas:[["inlineJS:",["return jQuery($self.jsObject, aContext)"]]],messageSends:[]}),$globals.JSObjectProxy),$core.addMethod($core.method({selector:"asJQuery",protocol:"*Wrappers-JQuery",fn:function(){var e=this;return jQuery(e)},pragmas:[["inlineJS:",["return jQuery(self)"]]],messageSends:[]}),$globals.Object),$core.addMethod($core.method({selector:"asJQueryInContext:",protocol:"*Wrappers-JQuery",fn:function(e){var t=this;return jQuery(t,e)},pragmas:[["inlineJS:",["return jQuery(self, aContext)"]]],messageSends:[]}),$globals.Object),$core.addMethod($core.method({selector:"asJQuery",protocol:"*Wrappers-JQuery",fn:function(){var e=this;return jQuery(String(e))},pragmas:[["inlineJS:",["return jQuery(String(self))"]]],messageSends:[]}),$globals.String),$core.addMethod($core.method({selector:"asJQueryInContext:",protocol:"*Wrappers-JQuery",fn:function(e){var t=this;return jQuery(String(t),e)},pragmas:[["inlineJS:",["return jQuery(String(self), aContext)"]]],messageSends:[]}),$globals.String)}),define("amber/web/Web-JQuery",["amber/boot","require","amber/core/Kernel-Collections","amber/core/Kernel-Methods","amber/core/Kernel-Objects","amber/web/Web"],function($boot,requirejs){"use strict";var $core=$boot.api,nil=$boot.nilAsValue,$nil=$boot.nilAsReceiver,$recv=$boot.asReceiver,$globals=$boot.globals,$pkg=$core.addPackage("Web-JQuery");$pkg.innerEval=function(expr){return eval(expr)},$pkg.imports=["amber/jquery/Wrappers-JQuery"],$pkg.isReady=new Promise(function(e,t){requirejs(["amber/jquery/Wrappers-JQuery"],function(){e()},t)}),$pkg.transport={type:"amd",amdNamespace:"amber/web"},$core.addMethod($core.method({selector:"appendToJQuery:",protocol:"*Web-JQuery",fn:function(e){var t=this;return this._value_($recv($globals.HTMLCanvas)._onJQuery_(e)),t},pragmas:[],messageSends:["value:","onJQuery:"]}),$globals.BlockClosure),$core.addMethod($core.method({selector:"initializeFromJQuery:",protocol:"*Web-JQuery",fn:function(e){var t=this;return this.root=$recv($globals.TagBrush)._fromJQuery_canvas_(e,t),t},pragmas:[],messageSends:["fromJQuery:canvas:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"onJQuery:",protocol:"*Web-JQuery",fn:function(e){var t,n=this;return t=n._new(),$recv(t)._initializeFromJQuery_(e),$recv(t)._yourself()},pragmas:[],messageSends:["initializeFromJQuery:","new","yourself"]}),$globals.HTMLCanvas.a$cls),$core.addMethod($core.method({selector:"appendToJQuery:",protocol:"*Web-JQuery",fn:function(e){var t=this,n=this;return $recv(e)._append_(n._asString()),t},pragmas:[],messageSends:["append:","asString"]}),$globals.Object),$core.addMethod($core.method({selector:"appendToJQuery:",protocol:"*Web-JQuery",fn:function(e){var t=this;return $recv(e)._append_(t),t},pragmas:[],messageSends:["append:"]}),$globals.String),$core.addMethod($core.method({selector:"asJQuery",protocol:"*Web-JQuery",fn:function(){return $recv(this._asDomNode())._asJQuery()},pragmas:[],messageSends:["asJQuery","asDomNode"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"asJQueryInContext:",protocol:"*Web-JQuery",fn:function(e){return $recv(this._asDomNode())._asJQueryInContext_(e)},pragmas:[],messageSends:["asJQueryInContext:","asDomNode"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"initializeFromJQuery:canvas:",protocol:"*Web-JQuery",fn:function(e,t){var n=this,r=this;return r.element=$recv(e)._get_(0),r.canvas=t,n},pragmas:[],messageSends:["get:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onHover:",protocol:"*Web-JQuery",fn:function(e){var t=this;return $recv(this._asJQuery())._bind_do_("hover",e),t},pragmas:[],messageSends:["bind:do:","asJQuery"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"fromJQuery:",protocol:"*Web-JQuery",fn:function(e){return this._fromJQuery_canvas_(e,$recv($globals.HTMLCanvas)._new())},pragmas:[],messageSends:["fromJQuery:canvas:","new"]}),$globals.TagBrush.a$cls),$core.addMethod($core.method({selector:"fromJQuery:canvas:",protocol:"*Web-JQuery",fn:function(e,t){var n,r=this;return n=r._new(),$recv(n)._initializeFromJQuery_canvas_(e,t),$recv(n)._yourself()},pragmas:[],messageSends:["initializeFromJQuery:canvas:","new","yourself"]}),$globals.TagBrush.a$cls),$core.addMethod($core.method({selector:"appendToJQuery:",protocol:"*Web-JQuery",fn:function(e){var t=this;return this._renderOn_($recv($globals.HTMLCanvas)._onJQuery_(e)),t},pragmas:[],messageSends:["renderOn:","onJQuery:"]}),$globals.Widget)}),define("amber/web/Web",["amber/boot","require","amber/core/Kernel-Collections","amber/core/Kernel-Infrastructure","amber/core/Kernel-Methods","amber/core/Kernel-Objects"],function($boot,requirejs){"use strict";var $core=$boot.api,nil=$boot.nilAsValue,$nil=$boot.nilAsReceiver,$recv=$boot.asReceiver,$globals=$boot.globals,$pkg=$core.addPackage("Web");$pkg.innerEval=function(expr){return eval(expr)},$pkg.imports=["amber/core/Platform-DOM","amber/web/Web-JQuery"],$pkg.isReady=new Promise(function(e,t){requirejs(["amber/core/Platform-DOM","amber/web/Web-JQuery"],function(){e()},t)}),$pkg.transport={type:"amd",amdNamespace:"amber/web"},$core.addClass("HTMLCanvas",$globals.Object,["root"],"Web"),$core.addMethod($core.method({selector:"a",protocol:"tags",fn:function(){return this._tag_("a")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"abbr",protocol:"tags",fn:function(){return this._tag_("abbr")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"address",protocol:"tags",fn:function(){return this._tag_("address")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"area",protocol:"tags",fn:function(){return this._tag_("area")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"article",protocol:"tags",fn:function(){return this._tag_("article")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"aside",protocol:"tags",fn:function(){return this._tag_("aside")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"audio",protocol:"tags",fn:function(){return this._tag_("audio")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"base",protocol:"tags",fn:function(){return this._tag_("base")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"blockquote",protocol:"tags",fn:function(){return this._tag_("blockquote")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"body",protocol:"tags",fn:function(){return this._tag_("body")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"br",protocol:"tags",fn:function(){return this._tag_("br")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"button",
protocol:"tags",fn:function(){return this._tag_("button")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"canvas",protocol:"tags",fn:function(){return this._tag_("canvas")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"caption",protocol:"tags",fn:function(){return this._tag_("caption")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"cite",protocol:"tags",fn:function(){return this._tag_("cite")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"code",protocol:"tags",fn:function(){return this._tag_("code")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"col",protocol:"tags",fn:function(){return this._tag_("col")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"colgroup",protocol:"tags",fn:function(){return this._tag_("colgroup")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"command",protocol:"tags",fn:function(){return this._tag_("command")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"datalist",protocol:"tags",fn:function(){return this._tag_("datalist")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"dd",protocol:"tags",fn:function(){return this._tag_("dd")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"del",protocol:"tags",fn:function(){return this._tag_("del")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"details",protocol:"tags",fn:function(){return this._tag_("details")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"div",protocol:"tags",fn:function(){return this._tag_("div")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"div:",protocol:"tags",fn:function(e){return $recv(this._div())._with_(e)},pragmas:[],messageSends:["with:","div"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"dl",protocol:"tags",fn:function(){return this._tag_("dl")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"dt",protocol:"tags",fn:function(){return this._tag_("dt")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"em",protocol:"tags",fn:function(){return this._tag_("em")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"embed",protocol:"tags",fn:function(){return this._tag_("embed")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"entity:",protocol:"adding",fn:function(e){var t,n,r,o,s,a=this,i=this;return n=$recv($recv($globals.TagBrush)._fromString_("span"))._asDomNode(),r="&".__comma(e),o=$recv(r).__comma(";"),$recv(n)._innerHTML_(o),t=$recv(n)._textContent(),s=$recv($recv(t)._size()).__eq(1),$core.assert(s)||i._error_("Not an HTML entity: ".__comma(e)),i._with_(t),a},pragmas:[],messageSends:["innerHTML:","asDomNode","fromString:",",","textContent","ifFalse:","=","size","error:","with:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"fieldset",protocol:"tags",fn:function(){return this._tag_("fieldset")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"figcaption",protocol:"tags",fn:function(){return this._tag_("figcaption")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"figure",protocol:"tags",fn:function(){return this._tag_("figure")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"footer",protocol:"tags",fn:function(){return this._tag_("footer")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"form",protocol:"tags",fn:function(){return this._tag_("form")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"h1",protocol:"tags",fn:function(){return this._tag_("h1")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"h1:",protocol:"tags",fn:function(e){return $recv(this._h1())._with_(e)},pragmas:[],messageSends:["with:","h1"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"h2",protocol:"tags",fn:function(){return this._tag_("h2")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"h2:",protocol:"tags",fn:function(e){return $recv(this._h2())._with_(e)},pragmas:[],messageSends:["with:","h2"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"h3",protocol:"tags",fn:function(){return this._tag_("h3")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"h3:",protocol:"tags",fn:function(e){return $recv(this._h3())._with_(e)},pragmas:[],messageSends:["with:","h3"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"h4",protocol:"tags",fn:function(){return this._tag_("h4")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"h4:",protocol:"tags",fn:function(e){return $recv(this._h4())._with_(e)},pragmas:[],messageSends:["with:","h4"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"h5",protocol:"tags",fn:function(){return this._tag_("h5")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"h5:",protocol:"tags",fn:function(e){return $recv(this._h5())._with_(e)},pragmas:[],messageSends:["with:","h5"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"h6",protocol:"tags",fn:function(){return this._tag_("h6")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"h6:",protocol:"tags",fn:function(e){return $recv(this._h6())._with_(e)},pragmas:[],messageSends:["with:","h6"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"head",protocol:"tags",fn:function(){return this._tag_("head")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"header",protocol:"tags",fn:function(){return this._tag_("header")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"hgroup",protocol:"tags",fn:function(){return this._tag_("hgroup")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"hr",protocol:"tags",fn:function(){return this._tag_("hr")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"html",protocol:"tags",fn:function(){return this._tag_("html")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"iframe",protocol:"tags",fn:function(){return this._tag_("iframe")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"iframe:",protocol:"tags",fn:function(e){return $recv(this._iframe())._src_(e)},pragmas:[],messageSends:["src:","iframe"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"img",protocol:"tags",fn:function(){return this._tag_("img")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"img:",protocol:"tags",fn:function(e){return $recv(this._img())._src_(e)},pragmas:[],messageSends:["src:","img"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"input",protocol:"tags",fn:function(){return this._tag_("input")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"label",protocol:"tags",fn:function(){return this._tag_("label")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"legend",protocol:"tags",fn:function(){return this._tag_("legend")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"li",protocol:"tags",fn:function(){return this._tag_("li")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"li:",protocol:"tags",fn:function(e){return $recv(this._li())._with_(e)},pragmas:[],messageSends:["with:","li"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"link",protocol:"tags",fn:function(){return this._tag_("link")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"map",protocol:"tags",fn:function(){return this._tag_("map")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"mark",protocol:"tags",fn:function(){return this._tag_("mark")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"menu",protocol:"tags",fn:function(){return this._tag_("menu")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"meta",protocol:"tags",fn:function(){return this._tag_("meta")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"nav",protocol:"tags",fn:function(){return this._tag_("nav")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"newTag:",protocol:"tags",fn:function(e){var t=this;return $recv($globals.TagBrush)._fromString_canvas_(e,t)},pragmas:[],messageSends:["fromString:canvas:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"noscript",protocol:"tags",fn:function(){return this._tag_("noscript")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"object",protocol:"tags",fn:function(){return this._tag_("object")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"ol",protocol:"tags",fn:function(){return this._tag_("ol")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"ol:",protocol:"tags",fn:function(e){return $recv(this._ol())._with_(e)},pragmas:[],messageSends:["with:","ol"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"optgroup",protocol:"tags",fn:function(){return this._tag_("optgroup")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"option",protocol:"tags",fn:function(){return this._tag_("option")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"output",protocol:"tags",fn:function(){return this._tag_("output")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"p",protocol:"tags",fn:function(){return this._tag_("p")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"p:",protocol:"tags",fn:function(e){return $recv(this._p())._with_(e)},pragmas:[],messageSends:["with:","p"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"param",protocol:"tags",fn:function(){return this._tag_("param")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"pre",protocol:"tags",fn:function(){return this._tag_("pre")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"progress",protocol:"tags",fn:function(){return this._tag_("progress")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"root",protocol:"accessing",fn:function(){var e,t,n=this,r=this;return e=r.root,null==(t=e)||t.a$nil?(r.root=$recv($globals.TagBrush)._fromString_canvas_("div",n),r.root):e},pragmas:[],messageSends:["ifNil:","fromString:canvas:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"root:",protocol:"accessing",fn:function(e){var t=this,n=this;return n._deprecatedAPI(),n.root=e,t},pragmas:[],messageSends:["deprecatedAPI"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"root:do:",protocol:"adding",fn:function(e,t){var n,r=this,o=this;return n=o.root,o.root=e,$recv(t)._value_(r),o.root=n,r},pragmas:[],messageSends:["value:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"script",protocol:"tags",fn:function(){return this._tag_("script")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"section",protocol:"tags",fn:function(){return this._tag_("section")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"select",protocol:"tags",fn:function(){return this._tag_("select")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"small",protocol:"tags",fn:function(){return this._tag_("small")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"source",protocol:"tags",fn:function(){return this._tag_("source")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"span",protocol:"tags",fn:function(){return this._tag_("span")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"span:",protocol:"tags",fn:function(e){return $recv(this._span())._with_(e)},pragmas:[],messageSends:["with:","span"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"strong",protocol:"tags",fn:function(){return this._tag_("strong")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"strong:",protocol:"tags",fn:function(e){return $recv(this._strong())._with_(e)},pragmas:[],messageSends:["with:","strong"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"style",protocol:"tags",fn:function(){return this._tag_("style")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"style:",protocol:"tags",fn:function(e){var t,n=this;return t=n._style(),$recv(t)._with_(e),$recv(t)._yourself()},pragmas:[],messageSends:["with:","style","yourself"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"sub",protocol:"tags",fn:function(){return this._tag_("sub")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"summary",protocol:"tags",fn:function(){return this._tag_("summary")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"sup",protocol:"tags",fn:function(){return this._tag_("sup")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"table",protocol:"tags",fn:function(){return this._tag_("table")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"tag:",protocol:"tags",fn:function(e){var t=this;return $recv(t._root())._addBrush_(t._newTag_(e))},pragmas:[],messageSends:["addBrush:","root","newTag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"tbody",protocol:"tags",fn:function(){return this._tag_("tbody")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"td",protocol:"tags",fn:function(){return this._tag_("td")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"textarea",protocol:"tags",fn:function(){return this._tag_("textarea")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"tfoot",protocol:"tags",fn:function(){return this._tag_("tfoot")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"th",protocol:"tags",fn:function(){return this._tag_("th")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"thead",protocol:"tags",fn:function(){return this._tag_("thead")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"time",protocol:"tags",fn:function(){return this._tag_("time")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"title",protocol:"tags",fn:function(){return this._tag_("title")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"tr",protocol:"tags",fn:function(){return this._tag_("tr")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"ul",protocol:"tags",fn:function(){return this._tag_("ul")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"ul:",protocol:"tags",fn:function(e){return $recv(this._ul())._with_(e)},pragmas:[],messageSends:["with:","ul"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"video",protocol:"tags",fn:function(){return this._tag_("video")},pragmas:[],messageSends:["tag:"]}),$globals.HTMLCanvas),$core.addMethod($core.method({selector:"with:",protocol:"adding",fn:function(e){return $recv(this._root())._with_(e)},pragmas:[],messageSends:["with:","root"]}),$globals.HTMLCanvas),$core.addClass("TagBrush",$globals.Object,["canvas","element"],"Web"),$core.addMethod($core.method({selector:"accesskey:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("accesskey",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"action:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("action",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"addBrush:",protocol:"adding",fn:function(e){return this._appendChild_($recv(e)._asDomNode()),e},pragmas:[],messageSends:["appendChild:","asDomNode"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"align:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("align",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"alt:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("alt",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"append:",protocol:"adding",fn:function(e){var t=this;return $recv(e)._appendToBrush_(t),t},pragmas:[],messageSends:["appendToBrush:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"appendBlock:",protocol:"adding",fn:function(e){var t=this;return $recv(this.canvas)._root_do_(t,e),t},pragmas:[],messageSends:["root:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"appendChild:",protocol:"adding",fn:function(e){var t=this;return $recv(this.element)._appendChild_(e),t},pragmas:[],messageSends:["appendChild:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"appendString:",protocol:"adding",fn:function(e){var t=this;return this._appendChild_($recv(e)._asDomNode()),t},pragmas:[],messageSends:["appendChild:","asDomNode"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"appendToBrush:",protocol:"adding",fn:function(e){var t=this;return $recv(e)._addBrush_(t),t},pragmas:[],messageSends:["addBrush:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"asDomNode",protocol:"converting",fn:function(){return this.element},pragmas:[],messageSends:[]}),$globals.TagBrush),$core.addMethod($core.method({selector:"at:",protocol:"attributes",fn:function(e){return this._at_ifAbsent_(e,function(){return $recv($recv($globals.Collection)._new())._errorNotFound()})},pragmas:[],messageSends:["at:ifAbsent:","errorNotFound","new"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"at:ifAbsent:",protocol:"attributes",fn:function(e,t){var n=this;return n.element.hasAttribute(e)?n.element.getAttribute(e):t._value()},pragmas:[["inlineJS:",["return $self.element.hasAttribute(aString) ? $self.element.getAttribute(aString) : aBlock._value()"]]],messageSends:[]}),$globals.TagBrush),$core.addMethod($core.method({selector:"at:put:",protocol:"attributes",fn:function(e,t){return this.element.setAttribute(e,t),t},pragmas:[["inlineJS:",["$self.element.setAttribute(aString, aValue); return aValue"]]],messageSends:[]}),$globals.TagBrush),$core.addMethod($core.method({selector:"class:",protocol:"attributes",fn:function(e){var t=this;return this.element.className=e,t},pragmas:[["inlineJS:",["$self.element.className = aString"]]],messageSends:[]}),$globals.TagBrush),$core.addMethod($core.method({selector:"cols:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("cols",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"contenteditable:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("contenteditable",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"contents:",protocol:"adding",fn:function(e){var t=this,n=this;return n._empty(),n._append_(e),t},pragmas:[],messageSends:["empty","append:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"contextmenu:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("contextmenu",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"draggable:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("draggable",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"element",protocol:"accessing",fn:function(){return this.element},pragmas:[],messageSends:[]}),$globals.TagBrush),$core.addMethod($core.method({selector:"empty",protocol:"adding",fn:function(){for(var e,t=this,n=this,r=n.element;e=r.firstChild;)r.removeChild(e);return t},pragmas:[["inlineJS:",["\n\tvar element = $self.element, child;\n\twhile (child = element.firstChild) element.removeChild(child);"]]],messageSends:[]}),$globals.TagBrush),$core.addMethod($core.method({selector:"for:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("for",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"height:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("height",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"hidden",protocol:"attributes",fn:function(){var e=this;return this._at_put_("hidden","hidden"),e},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"href:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("href",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"id:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("id",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"initializeFromCssSelector:canvas:",protocol:"initialization",fn:function(e,t){var n=this,r=this;return r.element=$recv(document)._querySelector_(e),r.canvas=t,n},pragmas:[],messageSends:["querySelector:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"initializeFromString:canvas:",protocol:"initialization",fn:function(e,t){var n=this,r=this;return r.element=$recv(document)._createElement_(e),r.canvas=t,n},pragmas:[],messageSends:["createElement:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"media:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("media",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"method:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("method",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"name:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("name",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onBlur:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("blur",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onChange:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("change",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onClick:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("click",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onDblClick:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("dblclick",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onEvent:do:",protocol:"events",fn:function(e,t){var n=this;return $recv(this._asDomNode())._addEventListener_block_useCapture_(e,t,!1),n},pragmas:[],messageSends:["addEventListener:block:useCapture:","asDomNode"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onFocus:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("focus",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onFocusIn:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("focusin",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onFocusOut:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("focusout",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onKeyDown:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("keydown",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onKeyPress:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("keypress",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onKeyUp:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("keyup",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onMouseDown:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("mousedown",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onMouseEnter:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("mouseenter",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onMouseLeave:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("mouseleave",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onMouseMove:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("mousemove",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onMouseOut:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("mouseout",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onMouseOver:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("mouseover",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onMouseUp:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("mouseup",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onSelect:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("select",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onSubmit:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("submit",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"onUnload:",protocol:"events",fn:function(e){var t=this;return this._onEvent_do_("unload",e),t},pragmas:[],messageSends:["onEvent:do:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"placeholder:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("placeholder",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"rel:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("rel",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"removeAt:",protocol:"attributes",fn:function(e){var t=this;return this.element.removeAttribute(e),t},pragmas:[["inlineJS:",["$self.element.removeAttribute(aString)"]]],messageSends:[]}),$globals.TagBrush),$core.addMethod($core.method({selector:"rows:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("rows",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"src:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("src",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"style:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("style",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"tabindex:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("tabindex",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"target:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("target",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"title:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("title",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"type:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("type",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"valign:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("valign",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"value:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("value",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"width:",protocol:"attributes",fn:function(e){var t=this;return this._at_put_("width",e),t},pragmas:[],messageSends:["at:put:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"with:",protocol:"adding",fn:function(e){var t=this;return this._append_(e),t},pragmas:[],messageSends:["append:"]}),$globals.TagBrush),$core.addMethod($core.method({selector:"fromCssSelector:",protocol:"instance creation",fn:function(e){return this._fromCssSelector_canvas_(e,$recv($globals.HTMLCanvas)._new())},pragmas:[],messageSends:["fromCssSelector:canvas:","new"]}),$globals.TagBrush.a$cls),$core.addMethod($core.method({selector:"fromCssSelector:canvas:",protocol:"instance creation",fn:function(e,t){var n,r=this;return n=r._new(),$recv(n)._initializeFromCssSelector_canvas_(e,t),$recv(n)._yourself()},pragmas:[],messageSends:["initializeFromCssSelector:canvas:","new","yourself"]}),$globals.TagBrush.a$cls),$core.addMethod($core.method({selector:"fromString:",protocol:"instance creation",fn:function(e){return this._fromString_canvas_(e,$recv($globals.HTMLCanvas)._new())},pragmas:[],messageSends:["fromString:canvas:","new"]}),$globals.TagBrush.a$cls),$core.addMethod($core.method({selector:"fromString:canvas:",protocol:"instance creation",fn:function(e,t){var n,r=this;return n=r._new(),$recv(n)._initializeFromString_canvas_(e,t),$recv(n)._yourself()},pragmas:[],
messageSends:["initializeFromString:canvas:","new","yourself"]}),$globals.TagBrush.a$cls),$core.addClass("Widget",$globals.Object,[],"Web"),$core.addMethod($core.method({selector:"appendToBrush:",protocol:"adding",fn:function(e){var t=this,n=this;return $recv(function(e){return n._renderOn_(e)})._appendToBrush_(e),t},pragmas:[],messageSends:["appendToBrush:","renderOn:"]}),$globals.Widget),$core.addMethod($core.method({selector:"renderOn:",protocol:"rendering",fn:function(e){var t=this;return t},pragmas:[],messageSends:[]}),$globals.Widget),$core.addMethod($core.method({selector:"classTag",protocol:"accessing",fn:function(){return"widget"},pragmas:[],messageSends:[]}),$globals.Widget.a$cls),$core.addMethod($core.method({selector:"appendToBrush:",protocol:"*Web",fn:function(e){var t=this,n=this;return $recv(e)._at_put_(n._key(),n._value()),t},pragmas:[],messageSends:["at:put:","key","value"]}),$globals.Association),$core.addMethod($core.method({selector:"appendToBrush:",protocol:"*Web",fn:function(e){var t=this;return $recv(e)._appendBlock_(t),t},pragmas:[],messageSends:["appendBlock:"]}),$globals.BlockClosure),$core.addMethod($core.method({selector:"appendToBrush:",protocol:"*Web",fn:function(e){var t=this;return this._do_(function(t){return $recv(e)._append_(t)}),t},pragmas:[],messageSends:["do:","append:"]}),$globals.Collection),$core.addMethod($core.method({selector:"appendToBrush:",protocol:"*Web",fn:function(e){var t,n=this,r=this;return t=$recv($globals.PlatformDom)._isDomNode_(r.jsObject),$core.assert(t)?$recv(e)._appendChild_(r.jsObject):$recv(e)._append_(r._asString()),n},pragmas:[],messageSends:["ifTrue:ifFalse:","isDomNode:","appendChild:","append:","asString"]}),$globals.JSObjectProxy),$core.addMethod($core.method({selector:"appendToBrush:",protocol:"*Web",fn:function(e){var t=this,n=this;return $recv(e)._append_(n._asString()),t},pragmas:[],messageSends:["append:","asString"]}),$globals.Object),$core.addMethod($core.method({selector:"appendToBrush:",protocol:"*Web",fn:function(e){var t=this;return $recv(e)._appendString_(t),t},pragmas:[],messageSends:["appendString:"]}),$globals.String),$core.addMethod($core.method({selector:"asBrush",protocol:"*Web",fn:function(){var e=this;return $recv($globals.TagBrush)._fromCssSelector_(e)},pragmas:[],messageSends:["fromCssSelector:"]}),$globals.String)}),define("domite/DOMite",["amber/boot","require","amber/core/Kernel-Collections"],function($boot,requirejs){"use strict";var $core=$boot.api,nil=$boot.nilAsValue,$nil=$boot.nilAsReceiver,$recv=$boot.asReceiver,$globals=$boot.globals,$pkg=$core.addPackage("DOMite");$pkg.innerEval=function(expr){return eval(expr)},$pkg.imports=["amber/core/Platform-DOM"],$pkg.isReady=new Promise(function(e,t){requirejs(["amber/core/Platform-DOM"],function(){e()},t)}),$pkg.transport={type:"amd",amdNamespace:"domite"},$core.addClass("Domite",$globals.ProtoStream,["element","reference"],"DOMite"),$core.addMethod($core.method({selector:"=",protocol:"comparing",fn:function(e){var t,n,r,o,s,a=this;return t=a._class(),n=$recv(t).__eq($recv(e)._class()),$recv(n)._and_(function(){return r=a._element(),o=$recv(r).__eq($recv(e)._element()),$recv(o)._and_(function(){return s=a._reference(),$recv(s).__eq($recv(e)._reference())})})},messageSends:["and:","=","class","element","reference"]}),$globals.Domite),$core.addMethod($core.method({selector:"allAt:",protocol:"accessing",fn:function(e){var t=this;return $recv(t._class())._wrap_($recv($globals.PlatformDom)._toArray_($recv(t._element())._querySelectorAll_(e)))},messageSends:["wrap:","class","toArray:","querySelectorAll:","element"]}),$globals.Domite),$core.addMethod($core.method({selector:"asDomNode",protocol:"converting",fn:function(){return this.element},messageSends:[]}),$globals.Domite),$core.addMethod($core.method({selector:"asJQuery",protocol:"converting",fn:function(){return $recv(this._asDomNode())._asJQuery()},messageSends:["asJQuery","asDomNode"]}),$globals.Domite),$core.addMethod($core.method({selector:"at:",protocol:"accessing",fn:function(e){var t=this;return $recv(t._class())._fromElement_($recv(t._element())._querySelector_(e))},messageSends:["fromElement:","class","querySelector:","element"]}),$globals.Domite),$core.addMethod($core.method({selector:"atEnd",protocol:"testing",fn:function(){return $recv(this._reference())._isNil()},messageSends:["isNil","reference"]}),$globals.Domite),$core.addMethod($core.method({selector:"atStart",protocol:"testing",fn:function(){var e=this;return $recv(e._reference()).__eq($recv(e._element())._firstChild())},messageSends:["=","reference","firstChild","element"]}),$globals.Domite),$core.addMethod($core.method({selector:"attrAt:",protocol:"accessing",fn:function(e){var t,n=this;return t=$recv(n.element)._hasAttribute_(e),$core.assert(t)?$recv(n.element)._getAttribute_(e):nil},messageSends:["ifTrue:ifFalse:","hasAttribute:","getAttribute:"]}),$globals.Domite),$core.addMethod($core.method({selector:"attrAt:put:",protocol:"accessing",fn:function(e,t){var n=this;return $recv(this.element)._setAttribute_to_(e,t),n},messageSends:["setAttribute:to:"]}),$globals.Domite),$core.addMethod($core.method({selector:"back",protocol:"reading",fn:function(){var e,t=this;return e=t._atStart(),$core.assert(e)?nil:(t._setToBack(),t._peek())},messageSends:["ifTrue:ifFalse:","atStart","setToBack","peek"]}),$globals.Domite),$core.addMethod($core.method({selector:"canSetToUpperLevel",protocol:"testing",fn:function(){return $recv($recv(this._element())._parentNode())._notNil()},messageSends:["notNil","parentNode","element"]}),$globals.Domite),$core.addMethod($core.method({selector:"cutUpTo:",protocol:"deletion",fn:function(e){for(var t,n=this,r=document.createDocumentFragment(),o=n.reference,s=e.reference;o&&o!=s;)t=o,o=o.nextSibling,r.appendChild(t);return n.reference=o,n._class()._fromElement_(r)},messageSends:[]}),$globals.Domite),$core.addMethod($core.method({selector:"element",protocol:"accessing",fn:function(){return this.element},messageSends:[]}),$globals.Domite),$core.addMethod($core.method({selector:"element:",protocol:"accessing",fn:function(e){var t=this;return this.element=e,t},messageSends:[]}),$globals.Domite),$core.addMethod($core.method({selector:"fire:",protocol:"events",fn:function(e){var t=this;return this._fire_detail_(e,nil._asJavaScriptObject()),t},messageSends:["fire:detail:","asJavaScriptObject"]}),$globals.Domite),$core.addMethod($core.method({selector:"fire:detail:",protocol:"events",fn:function(e,t){var n=this;return this._fireEvent_($recv($globals.PlatformDom)._newCustomEvent_detail_(e,t)),n},messageSends:["fireEvent:","newCustomEvent:detail:"]}),$globals.Domite),$core.addMethod($core.method({selector:"fireEvent:",protocol:"events",fn:function(e){var t=this;return $recv(this._asDomNode())._dispatchEvent_(e),t},messageSends:["dispatchEvent:","asDomNode"]}),$globals.Domite),$core.addMethod($core.method({selector:"initialize",protocol:"initialization",fn:function(){var e=this,t=this;return($globals.Domite.superclass||$boot.nilAsClass).fn.prototype._initialize.apply(t,[]),t.element=$recv(document)._body(),t.reference=nil._asJavaScriptObject(),e},messageSends:["initialize","body","asJavaScriptObject"]}),$globals.Domite),$core.addMethod($core.method({selector:"isInvalid",protocol:"testing",fn:function(){return $recv(this._element())._isNil()},messageSends:["isNil","element"]}),$globals.Domite),$core.addMethod($core.method({selector:"next",protocol:"reading",fn:function(){var e,t=this;if(e=t._atEnd(),$core.assert(e))return nil;var n;return n=t._peek(),t._setToNext(),n},messageSends:["ifTrue:ifFalse:","atEnd","peek","setToNext"]}),$globals.Domite),$core.addMethod($core.method({selector:"nextPut:",protocol:"insertion",fn:function(e){var t=this;return this._nextPutString_($recv(e)._printString()),t},messageSends:["nextPutString:","printString"]}),$globals.Domite),$core.addMethod($core.method({selector:"nextPutDomNode:",protocol:"insertion",fn:function(e){var t=this,n=this;return $recv(n._element())._insertBefore_reference_(e,n._reference()),t},messageSends:["insertBefore:reference:","element","reference"]}),$globals.Domite),$core.addMethod($core.method({selector:"nextPutJSObject:",protocol:"insertion",fn:function(e){var t,n=this,r=this;return t=$recv($globals.PlatformDom)._isDomNode_(e),$core.assert(t)?r._nextPutDomNode_(e):r._nextPut_(e),n},messageSends:["ifTrue:ifFalse:","isDomNode:","nextPutDomNode:","nextPut:"]}),$globals.Domite),$core.addMethod($core.method({selector:"nextPutString:",protocol:"insertion",fn:function(e){var t=this;return this._nextPutDomNode_($recv($recv(e)._asString())._asDomNode()),t},messageSends:["nextPutDomNode:","asDomNode","asString"]}),$globals.Domite),$core.addMethod($core.method({selector:"off:unbind:",protocol:"events",fn:function(e,t){var n=this;return $recv(this._asDomNode())._removeEventListener_block_useCapture_(e,t,!1),n},messageSends:["removeEventListener:block:useCapture:","asDomNode"]}),$globals.Domite),$core.addMethod($core.method({selector:"on:bind:",protocol:"events",fn:function(e,t){var n=this;return $recv(this._asDomNode())._addEventListener_block_useCapture_(e,t,!1),n},messageSends:["addEventListener:block:useCapture:","asDomNode"]}),$globals.Domite),$core.addMethod($core.method({selector:"peek",protocol:"reading",fn:function(){var e,t,n=this;if(e=n._reference(),null==(t=e)||t.a$nil)return e;var r;return r=t,$recv(n._class())._fromElement_(r)},messageSends:["ifNotNil:","reference","fromElement:","class"]}),$globals.Domite),$core.addMethod($core.method({selector:"prev",protocol:"reading",fn:function(){var e=this;return e._deprecatedAPI_("Use #back instead."),e._back()},messageSends:["deprecatedAPI:","back"]}),$globals.Domite),$core.addMethod($core.method({selector:"propAt:",protocol:"accessing",fn:function(e){return $recv(this.element)._at_(e)},messageSends:["at:"]}),$globals.Domite),$core.addMethod($core.method({selector:"propAt:put:",protocol:"accessing",fn:function(e,t){return $recv(this.element)._at_put_(e,t)},messageSends:["at:put:"]}),$globals.Domite),$core.addMethod($core.method({selector:"putOn:",protocol:"streaming",fn:function(e){var t=this,n=this;return $recv(e)._nextPutDomNode_(n._asDomNode()),t},messageSends:["nextPutDomNode:","asDomNode"]}),$globals.Domite),$core.addMethod($core.method({selector:"reference",protocol:"accessing",fn:function(){return this.reference},messageSends:[]}),$globals.Domite),$core.addMethod($core.method({selector:"reference:",protocol:"accessing",fn:function(e){var t=this;return this.reference=e,t},messageSends:[]}),$globals.Domite),$core.addMethod($core.method({selector:"reset",protocol:"positioning",fn:function(){var e=this,t=this;return t._reference_($recv(t._element())._firstChild()),e},messageSends:["reference:","firstChild","element"]}),$globals.Domite),$core.addMethod($core.method({selector:"resetContents",protocol:"deletion",fn:function(){for(var e,t=this,n=this,r=n.element;e=r.firstChild;)r.removeChild(e);return n.reference=null,t},messageSends:[]}),$globals.Domite),$core.addMethod($core.method({selector:"setToAfter",protocol:"positioning",fn:function(){var e,t,n=this,r=this;return e=r._element(),t=$recv(e)._nextSibling(),r._reference_(t),r._element_($recv(r._element())._parentNode()),n},messageSends:["reference:","nextSibling","element","element:","parentNode"]}),$globals.Domite),$core.addMethod($core.method({selector:"setToBack",protocol:"positioning",fn:function(){var e,t,n,r,o=this,s=this;if(e=s._atStart(),!$core.assert(e)){if(t=s._reference(),null==(r=t)||r.a$nil)n=$recv(s._element())._lastChild();else{var a;a=r,n=$recv(a)._previousSibling()}s._reference_(n)}return o},messageSends:["ifFalse:","atStart","reference:","ifNil:ifNotNil:","reference","lastChild","element","previousSibling"]}),$globals.Domite),$core.addMethod($core.method({selector:"setToBefore",protocol:"positioning",fn:function(){var e,t=this,n=this;return e=n._element(),n._reference_(e),n._element_($recv(n._element())._parentNode()),t},messageSends:["reference:","element","element:","parentNode"]}),$globals.Domite),$core.addMethod($core.method({selector:"setToEnd",protocol:"positioning",fn:function(){var e=this;return this._reference_(nil._asJavaScriptObject()),e},messageSends:["reference:","asJavaScriptObject"]}),$globals.Domite),$core.addMethod($core.method({selector:"setToNext",protocol:"positioning",fn:function(){var e,t=this,n=this;return e=n._atEnd(),$core.assert(e)||n._reference_($recv(n._reference())._nextSibling()),t},messageSends:["ifFalse:","atEnd","reference:","nextSibling","reference"]}),$globals.Domite),$core.addMethod($core.method({selector:"setToPrev",protocol:"positioning",fn:function(){var e=this;return e._deprecatedAPI_("Use #setToBack instead"),e._setToBack()},messageSends:["deprecatedAPI:","setToBack"]}),$globals.Domite),$core.addMethod($core.method({selector:"allAt:",protocol:"instance creation",fn:function(e){return this._wrap_($recv($globals.PlatformDom)._toArray_($recv(document)._querySelectorAll_(e)))},messageSends:["wrap:","toArray:","querySelectorAll:"]}),$globals.Domite.a$cls),$core.addMethod($core.method({selector:"at:",protocol:"instance creation",fn:function(e){return this._fromElement_($recv(document)._querySelector_(e))},messageSends:["fromElement:","querySelector:"]}),$globals.Domite.a$cls),$core.addMethod($core.method({selector:"fromElement:",protocol:"instance creation",fn:function(e){var t,n,r,o=this;return null==(r=e)||r.a$nil||(t=$recv($globals.PlatformDom)._isDomNode_(e),$core.assert(t)||o._error_($recv(o._name()).__comma(": Need a DOM node"))),n=o._new(),$recv(n)._element_(e),$recv(n)._yourself()},messageSends:["ifNotNil:","ifFalse:","isDomNode:","error:",",","name","element:","new","yourself"]}),$globals.Domite.a$cls),$core.addMethod($core.method({selector:"fromElement:cursorBefore:",protocol:"instance creation",fn:function(e,t){var n,r=this;return n=r._fromElement_(e),$recv(n)._reference_(t),$recv(n)._yourself()},messageSends:["reference:","fromElement:","yourself"]}),$globals.Domite.a$cls),$core.addMethod($core.method({selector:"newElement:",protocol:"instance creation",fn:function(e){return this._fromElement_($recv(document)._createElement_(e))},messageSends:["fromElement:","createElement:"]}),$globals.Domite.a$cls),$core.addMethod($core.method({selector:"newElement:xmlns:",protocol:"instance creation",fn:function(e,t){return this._fromElement_($recv(document)._createElementNS_tagName_(t,e))},messageSends:["fromElement:","createElementNS:tagName:"]}),$globals.Domite.a$cls),$core.addMethod($core.method({selector:"newStream",protocol:"instance creation",fn:function(){return this._fromElement_([]._asDomNode())},messageSends:["fromElement:","asDomNode"]}),$globals.Domite.a$cls),$core.addMethod($core.method({selector:"wrap:",protocol:"converting",fn:function(e){var t=this;return $recv(e)._collect_(function(e){return t._fromElement_(e)})},messageSends:["collect:","fromElement:"]}),$globals.Domite.a$cls),$core.addMethod($core.method({selector:"nextPutDomNode:",protocol:"*DOMite",fn:function(e){var t=this;return this._nextPut_(e),t},messageSends:["nextPut:"]}),$globals.ProtoStream)}),define("silk/Silk",["amber/boot","require","amber/core/Kernel-Collections","amber/core/Kernel-Infrastructure","amber/core/Kernel-Methods","amber/core/Kernel-Objects","domite/DOMite"],function($boot,requirejs){"use strict";var $core=$boot.api,nil=$boot.nilAsValue,$nil=$boot.nilAsReceiver,$recv=$boot.asReceiver,$globals=$boot.globals,$pkg=$core.addPackage("Silk");$pkg.innerEval=function(expr){return eval(expr)},$pkg.transport={type:"amd",amdNamespace:"silk"},$core.addClass("Silk",$globals.Domite,[],"Silk"),$core.addMethod($core.method({selector:"namespace",protocol:"accessing",pragmas:[],messageSends:["namespaceURI","element"]},function(e){return function(){return $recv(this._element())._namespaceURI()}}),$globals.Silk),$core.addMethod($core.method({selector:"newElement:xmlns:",protocol:"writing",pragmas:[],messageSends:["newElement:xmlns:","class","<<"]},function(e){return function(e,t){var n,r=this;return n=$recv(r._class())._newElement_xmlns_(e,t),r.__lt_lt(n),n}}),$globals.Silk),$core.addMethod($core.method({selector:"nextPut:",protocol:"writing",pragmas:[],messageSends:["ifNil:","renderOnSilk:","nextPut:"]},function(e){return function(t){var n,r=this,o=this;return n=$recv(t)._renderOnSilk_(r),(null==n||n.a$nil)&&(e.superclass||$boot.nilAsClass).fn.prototype._nextPut_.call(o,t),r}}),$globals.Silk),$core.addMethod($core.method({selector:"htmlNamespace",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return"http://www.w3.org/1999/xhtml"}}),$globals.Silk.a$cls),$core.addMethod($core.method({selector:"namespace",protocol:"accessing",pragmas:[],messageSends:["htmlNamespace"]},function(e){return function(){return this._htmlNamespace()}}),$globals.Silk.a$cls),$core.addTrait("TSilkBuilder","Silk"),$core.addMethod($core.method({selector:"doesNotUnderstand:",protocol:"message handling",pragmas:[],messageSends:["ifNil:","tryMakeDnuElement:","doesNotUnderstand:"]},function(e){return function(t){var n,r=this;return n=r._tryMakeDnuElement_(t),null==n||n.a$nil?[(e.superclass||$boot.nilAsClass).fn.prototype._doesNotUnderstand_.call(r,t)][0]:n}}),$globals.TSilkBuilder),$core.addMethod($core.method({selector:"newSvgElement",protocol:"convenience",pragmas:[],messageSends:["newElement:xmlns:"]},function(e){return function(){return this._newElement_xmlns_("svg","http://www.w3.org/2000/svg")}}),$globals.TSilkBuilder),$core.addMethod($core.method({selector:"tryMakeDnuElement:",protocol:"instance creation",pragmas:[],messageSends:["selector","ifFalse:","=","asUppercase","ifTrue:ifFalse:","last","allButLast","ifTrue:","includes:","newElement:xmlns:","asLowercase","namespace","<<","first","arguments"]},function(e){return function(e){var t,n,r,o=this;return t=$recv(e)._selector(),$core.assert([$recv($recv(t)._asUppercase()).__eq(t)][0])?($core.assert($recv($recv(t)._last()).__eq(":"))?(r=!0,t=$recv(t)._allButLast()):r=!1,$core.assert($recv(t)._includes_(":"))?nil:(n=o._newElement_xmlns_($recv(t)._asLowercase(),o._namespace()),$core.assert(r)&&$recv(n).__lt_lt($recv($recv(e)._arguments())._first()),n)):nil}}),$globals.TSilkBuilder),$core.setTraitComposition([{trait:$globals.TSilkBuilder}],$globals.Silk),$core.setTraitComposition([{trait:$globals.TSilkBuilder}],$globals.Silk.a$cls),$core.addMethod($core.method({selector:"renderOnSilk:",protocol:"*Silk",pragmas:[],messageSends:["attrPut:on:"]},function(e){return function(e){var t=this,n=this;return $recv(n.key)._attrPut_on_(n.value,e),t}}),$globals.Association),$core.addMethod($core.method({selector:"renderOnSilk:",protocol:"*Silk",pragmas:[],messageSends:["value:"]},function(e){return function(e){var t=this;return this._value_(e),t}}),$globals.BlockClosure),$core.addMethod($core.method({selector:"inSilk",protocol:"*Silk",pragmas:[],messageSends:["<<","newStream","yourself"]},function(e){return function(){var e,t=this;return e=$recv($globals.Silk)._newStream(),$recv(e).__lt_lt(t),$recv(e)._yourself()}}),$globals.JSObjectProxy),$core.addMethod($core.method({selector:"renderOnSilk:",protocol:"*Silk",pragmas:[],messageSends:[]},function(e){return function(e){return nil}}),$globals.JSObjectProxy),$core.addMethod($core.method({selector:"inSilk",protocol:"*Silk",pragmas:[],messageSends:["<<","newStream","yourself"]},function(e){return function(){var e,t=this;return e=$recv($globals.Silk)._newStream(),$recv(e).__lt_lt(t),$recv(e)._yourself()}}),$globals.Object),$core.addMethod($core.method({selector:"renderOnSilk:",protocol:"*Silk",pragmas:[],messageSends:[]},function(e){return function(e){return nil}}),$globals.Object),$core.addMethod($core.method({selector:"asSilk",protocol:"*Silk",pragmas:[],messageSends:["at:","asString"]},function(e){return function(){var e=this;return $recv($globals.Silk)._at_(e._asString())}}),$globals.String),$core.addMethod($core.method({selector:"attrPut:on:",protocol:"*Silk",pragmas:[],messageSends:["attrAt:put:"]},function(e){return function(e,t){var n=this;return $recv(t)._attrAt_put_(n,e),n}}),$globals.String)}),define("amber-miesmuschel/Miesmuschel",["amber/boot","require","amber/core/Kernel-Objects"],function(e,t){"use strict";var n=e.api,r=(e.nilAsValue,e.nilAsReceiver,e.asReceiver),o=e.globals,s=n.addPackage("Miesmuschel");s.imports=["amber/web/Web","amber/web/Web-JQuery","silk/Silk"],s.isReady=new Promise(function(e,n){t(["amber/web/Web","amber/web/Web-JQuery","silk/Silk"],function(){e()},n)}),s.transport={type:"amd",amdNamespace:"amber-miesmuschel"},n.addClass("Miesmuschel",o.Object,"Miesmuschel"),n.setSlots(o.Miesmuschel,["muschelDiv","random","antwortDiv","input","button","gespeicherteAntworten"]),n.addMethod(n.method({selector:"antwortDiv",protocol:"accessing",pragmas:[],messageSends:["ifNil:","DIV"]},function(e){return function(){var e,t=this;return e=t.antwortDiv,null==e||e.a$nil?(t.antwortDiv=r(o.Silk)._DIV(),t.antwortDiv):e}}),o.Miesmuschel),n.addMethod(n.method({selector:"antwortliste",protocol:"accessing",pragmas:[],messageSends:["kindlyNodding","hellNo","wellWell","ohYeah","frustratedKermit","crazyYeah","shrekAndDonkey","donkeyShakingHead","thumbsUp","slothNo"]},function(e){return function(){var e=this;return["Heute nicht...","Ja, Mann!","Auf keinen Fall.","Frag mich morgen nochmal.",e._kindlyNodding(),e._hellNo(),e._wellWell(),e._ohYeah(),e._frustratedKermit(),e._crazyYeah(),e._shrekAndDonkey(),e._donkeyShakingHead(),e._thumbsUp(),e._slothNo()]}}),o.Miesmuschel),n.addMethod(n.method({selector:"augmentPage",protocol:"starting",pragmas:[],messageSends:["DIV:","new","->","muschelDiv","input","button","antwortDiv"]},function(e){return function(){var e=this,t=this;return r(r(o.Silk)._new())._DIV_(["class".__minus_gt("intro"),t._muschelDiv(),r(o.Silk)._DIV_("Gib eine Ja/Nein-Frage ein:"),t._input(),t._button(),t._antwortDiv()]),e}}),o.Miesmuschel),n.addMethod(n.method({selector:"button",protocol:"accessing",pragmas:[],messageSends:["ifNil:","BUTTON:","on:bind:","zeigeAntwort"]},function(e){return function(){var e,t=this;if(null==(e=t.button)||e.a$nil){var n;return n=r(o.Silk)._BUTTON_(""),r(n)._on_bind_("click",function(){return t._zeigeAntwort()}),t.button=n,t.button}return e}}),o.Miesmuschel),n.addMethod(n.method({selector:"crazyYeah",protocol:"accessing images",pragmas:[],messageSends:["IMG:","->"]},function(e){return function(){return r(o.Silk)._IMG_([["src".__minus_gt("https://media.giphy.com/media/10Jpr9KSaXLchW/giphy.gif")][0],"alt".__minus_gt("crazy yeah")])}}),o.Miesmuschel),n.addMethod(n.method({selector:"donkeyShakingHead",protocol:"accessing images",pragmas:[],messageSends:["IMG:","->"]},function(e){return function(){return r(o.Silk)._IMG_([["src".__minus_gt("https://media.giphy.com/media/Sr9NHwRKlsD3unMK43/giphy.gif")][0],"alt".__minus_gt("donkey shaking head")])}}),o.Miesmuschel),n.addMethod(n.method({selector:"enthaltenInCollection:",protocol:"testing",pragmas:[],messageSends:["anySatisfy:","gespeicherteAntworten","ist:gleich:"]},function(e){return function(e){var t=this;return r(t._gespeicherteAntworten())._anySatisfy_(function(n){return t._ist_gleich_(n,e)})}}),o.Miesmuschel),n.addMethod(n.method({selector:"ermittleAntwort",protocol:"actions",pragmas:[],messageSends:["zufaelligeAntwort","ifTrue:","enthaltenInCollection:","ermittleAntwort","addFirst:","gespeicherteAntworten","=","size","removeLast"]},function(e){return function(){var e,t=this;return e=t._zufaelligeAntwort(),n.assert(t._enthaltenInCollection_(e))?t._ermittleAntwort():(r([t._gespeicherteAntworten()][0])._addFirst_(e),n.assert(r(r([t._gespeicherteAntworten()][0])._size()).__eq(4))&&r(t._gespeicherteAntworten())._removeLast(),e)}}),o.Miesmuschel),n.addMethod(n.method({selector:"frustratedKermit",protocol:"accessing images",pragmas:[],messageSends:["IMG:","->"]},function(e){return function(){return r(o.Silk)._IMG_([["src".__minus_gt("https://media.giphy.com/media/oyFyFiXz0hrnG/giphy.gif")][0],"alt".__minus_gt("frustrated Kermit")])}}),o.Miesmuschel),n.addMethod(n.method({selector:"gespeicherteAntworten",protocol:"accessing",pragmas:[],messageSends:["ifNil:","new"]},function(e){return function(){var e,t=this;return e=t.gespeicherteAntworten,null==e||e.a$nil?(t.gespeicherteAntworten=r(o.OrderedCollection)._new(),t.gespeicherteAntworten):e}}),o.Miesmuschel),n.addMethod(n.method({selector:"hellNo",protocol:"accessing images",pragmas:[],messageSends:["IMG:","->"]},function(e){return function(){return r(o.Silk)._IMG_([["src".__minus_gt("https://media.giphy.com/media/12XMGIWtrHBl5e/giphy.gif")][0],"alt".__minus_gt("hell no!")])}}),o.Miesmuschel),n.addMethod(n.method({selector:"initialisiereMuschelBild",protocol:"actions",pragmas:[],messageSends:["resetContents","muschelDiv","<<","->","muschelBild"]},function(e){return function(){var e=this,t=this;return r([t._muschelDiv()][0])._resetContents(),r(t._muschelDiv()).__lt_lt(["ID".__minus_gt("muschel"),t._muschelBild()]),e}}),o.Miesmuschel),n.addMethod(n.method({selector:"input",protocol:"accessing",pragmas:[],messageSends:["ifNil:","INPUT:","->","on:bind:","ifTrue:","=","keyCode","zeigeAntwort"]},function(e){return function(){var e,t=this;if(null==(e=t.input)||e.a$nil){var s;return s=r(o.Silk)._INPUT_(["class".__minus_gt("input")]),r(s)._on_bind_("keydown",function(e){if(n.assert(r(r(e)._keyCode()).__eq(13)))return t._zeigeAntwort()}),t.input=s,t.input}return e}}),o.Miesmuschel),n.addMethod(n.method({selector:"ist:gleich:",protocol:"testing",pragmas:[],messageSends:["ifFalse:","=","class","ifTrue:","isKindOf:","src","element"]},function(e){return function(e,t){return!!n.assert([r([r(e)._class()][0]).__eq(r(t)._class())][0])&&(n.assert(r(e)._isKindOf_(o.Silk))?[r([r([r(e)._element()][0])._src()][0]).__eq(r(r(t)._element())._src())][0]:r(e).__eq(t))}}),o.Miesmuschel),n.addMethod(n.method({selector:"kindlyNodding",protocol:"accessing images",pragmas:[],messageSends:["IMG:","->"]},function(e){return function(){return r(o.Silk)._IMG_([["src".__minus_gt("https://media.giphy.com/media/NEvPzZ8bd1V4Y/giphy.gif")][0],"alt".__minus_gt("kindly nodding")])}}),o.Miesmuschel),n.addMethod(n.method({selector:"muschelBild",protocol:"accessing images",pragmas:[],messageSends:["IMG:","->"]},function(e){return function(){return r(o.Silk)._IMG_([["src".__minus_gt("https://static.giga.de/wp-content/uploads/2013/07/magische-miesmuschel-rcm625x0u.jpg")][0],"alt".__minus_gt("Miesmuschel")])}}),o.Miesmuschel),n.addMethod(n.method({selector:"muschelDiv",protocol:"accessing",pragmas:[],messageSends:["ifNil:","DIV","initialisiereMuschelBild"]},function(e){return function(){var e,t=this;return e=t.muschelDiv,null==e||e.a$nil?(t.muschelDiv=r(o.Silk)._DIV(),t._initialisiereMuschelBild(),t.muschelDiv):e}}),o.Miesmuschel),n.addMethod(n.method({selector:"ohYeah",protocol:"accessing images",pragmas:[],messageSends:["IMG:","->"]},function(e){return function(){return r(o.Silk)._IMG_([["src".__minus_gt("https://media.giphy.com/media/bzE1WAm8BifiE/giphy.gif")][0],"alt".__minus_gt("oh yeah...")])}}),o.Miesmuschel),n.addMethod(n.method({selector:"random",protocol:"accessing",pragmas:[],messageSends:["ifNil:","new"]},function(e){return function(){var e,t=this;return e=t.random,null==e||e.a$nil?(t.random=r(o.Random)._new(),t.random):e}}),o.Miesmuschel),n.addMethod(n.method({selector:"setzeAntwortBild:",protocol:"actions",pragmas:[],messageSends:["resetContents","muschelDiv","<<","DIV:","->"]},function(e){return function(e){var t=this,n=this;return r([n._muschelDiv()][0])._resetContents(),r(n._muschelDiv()).__lt_lt(r(o.Silk)._DIV_(["class".__minus_gt("antwortbild"),e])),t}}),o.Miesmuschel),n.addMethod(n.method({selector:"setzeAntwortText:",protocol:"actions",pragmas:[],messageSends:["initialisiereMuschelBild","<<","antwortDiv","DIV:","->","sprechblase","P:"]},function(e){return function(e){var t=this,n=this;return n._initialisiereMuschelBild(),r(n._antwortDiv()).__lt_lt([r(o.Silk)._DIV_([["class".__minus_gt("answer")][0],n._sprechblase(),r(o.Silk)._DIV_(["class".__minus_gt("text"),r(o.Silk)._P_(e)])])][0]),t}}),o.Miesmuschel),n.addMethod(n.method({selector:"shrekAndDonkey",protocol:"accessing images",pragmas:[],messageSends:["IMG:","->"]},function(e){return function(){return r(o.Silk)._IMG_([["src".__minus_gt("https://media.giphy.com/media/pKBZfGcYcgzrG/giphy.gif")][0],"alt".__minus_gt("shrek n donkey")])}}),o.Miesmuschel),n.addMethod(n.method({selector:"slothNo",protocol:"accessing images",pragmas:[],messageSends:["IMG:","->"]},function(e){return function(){return r(o.Silk)._IMG_([["src".__minus_gt("https://media.giphy.com/media/RddAJiGxTPQFa/giphy.gif")][0],"alt".__minus_gt("how about... no")])}}),o.Miesmuschel),n.addMethod(n.method({selector:"sprechblase",protocol:"accessing images",pragmas:[],messageSends:["IMG:","->"]},function(e){return function(){return r(o.Silk)._IMG_([["src".__minus_gt("https://www.freeiconspng.com/uploads/speech-bubble-png-22.png")][0],"alt".__minus_gt("Sprechblase")])}}),o.Miesmuschel),n.addMethod(n.method({selector:"thumbsUp",protocol:"accessing images",pragmas:[],messageSends:["IMG:","->"]},function(e){return function(){return r(o.Silk)._IMG_([["src".__minus_gt("https://media.giphy.com/media/Sr9NHwRKlsD3unMK43/giphy.gif")][0],"alt".__minus_gt("thumbs up")])}}),o.Miesmuschel),n.addMethod(n.method({selector:"wellWell",protocol:"accessing images",pragmas:[],messageSends:["IMG:","->"]},function(e){return function(){return r(o.Silk)._IMG_([["src".__minus_gt("https://media.giphy.com/media/3o7aDbJJV5n7Y6KgkU/giphy.gif")][0],"alt".__minus_gt("well well")])}}),o.Miesmuschel),n.addMethod(n.method({selector:"zeigeAntwort",protocol:"actions",pragmas:[],messageSends:["resetContents","antwortDiv","ifEmpty:","value","element","input","initialisiereMuschelBild","value:","<<","DIV:","ermittleAntwort","ifTrue:ifFalse:","isKindOf:","setzeAntwortBild:","setzeAntwortText:"]},function(e){return function(){var e,t,s=this,a=this,i={};try{return r([a._antwortDiv()][0])._resetContents(),e=r(r([r([a._input()][0])._element()][0])._value())._ifEmpty_(function(){throw a._initialisiereMuschelBild(),i=[s]}),r(r(a._input())._element())._value_(""),r(a._antwortDiv()).__lt_lt(r(o.Silk)._DIV_(e)),t=a._ermittleAntwort(),n.assert(r(t)._isKindOf_(o.Silk))?a._setzeAntwortBild_(t):a._setzeAntwortText_(t),s}catch(e){if(e===i)return e[0];throw e}}}),o.Miesmuschel),n.addMethod(n.method({selector:"zufaelligeAntwort",protocol:"accessing",pragmas:[],messageSends:["antwortliste","rounded","*","next","random","-","size","at:","+"]},function(e){return function(){var e,t,n=this;return e=n._antwortliste(),t=r(r(r(n._random())._next()).__star(r(r(e)._size()).__minus(1)))._rounded(),r(e)._at_(r(t).__plus(1))}}),o.Miesmuschel),n.addMethod(n.method({selector:"start",protocol:"starting",pragmas:[],messageSends:["augmentPage","new"]},function(e){return function(){var e=this;return r(this._new())._augmentPage(),e}}),o.Miesmuschel.a$cls),n.addMethod(n.method({selector:"todo",protocol:"starting",pragmas:[],messageSends:[]},function(e){return function(){return"Keine Aktion bei leerem Inputfield"}}),o.Miesmuschel.a$cls)}),define("deploy",["amber/deploy","amber-miesmuschel/Miesmuschel"],function(e){return e}),define("amber/core/Platform-Browser",["amber/boot","require","amber/core/Kernel-Objects"],function(e,t){"use strict";var n=e.api,r=(e.nilAsValue,e.nilAsReceiver,e.asReceiver),o=e.globals,s=n.addPackage("Platform-Browser");s.imports=["amber/core/Platform-Services"],s.isReady=new Promise(function(e,n){t(["amber/core/Platform-Services"],function(){e()},n)}),s.transport={type:"amd",amdNamespace:"amber/core"},n.addClass("BrowserPlatform",o.Object,"Platform-Browser"),n.addMethod(n.method({selector:"fetch:",protocol:"public API",pragmas:[],messageSends:["at:ifPresent:ifAbsent:","globals","value:","signal:"]},function(e){return function(e){return r(this._globals())._at_ifPresent_ifAbsent_("fetch",function(t){return r(t)._value_(e)},function(){return r(o.Promise)._signal_("fetch not available.")})}}),o.BrowserPlatform),
n.addMethod(n.method({selector:"fetchUrl:options:",protocol:"public API",pragmas:[],messageSends:["at:ifPresent:ifAbsent:","globals","value:value:","signal:"]},function(e){return function(e,t){return r(this._globals())._at_ifPresent_ifAbsent_("fetch",function(n){return r(n)._value_value_(e,t)},function(){return r(o.Promise)._signal_("fetch not available.")})}}),o.BrowserPlatform),n.addMethod(n.method({selector:"globals",protocol:"accessing",pragmas:[],messageSends:[]},function(e){return function(){return window}}),o.BrowserPlatform),n.addMethod(n.method({selector:"initialize",protocol:"public API",pragmas:[],messageSends:["addEventListener:do:","handleError:","error","reason"]},function(e){return function(){var e,t=this;return e=window,r(e)._addEventListener_do_("error",function(e){return[r(o.ErrorHandler)._handleError_(r(e)._error())][0]}),r(e)._addEventListener_do_("unhandledrejection",function(e){return r(o.ErrorHandler)._handleError_(r(e)._reason())}),t}}),o.BrowserPlatform),n.addMethod(n.method({selector:"newXhr",protocol:"public API",pragmas:[],messageSends:["ifNotNil:ifNil:","constructorOf:","error:"]},function(e){return function(){var e,t=this,n=this;return null==(e=o.XMLHttpRequest)||e.a$nil?(n._error_("XMLHttpRequest not available."),t):r(o.NativeFunction)._constructorOf_(o.XMLHttpRequest)}}),o.BrowserPlatform),n.addMethod(n.method({selector:"initialize",protocol:"testing",pragmas:[],messageSends:["ifTrue:","isFeasible","registerIfNone:","new"]},function(e){return function(){var e=this,t=this;return n.assert(t._isFeasible())&&r(o.Platform)._registerIfNone_(t._new()),e}}),o.BrowserPlatform.a$cls),n.addMethod(n.method({selector:"isFeasible",protocol:"testing",pragmas:[["inlineJS:",['return typeof window !== "undefined"']]],messageSends:[]},function(e){return function(){return"undefined"!=typeof window}}),o.BrowserPlatform.a$cls),n.addClass("BrowserTerminal",o.Object,"Platform-Browser"),n.addMethod(n.method({selector:"alert:",protocol:"actions",pragmas:[],messageSends:["alert:"]},function(e){return function(e){return r(window)._alert_(e)}}),o.BrowserTerminal),n.addMethod(n.method({selector:"confirm:",protocol:"actions",pragmas:[],messageSends:["confirm:"]},function(e){return function(e){return r(window)._confirm_(e)}}),o.BrowserTerminal),n.addMethod(n.method({selector:"prompt:",protocol:"actions",pragmas:[],messageSends:["prompt:"]},function(e){return function(e){return r(window)._prompt_(e)}}),o.BrowserTerminal),n.addMethod(n.method({selector:"prompt:default:",protocol:"actions",pragmas:[],messageSends:["prompt:default:"]},function(e){return function(e,t){return r(window)._prompt_default_(e,t)}}),o.BrowserTerminal),n.addMethod(n.method({selector:"initialize",protocol:"testing",pragmas:[],messageSends:["ifTrue:","isFeasible","registerIfNone:","new"]},function(e){return function(){var e=this,t=this;return n.assert(t._isFeasible())&&r(o.Terminal)._registerIfNone_(t._new()),e}}),o.BrowserTerminal.a$cls),n.addMethod(n.method({selector:"isFeasible",protocol:"testing",pragmas:[["inlineJS:",['return typeof window !== "undefined"']]],messageSends:[]},function(e){return function(){return"undefined"!=typeof window}}),o.BrowserTerminal.a$cls),n.addMethod(n.method({selector:"postMessageTo:",protocol:"*Platform-Browser",pragmas:[],messageSends:["postMessageTo:origin:"]},function(e){return function(e){return this._postMessageTo_origin_(e,"*")}}),o.Object),n.addMethod(n.method({selector:"postMessageTo:origin:",protocol:"*Platform-Browser",pragmas:[["inlineJS:",["return aFrame.postMessage(self, aString)"]]],messageSends:[]},function(e){return function(e,t){var n=this;return e.postMessage(n,t)}}),o.Object)}),define("app/main",["deploy","amber/core/Platform-Browser"],function(e){return e}),define("app",["require","es6-promise/auto"],function(e){return new Promise(function(t,n){e(["app/main"],t,n)})});